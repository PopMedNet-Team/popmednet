{"version":3,"sources":["kendo.menu.js"],"names":["f","define","$","undefined","getEffectDirection","direction","root","split","replace","parseDirection","isRtl","output","origin","position","horizontal","test","kendo","directions","reverse","join","contains","parent","child","e","updateItemClasses","item","addClass","children","IMG","IMAGE","LINK","filter","DEFAULTSTATE","empty","append","DISABLEDSTATE","removeAttr","attr","length","contents","this","nodeName","match","excludedNodesRegExp","nodeType","trim","nodeValue","wrapAll","updateArrow","updateFirstLast","find","remove","each","arrowCssClass","getArrowCssClass","support","hasClass","MENU","removeClass","FIRST","LAST","storeItemSelectEventHandler","element","options","selectHandler","getItemSelectEventHandler","setItemData","items","i","data","select","isFunction","ContextMenu","window","ui","activeElement","_activeElement","touch","mobileOS","MOUSEDOWN","CLICK","extend","proxy","template","keys","Widget","NS","OPEN","CLOSE","TIMER","SELECT","ZINDEX","ACTIVATE","DEACTIVATE","POINTERDOWN","pointers","msPointers","allPointers","MOUSEENTER","MOUSELEAVE","mobile","DOCUMENT_ELEMENT","document","documentElement","KENDOPOPUP","HOVERSTATE","FOCUSEDSTATE","SELECTEDSTATE","menuSelector","groupSelector","popupSelector","allItemsSelector","disabledSelector","itemSelector","linkSelector","exclusionSelector","nextSelector","lastSelector","templateSelector","touchPointerTypes","2","templates","content","group","itemWrapper","image","arrow","sprite","rendering","wrapperCssClass","result","index","enabled","firstLevel","cssClass","hasOwnProperty","selected","itemCssAttributes","attributes","imageCssAttributes","imageAttr","contentCssAttributes","contentAttr","defaultClasses","textClass","textAttributes","url","arrowClass","text","encoded","htmlEncode","tag","groupAttributes","expanded","groupCssClass","Menu","init","that","fn","call","wrapper","_initData","_updateClasses","_animations","nextItemZIndex","_tabindex","_focusProxy","_focusHandler","on","_click","_keydown","_focus","_preventClose","_removeHoverItem","_checkActiveElement","_mouseenter","_mouseleave","_toggleHover","openOnClick","clicked","_documentClickHandler","_documentClick","click","id","_ariaId","format","notify","events","name","animation","open","duration","close","orientation","closeOnClick","hoverDelay","popupCollision","dataSource","angular","elements","setOptions","destroy","off","unbind","enable","_toggleDisabled","disable","referenceItem","inserted","_insert","add","insertBefore","before","insertAfter","after","groups","plain","groupData","isPlainObject","renderGroup","appendTo","isArray","map","value","idx","get","renderItem","charAt","container","parentsUntil","eq","siblings","popup","li","clearTimeout","setTimeout","windowHeight","setScrolling","parentHorizontal","effects","openEffects","ul","_triggerEvent","type","height","css","maxHeight","_outerHeight","getShadows","bottom","overflow","browser","msie","version","kendoPopup","activate","deactivate","sender","removeData","opacity","collision","anchor","preventDefault","dontClearClose","_isRootItem","toggleClass","target","eventTarget","closest","isEnter","indexOf","parents","_closurePrevented","hoverItem","currentTarget","_hoverItem","_findRootParent","hasFocus","oldHoverItem","_oldHoverItem","nonContentGroupsSelector","matchesSelector","is","end","hasChildren","delegateTarget","originalEvent","pointerType","relatedTarget","_","sibling","stopImmediatePropagation","openHandle","childGroup","childGroupVisible","targetElement","toUpperCase","formNode","link","itemElement","href","targetHref","sampleHref","isLink","isLocalLink","isTargetLink","shouldCloseTheRootItem","parentNode","handled","_triggerSelect","enterKey","itemSelectEventData","isSelectItemDefaultPrevented","isSelectDefaultPrevented","_getEventData","isDefaultPrevented","eventData","_defaultPrevented","active","_moveHover","first","stopPropagation","focus","belongsToVertical","key","keyCode","ESC","_itemBelongsToVertival","_itemHasChildren","RIGHT","LEFT","DOWN","_itemDown","UP","_itemUp","_itemEsc","ENTER","SPACEBAR","TAB","menuIsVertical","nextItem","last","_itemRight","parentItem","nextAll","prevAll","_itemLeft","trigger","hide","menu","imageUrl","spriteCssClass","renderContent","subGroup","renderItems","html","len","_marker","guid","substring","_popup","_wire","showOn","alignToAnchor","_showProxy","userEvents","unwrap","mousedown","_closeProxy","x","y","visible","kendoStop","downEvent","_mousedownProxy","arguments","_closeTimeoutProxy","_showHandler","offset","ev","event","pageX","location","pageY","_eventOrigin","_targetChild","left","top","_closeHandler","normalClick","sameTarget","selector","containment","which","bind","UserEvents","allowSelection","_triggerProxy","copyAnchorStyles","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.menu.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.menu', ['kendo.popup'], f);\n}(function () {\n    var __meta__ = {\n        id: 'menu',\n        name: 'Menu',\n        category: 'web',\n        description: 'The Menu widget displays hierarchical data as a multi-level menu.',\n        depends: ['popup']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, activeElement = kendo._activeElement, touch = kendo.support.touch && kendo.support.mobileOS, MOUSEDOWN = 'mousedown', CLICK = 'click', extend = $.extend, proxy = $.proxy, each = $.each, template = kendo.template, keys = kendo.keys, Widget = ui.Widget, excludedNodesRegExp = /^(ul|a|div)$/i, NS = '.kendoMenu', IMG = 'img', OPEN = 'open', MENU = 'k-menu', LINK = 'k-link', LAST = 'k-last', CLOSE = 'close', TIMER = 'timer', FIRST = 'k-first', IMAGE = 'k-image', SELECT = 'select', ZINDEX = 'zIndex', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', POINTERDOWN = 'touchstart' + NS + ' MSPointerDown' + NS + ' pointerdown' + NS, pointers = kendo.support.pointers, msPointers = kendo.support.msPointers, allPointers = msPointers || pointers, MOUSEENTER = pointers ? 'pointerover' : msPointers ? 'MSPointerOver' : 'mouseenter', MOUSELEAVE = pointers ? 'pointerout' : msPointers ? 'MSPointerOut' : 'mouseleave', mobile = touch || allPointers, DOCUMENT_ELEMENT = $(document.documentElement), KENDOPOPUP = 'kendoPopup', DEFAULTSTATE = 'k-state-default', HOVERSTATE = 'k-state-hover', FOCUSEDSTATE = 'k-state-focused', DISABLEDSTATE = 'k-state-disabled', SELECTEDSTATE = 'k-state-selected', menuSelector = '.k-menu', groupSelector = '.k-menu-group', popupSelector = groupSelector + ',.k-animation-container', allItemsSelector = ':not(.k-list) > .k-item', disabledSelector = '.k-item.k-state-disabled', itemSelector = '.k-item:not(.k-state-disabled)', linkSelector = '.k-item:not(.k-state-disabled) > .k-link', exclusionSelector = ':not(.k-item.k-separator)', nextSelector = exclusionSelector + ':eq(0)', lastSelector = exclusionSelector + ':last', templateSelector = 'div:not(.k-animation-container,.k-list-container)', touchPointerTypes = {\n                '2': 1,\n                'touch': 1\n            }, templates = {\n                content: template('<div #= contentCssAttributes(item) # tabindex=\\'-1\\'>#= content(item) #</div>'),\n                group: template('<ul class=\\'#= groupCssClass(group) #\\'#= groupAttributes(group) # role=\\'menu\\' aria-hidden=\\'true\\'>' + '#= renderItems(data) #' + '</ul>'),\n                itemWrapper: template('<#= tag(item) # class=\\'#= textClass(item) #\\'#= textAttributes(item) #>' + '#= image(data) ##= sprite(item) ##= text(item) #' + '#= arrow(data) #' + '</#= tag(item) #>'),\n                item: template('<li class=\\'#= wrapperCssClass(group, item) #\\' #= itemCssAttributes(item) # role=\\'menuitem\\'  #=item.items ? \"aria-haspopup=\\'true\\'\": \"\"#' + '#=item.enabled === false ? \"aria-disabled=\\'true\\'\" : \\'\\'#>' + '#= itemWrapper(data) #' + '# if (item.items) { #' + '#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #' + '# } else if (item.content || item.contentUrl) { #' + '#= renderContent(data) #' + '# } #' + '</li>'),\n                image: template('<img #= imageCssAttributes(item) # alt=\\'\\' src=\\'#= item.imageUrl #\\' />'),\n                arrow: template('<span class=\\'#= arrowClass(item, group) #\\'></span>'),\n                sprite: template('<span class=\\'k-sprite #= spriteCssClass #\\'></span>'),\n                empty: template('')\n            }, rendering = {\n                wrapperCssClass: function (group, item) {\n                    var result = 'k-item', index = item.index;\n                    if (item.enabled === false) {\n                        result += ' k-state-disabled';\n                    } else {\n                        result += ' k-state-default';\n                    }\n                    if (group.firstLevel && index === 0) {\n                        result += ' k-first';\n                    }\n                    if (index == group.length - 1) {\n                        result += ' k-last';\n                    }\n                    if (item.cssClass) {\n                        result += ' ' + item.cssClass;\n                    }\n                    if (item.attr && item.attr.hasOwnProperty('class')) {\n                        result += ' ' + item.attr['class'];\n                    }\n                    if (item.selected) {\n                        result += ' ' + SELECTEDSTATE;\n                    }\n                    return result;\n                },\n                itemCssAttributes: function (item) {\n                    var result = '';\n                    var attributes = item.attr || {};\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr) && attr !== 'class') {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                imageCssAttributes: function (item) {\n                    var result = '';\n                    var attributes = item.imageAttr || {};\n                    if (!attributes['class']) {\n                        attributes['class'] = IMAGE;\n                    } else {\n                        attributes['class'] += ' ' + IMAGE;\n                    }\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr)) {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                contentCssAttributes: function (item) {\n                    var result = '';\n                    var attributes = item.contentAttr || {};\n                    var defaultClasses = 'k-content k-group k-menu-group';\n                    if (!attributes['class']) {\n                        attributes['class'] = defaultClasses;\n                    } else {\n                        attributes['class'] += ' ' + defaultClasses;\n                    }\n                    for (var attr in attributes) {\n                        if (attributes.hasOwnProperty(attr)) {\n                            result += attr + '=\"' + attributes[attr] + '\" ';\n                        }\n                    }\n                    return result;\n                },\n                textClass: function () {\n                    return LINK;\n                },\n                textAttributes: function (item) {\n                    return item.url ? ' href=\\'' + item.url + '\\'' : '';\n                },\n                arrowClass: function (item, group) {\n                    var result = 'k-icon';\n                    if (group.horizontal) {\n                        result += ' k-i-arrow-60-down';\n                    } else {\n                        result += ' k-i-arrow-60-right';\n                    }\n                    return result;\n                },\n                text: function (item) {\n                    return item.encoded === false ? item.text : kendo.htmlEncode(item.text);\n                },\n                tag: function (item) {\n                    return item.url ? 'a' : 'span';\n                },\n                groupAttributes: function (group) {\n                    return group.expanded !== true ? ' style=\\'display:none\\'' : '';\n                },\n                groupCssClass: function () {\n                    return 'k-group k-menu-group';\n                },\n                content: function (item) {\n                    return item.content ? item.content : '&nbsp;';\n                }\n            };\n        function getEffectDirection(direction, root) {\n            direction = direction.split(' ')[!root + 0] || direction;\n            return direction.replace('top', 'up').replace('bottom', 'down');\n        }\n        function parseDirection(direction, root, isRtl) {\n            direction = direction.split(' ')[!root + 0] || direction;\n            var output = {\n                    origin: [\n                        'bottom',\n                        isRtl ? 'right' : 'left'\n                    ],\n                    position: [\n                        'top',\n                        isRtl ? 'right' : 'left'\n                    ]\n                }, horizontal = /left|right/.test(direction);\n            if (horizontal) {\n                output.origin = [\n                    'top',\n                    direction\n                ];\n                output.position[1] = kendo.directions[direction].reverse;\n            } else {\n                output.origin[0] = direction;\n                output.position[0] = kendo.directions[direction].reverse;\n            }\n            output.origin = output.origin.join(' ');\n            output.position = output.position.join(' ');\n            return output;\n        }\n        function contains(parent, child) {\n            try {\n                return $.contains(parent, child);\n            } catch (e) {\n                return false;\n            }\n        }\n        function updateItemClasses(item) {\n            item = $(item);\n            item.addClass('k-item').children(IMG).addClass(IMAGE);\n            item.children('a').addClass(LINK).children(IMG).addClass(IMAGE);\n            item.filter(':not([disabled])').addClass(DEFAULTSTATE);\n            item.filter('.k-separator').empty().append('&nbsp;');\n            item.filter('li[disabled]').addClass(DISABLEDSTATE).removeAttr('disabled').attr('aria-disabled', true);\n            if (!item.filter('[role]').length) {\n                item.attr('role', 'menuitem');\n            }\n            if (!item.children('.' + LINK).length) {\n                item.contents().filter(function () {\n                    return !this.nodeName.match(excludedNodesRegExp) && !(this.nodeType == 3 && !$.trim(this.nodeValue));\n                }).wrapAll('<span class=\\'' + LINK + '\\'/>');\n            }\n            updateArrow(item);\n            updateFirstLast(item);\n        }\n        function updateArrow(item) {\n            item = $(item);\n            item.find('> .k-link > [class*=k-i-arrow]:not(.k-sprite)').remove();\n            item.filter(':has(.k-menu-group)').children('.k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))').each(function () {\n                var item = $(this), arrowCssClass = getArrowCssClass(item);\n                item.append('<span class=\\'k-icon ' + arrowCssClass + '\\'/>');\n            });\n        }\n        function getArrowCssClass(item) {\n            var arrowCssClass, parent = item.parent().parent(), isRtl = kendo.support.isRtl(parent);\n            if (parent.hasClass(MENU + '-horizontal')) {\n                arrowCssClass = ' k-i-arrow-60-down';\n            } else {\n                if (isRtl) {\n                    arrowCssClass = ' k-i-arrow-60-left';\n                } else {\n                    arrowCssClass = ' k-i-arrow-60-right';\n                }\n            }\n            return arrowCssClass;\n        }\n        function updateFirstLast(item) {\n            item = $(item);\n            item.filter('.k-first:not(:first-child)').removeClass(FIRST);\n            item.filter('.k-last:not(:last-child)').removeClass(LAST);\n            item.filter(':first-child').addClass(FIRST);\n            item.filter(':last-child').addClass(LAST);\n        }\n        function storeItemSelectEventHandler(element, options) {\n            var selectHandler = getItemSelectEventHandler(options);\n            if (selectHandler) {\n                setItemData(element, selectHandler);\n            }\n            if (options.items) {\n                $(element).children('ul').children('li').each(function (i) {\n                    storeItemSelectEventHandler(this, options.items[i]);\n                });\n            }\n        }\n        function setItemData(element, selectHandler) {\n            $(element).children('.k-link').data({ selectHandler: selectHandler });\n        }\n        function getItemSelectEventHandler(options) {\n            var selectHandler = options.select, isFunction = kendo.isFunction;\n            if (selectHandler && isFunction(selectHandler)) {\n                return selectHandler;\n            }\n            return null;\n        }\n        var Menu = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                that._initData(options);\n                that._updateClasses();\n                that._animations(options);\n                that.nextItemZIndex = 100;\n                that._tabindex();\n                that._focusProxy = proxy(that._focusHandler, that);\n                element.on(POINTERDOWN, itemSelector, that._focusProxy).on(CLICK + NS, disabledSelector, false).on(CLICK + NS, itemSelector, proxy(that._click, that)).on('keydown' + NS, proxy(that._keydown, that)).on('focus' + NS, proxy(that._focus, that)).on('focus' + NS, '.k-content', proxy(that._focus, that)).on(POINTERDOWN + ' ' + MOUSEDOWN + NS, '.k-content', proxy(that._preventClose, that)).on('blur' + NS, proxy(that._removeHoverItem, that)).on('blur' + NS, '[tabindex]', proxy(that._checkActiveElement, that)).on(MOUSEENTER + NS, itemSelector, proxy(that._mouseenter, that)).on(MOUSELEAVE + NS, itemSelector, proxy(that._mouseleave, that)).on(MOUSEENTER + NS + ' ' + MOUSELEAVE + NS + ' ' + MOUSEDOWN + NS + ' ' + CLICK + NS, linkSelector, proxy(that._toggleHover, that));\n                if (options.openOnClick) {\n                    that.clicked = false;\n                    that._documentClickHandler = proxy(that._documentClick, that);\n                    $(document).click(that._documentClickHandler);\n                }\n                element.attr('role', 'menubar');\n                if (element[0].id) {\n                    that._ariaId = kendo.format('{0}_mn_active', element[0].id);\n                }\n                kendo.notify(that);\n            },\n            events: [\n                OPEN,\n                CLOSE,\n                ACTIVATE,\n                DEACTIVATE,\n                SELECT\n            ],\n            options: {\n                name: 'Menu',\n                animation: {\n                    open: { duration: 200 },\n                    close: { duration: 100 }\n                },\n                orientation: 'horizontal',\n                direction: 'default',\n                openOnClick: false,\n                closeOnClick: true,\n                hoverDelay: 100,\n                popupCollision: undefined\n            },\n            _initData: function (options) {\n                var that = this;\n                if (options.dataSource) {\n                    that.angular('cleanup', function () {\n                        return { elements: that.element.children() };\n                    });\n                    that.element.empty();\n                    that.append(options.dataSource, that.element);\n                    that.angular('compile', function () {\n                        return { elements: that.element.children() };\n                    });\n                }\n            },\n            setOptions: function (options) {\n                var animation = this.options.animation;\n                this._animations(options);\n                options.animation = extend(true, animation, options.animation);\n                if ('dataSource' in options) {\n                    this._initData(options);\n                }\n                this._updateClasses();\n                Widget.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.element.off(NS);\n                if (that._documentClickHandler) {\n                    $(document).unbind('click', that._documentClickHandler);\n                }\n                kendo.destroy(that.element);\n            },\n            enable: function (element, enable) {\n                this._toggleDisabled(element, enable !== false);\n                return this;\n            },\n            disable: function (element) {\n                this._toggleDisabled(element, false);\n                return this;\n            },\n            append: function (item, referenceItem) {\n                referenceItem = this.element.find(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.length ? referenceItem.find('> .k-menu-group, > .k-animation-container > .k-menu-group') : null);\n                each(inserted.items, function (i) {\n                    inserted.group.append(this);\n                    updateArrow(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateArrow(referenceItem);\n                updateFirstLast(inserted.group.find('.k-first, .k-last').add(inserted.items));\n                return this;\n            },\n            insertBefore: function (item, referenceItem) {\n                referenceItem = this.element.find(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.parent());\n                each(inserted.items, function (i) {\n                    referenceItem.before(this);\n                    updateArrow(this);\n                    updateFirstLast(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateFirstLast(referenceItem);\n                return this;\n            },\n            insertAfter: function (item, referenceItem) {\n                referenceItem = this.element.find(referenceItem);\n                var inserted = this._insert(item, referenceItem, referenceItem.parent());\n                each(inserted.items, function (i) {\n                    referenceItem.after(this);\n                    updateArrow(this);\n                    updateFirstLast(this);\n                    storeItemSelectEventHandler(this, item[i] || item);\n                });\n                updateFirstLast(referenceItem);\n                return this;\n            },\n            _insert: function (item, referenceItem, parent) {\n                var that = this, items, groups;\n                if (!referenceItem || !referenceItem.length) {\n                    parent = that.element;\n                }\n                var plain = $.isPlainObject(item), groupData = {\n                        firstLevel: parent.hasClass(MENU),\n                        horizontal: parent.hasClass(MENU + '-horizontal'),\n                        expanded: true,\n                        length: parent.children().length\n                    };\n                if (referenceItem && !parent.length) {\n                    parent = $(Menu.renderGroup({ group: groupData })).appendTo(referenceItem);\n                }\n                if (plain || $.isArray(item)) {\n                    items = $($.map(plain ? [item] : item, function (value, idx) {\n                        if (typeof value === 'string') {\n                            return $(value).get();\n                        } else {\n                            return $(Menu.renderItem({\n                                group: groupData,\n                                item: extend(value, { index: idx })\n                            })).get();\n                        }\n                    }));\n                } else {\n                    if (typeof item == 'string' && item.charAt(0) != '<') {\n                        items = that.element.find(item);\n                    } else {\n                        items = $(item);\n                    }\n                    groups = items.find('> ul').addClass('k-menu-group').attr('role', 'menu');\n                    items = items.filter('li');\n                    items.add(groups.find('> li')).each(function () {\n                        updateItemClasses(this);\n                    });\n                }\n                return {\n                    items: items,\n                    group: parent\n                };\n            },\n            remove: function (element) {\n                element = this.element.find(element);\n                var that = this, parent = element.parentsUntil(that.element, allItemsSelector), group = element.parent('ul:not(.k-menu)');\n                element.remove();\n                if (group && !group.children(allItemsSelector).length) {\n                    var container = group.parent('.k-animation-container');\n                    if (container.length) {\n                        container.remove();\n                    } else {\n                        group.remove();\n                    }\n                }\n                if (parent.length) {\n                    parent = parent.eq(0);\n                    updateArrow(parent);\n                    updateFirstLast(parent);\n                }\n                return that;\n            },\n            open: function (element) {\n                var that = this, options = that.options, horizontal = options.orientation == 'horizontal', direction = options.direction, isRtl = kendo.support.isRtl(that.wrapper);\n                element = that.element.find(element);\n                if (/^(top|bottom|default)$/.test(direction)) {\n                    if (isRtl) {\n                        direction = horizontal ? (direction + ' left').replace('default', 'bottom') : 'left';\n                    } else {\n                        direction = horizontal ? (direction + ' right').replace('default', 'bottom') : 'right';\n                    }\n                }\n                element.siblings().find('>.k-popup:visible,>.k-animation-container>.k-popup:visible').each(function () {\n                    var popup = $(this).data('kendoPopup');\n                    if (popup) {\n                        popup.close(true);\n                    }\n                });\n                element.each(function () {\n                    var li = $(this);\n                    clearTimeout(li.data(TIMER));\n                    li.data(TIMER, setTimeout(function () {\n                        var ul = li.find('.k-menu-group:first:hidden'), popup;\n                        if (ul[0] && that._triggerEvent({\n                                item: li[0],\n                                type: OPEN\n                            }) === false) {\n                            if (!ul.find('.k-menu-group')[0] && ul.children('.k-item').length > 1) {\n                                var windowHeight = $(window).height(), setScrolling = function () {\n                                        ul.css({\n                                            maxHeight: windowHeight - (kendo._outerHeight(ul) - ul.height()) - kendo.getShadows(ul).bottom,\n                                            overflow: 'auto'\n                                        });\n                                    };\n                                if (kendo.support.browser.msie && kendo.support.browser.version <= 7) {\n                                    setTimeout(setScrolling, 0);\n                                } else {\n                                    setScrolling();\n                                }\n                            } else {\n                                ul.css({\n                                    maxHeight: '',\n                                    overflow: ''\n                                });\n                            }\n                            li.data(ZINDEX, li.css(ZINDEX));\n                            li.css(ZINDEX, that.nextItemZIndex++);\n                            popup = ul.data(KENDOPOPUP);\n                            var root = li.parent().hasClass(MENU), parentHorizontal = root && horizontal, directions = parseDirection(direction, root, isRtl), effects = options.animation.open.effects, openEffects = effects !== undefined ? effects : 'slideIn:' + getEffectDirection(direction, root);\n                            if (!popup) {\n                                popup = ul.kendoPopup({\n                                    activate: function () {\n                                        that._triggerEvent({\n                                            item: this.wrapper.parent(),\n                                            type: ACTIVATE\n                                        });\n                                    },\n                                    deactivate: function (e) {\n                                        e.sender.element.removeData('targetTransform').css({ opacity: '' });\n                                        that._triggerEvent({\n                                            item: this.wrapper.parent(),\n                                            type: DEACTIVATE\n                                        });\n                                    },\n                                    origin: directions.origin,\n                                    position: directions.position,\n                                    collision: options.popupCollision !== undefined ? options.popupCollision : parentHorizontal ? 'fit' : 'fit flip',\n                                    anchor: li,\n                                    appendTo: li,\n                                    animation: {\n                                        open: extend(true, { effects: openEffects }, options.animation.open),\n                                        close: options.animation.close\n                                    },\n                                    close: function (e) {\n                                        var li = e.sender.wrapper.parent();\n                                        if (!that._triggerEvent({\n                                                item: li[0],\n                                                type: CLOSE\n                                            })) {\n                                            li.css(ZINDEX, li.data(ZINDEX));\n                                            li.removeData(ZINDEX);\n                                            if (touch) {\n                                                li.removeClass(HOVERSTATE);\n                                                that._removeHoverItem();\n                                            }\n                                        } else {\n                                            e.preventDefault();\n                                        }\n                                    }\n                                }).data(KENDOPOPUP);\n                            } else {\n                                popup = ul.data(KENDOPOPUP);\n                                popup.options.origin = directions.origin;\n                                popup.options.position = directions.position;\n                                popup.options.animation.open.effects = openEffects;\n                            }\n                            ul.removeAttr('aria-hidden');\n                            popup.open();\n                        }\n                    }, that.options.hoverDelay));\n                });\n                return that;\n            },\n            close: function (items, dontClearClose) {\n                var that = this, element = that.element;\n                items = element.find(items);\n                if (!items.length) {\n                    items = element.find('>.k-item');\n                }\n                items.each(function () {\n                    var li = $(this);\n                    if (!dontClearClose && that._isRootItem(li)) {\n                        that.clicked = false;\n                    }\n                    clearTimeout(li.data(TIMER));\n                    li.data(TIMER, setTimeout(function () {\n                        var popup = li.find('.k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible').data(KENDOPOPUP);\n                        if (popup) {\n                            popup.close();\n                            popup.element.attr('aria-hidden', true);\n                        }\n                    }, that.options.hoverDelay));\n                });\n                return that;\n            },\n            _toggleDisabled: function (items, enable) {\n                this.element.find(items).each(function () {\n                    $(this).toggleClass(DEFAULTSTATE, enable).toggleClass(DISABLEDSTATE, !enable).attr('aria-disabled', !enable);\n                });\n            },\n            _toggleHover: function (e) {\n                var target = $(kendo.eventTarget(e) || e.target).closest(allItemsSelector), isEnter = e.type == MOUSEENTER || MOUSEDOWN.indexOf(e.type) !== -1;\n                if (!target.parents('li.' + DISABLEDSTATE).length) {\n                    target.toggleClass(HOVERSTATE, isEnter || e.type == 'mousedown' || e.type == 'click');\n                }\n                this._removeHoverItem();\n            },\n            _preventClose: function () {\n                if (!this.options.closeOnClick) {\n                    this._closurePrevented = true;\n                }\n            },\n            _checkActiveElement: function (e) {\n                var that = this, hoverItem = $(e ? e.currentTarget : this._hoverItem()), target = that._findRootParent(hoverItem)[0];\n                if (!this._closurePrevented) {\n                    setTimeout(function () {\n                        if (!document.hasFocus() || !contains(target, kendo._activeElement()) && e && !contains(target, e.currentTarget)) {\n                            that.close(target);\n                        }\n                    }, 0);\n                }\n                this._closurePrevented = false;\n            },\n            _removeHoverItem: function () {\n                var oldHoverItem = this._hoverItem();\n                if (oldHoverItem && oldHoverItem.hasClass(FOCUSEDSTATE)) {\n                    oldHoverItem.removeClass(FOCUSEDSTATE);\n                    this._oldHoverItem = null;\n                }\n            },\n            _updateClasses: function () {\n                var element = this.element, nonContentGroupsSelector = '.k-menu-init div ul', items;\n                element.removeClass('k-menu-horizontal k-menu-vertical');\n                element.addClass('k-widget k-reset k-header k-menu-init ' + MENU).addClass(MENU + '-' + this.options.orientation);\n                element.find('li > ul').filter(function () {\n                    return !kendo.support.matchesSelector.call(this, nonContentGroupsSelector);\n                }).addClass('k-group k-menu-group').attr('role', 'menu').attr('aria-hidden', element.is(':visible')).end().find('li > div').addClass('k-content').attr('tabindex', '-1');\n                items = element.find('> li,.k-menu-group > li');\n                element.removeClass('k-menu-init');\n                items.each(function () {\n                    updateItemClasses(this);\n                });\n            },\n            _mouseenter: function (e) {\n                var that = this, element = $(e.currentTarget), hasChildren = element.children('.k-animation-container').length || element.children(groupSelector).length;\n                if (e.delegateTarget != element.parents(menuSelector)[0]) {\n                    return;\n                }\n                if ((!that.options.openOnClick || that.clicked) && !touch && !((pointers || msPointers) && e.originalEvent.pointerType in touchPointerTypes && that._isRootItem(element.closest(allItemsSelector)))) {\n                    if (!contains(e.currentTarget, e.relatedTarget) && hasChildren) {\n                        that.open(element);\n                    }\n                }\n                if (that.options.openOnClick && that.clicked || mobile) {\n                    element.siblings().each(proxy(function (_, sibling) {\n                        that.close(sibling, true);\n                    }, that));\n                }\n            },\n            _mouseleave: function (e) {\n                var that = this, element = $(e.currentTarget), hasChildren = element.children('.k-animation-container').length || element.children(groupSelector).length;\n                if (element.parentsUntil('.k-animation-container', '.k-list-container,.k-calendar-container')[0]) {\n                    e.stopImmediatePropagation();\n                    return;\n                }\n                if (!that.options.openOnClick && !touch && !((pointers || msPointers) && e.originalEvent.pointerType in touchPointerTypes) && !contains(e.currentTarget, e.relatedTarget || e.target) && hasChildren && !contains(e.currentTarget, kendo._activeElement())) {\n                    that.close(element);\n                }\n            },\n            _click: function (e) {\n                var that = this, openHandle, options = that.options, target = $(kendo.eventTarget(e)), targetElement = target[0], nodeName = target[0] ? target[0].nodeName.toUpperCase() : '', formNode = nodeName == 'INPUT' || nodeName == 'SELECT' || nodeName == 'BUTTON' || nodeName == 'LABEL', link = target.closest('.' + LINK), element = target.closest(allItemsSelector), itemElement = element[0], href = link.attr('href'), childGroup, childGroupVisible, targetHref = target.attr('href'), sampleHref = $('<a href=\\'#\\' />').attr('href'), isLink = !!href && href !== sampleHref, isLocalLink = isLink && !!href.match(/^#/), isTargetLink = !!targetHref && targetHref !== sampleHref, shouldCloseTheRootItem = options.openOnClick && childGroupVisible && that._isRootItem(element);\n                while (targetElement && targetElement.parentNode != itemElement) {\n                    targetElement = targetElement.parentNode;\n                }\n                if ($(targetElement).is(templateSelector)) {\n                    return;\n                }\n                if (element.hasClass(DISABLEDSTATE)) {\n                    e.preventDefault();\n                    return;\n                }\n                if (!e.handled && that._triggerSelect(target, itemElement) && !formNode) {\n                    e.preventDefault();\n                }\n                e.handled = true;\n                childGroup = element.children(popupSelector);\n                childGroupVisible = childGroup.is(':visible');\n                if (options.closeOnClick && (!isLink || isLocalLink) && (!childGroup.length || shouldCloseTheRootItem)) {\n                    element.removeClass(HOVERSTATE).css('height');\n                    that._oldHoverItem = that._findRootParent(element);\n                    that.close(link.parentsUntil(that.element, allItemsSelector));\n                    that.clicked = false;\n                    if ('MSPointerUp'.indexOf(e.type) != -1) {\n                        e.preventDefault();\n                    }\n                    return;\n                }\n                if (isLink && e.enterKey) {\n                    link[0].click();\n                }\n                if ((!that._isRootItem(element) || !options.openOnClick) && !kendo.support.touch && !((pointers || msPointers) && that._isRootItem(element.closest(allItemsSelector)))) {\n                    return;\n                }\n                if (!isLink && !formNode && !isTargetLink) {\n                    e.preventDefault();\n                }\n                that.clicked = true;\n                openHandle = childGroup.is(':visible') ? CLOSE : OPEN;\n                if (!options.closeOnClick && openHandle == CLOSE) {\n                    return;\n                }\n                that[openHandle](element);\n            },\n            _triggerSelect: function (target, itemElement) {\n                var selectHandler = target.data('selectHandler'), itemSelectEventData;\n                if (selectHandler) {\n                    itemSelectEventData = this._getEventData(target);\n                    selectHandler.call(this, itemSelectEventData);\n                }\n                var isSelectItemDefaultPrevented = itemSelectEventData && itemSelectEventData.isDefaultPrevented();\n                var isSelectDefaultPrevented = this._triggerEvent({\n                    item: itemElement,\n                    type: SELECT\n                });\n                return isSelectItemDefaultPrevented || isSelectDefaultPrevented;\n            },\n            _getEventData: function (target) {\n                var eventData = {\n                    sender: this,\n                    target: target,\n                    _defaultPrevented: false,\n                    preventDefault: function () {\n                        this._defaultPrevented = true;\n                    },\n                    isDefaultPrevented: function () {\n                        return this._defaultPrevented;\n                    }\n                };\n                return eventData;\n            },\n            _documentClick: function (e) {\n                if (contains(this.element[0], e.target)) {\n                    return;\n                }\n                this.clicked = false;\n            },\n            _focus: function (e) {\n                var that = this, target = e.target, hoverItem = that._hoverItem(), active = activeElement();\n                if (target != that.wrapper[0] && !$(target).is(':kendoFocusable')) {\n                    e.stopPropagation();\n                    $(target).closest('.k-content').closest('.k-menu-group').closest('.k-item').addClass(FOCUSEDSTATE);\n                    that.wrapper.focus();\n                    return;\n                }\n                if (active === e.currentTarget) {\n                    if (hoverItem.length) {\n                        that._moveHover([], hoverItem);\n                    } else if (!that._oldHoverItem) {\n                        that._moveHover([], that.wrapper.children().first());\n                    }\n                }\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, hoverItem = that._oldHoverItem, target, belongsToVertical, hasChildren, isRtl = kendo.support.isRtl(that.wrapper);\n                if (e.target != e.currentTarget && key != keys.ESC) {\n                    return;\n                }\n                if (!hoverItem) {\n                    hoverItem = that._oldHoverItem = that._hoverItem();\n                }\n                belongsToVertical = that._itemBelongsToVertival(hoverItem);\n                hasChildren = that._itemHasChildren(hoverItem);\n                if (key == keys.RIGHT) {\n                    target = that[isRtl ? '_itemLeft' : '_itemRight'](hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.LEFT) {\n                    target = that[isRtl ? '_itemRight' : '_itemLeft'](hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.DOWN) {\n                    target = that._itemDown(hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.UP) {\n                    target = that._itemUp(hoverItem, belongsToVertical, hasChildren);\n                } else if (key == keys.ESC) {\n                    target = that._itemEsc(hoverItem, belongsToVertical);\n                } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    target = hoverItem.children('.k-link');\n                    if (target.length > 0) {\n                        that._click({\n                            target: target[0],\n                            preventDefault: function () {\n                            },\n                            enterKey: true\n                        });\n                        that._moveHover(hoverItem, that._findRootParent(hoverItem));\n                    }\n                } else if (key == keys.TAB) {\n                    target = that._findRootParent(hoverItem);\n                    that._moveHover(hoverItem, target);\n                    that._checkActiveElement();\n                    return;\n                }\n                if (target && target[0]) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            },\n            _hoverItem: function () {\n                return this.wrapper.find('.k-item.k-state-hover,.k-item.k-state-focused').filter(':visible');\n            },\n            _itemBelongsToVertival: function (item) {\n                var menuIsVertical = this.wrapper.hasClass('k-menu-vertical');\n                if (!item.length) {\n                    return menuIsVertical;\n                }\n                return item.parent().hasClass('k-menu-group') || menuIsVertical;\n            },\n            _itemHasChildren: function (item) {\n                if (!item.length) {\n                    return false;\n                }\n                return item.children('ul.k-menu-group, div.k-animation-container').length > 0;\n            },\n            _moveHover: function (item, nextItem) {\n                var that = this, id = that._ariaId;\n                if (item.length && nextItem.length) {\n                    item.removeClass(FOCUSEDSTATE);\n                }\n                if (nextItem.length) {\n                    if (nextItem[0].id) {\n                        id = nextItem[0].id;\n                    }\n                    nextItem.addClass(FOCUSEDSTATE);\n                    that._oldHoverItem = nextItem;\n                    if (id) {\n                        that.element.removeAttr('aria-activedescendant');\n                        $('#' + id).removeAttr('id');\n                        nextItem.attr('id', id);\n                        that.element.attr('aria-activedescendant', id);\n                    }\n                }\n            },\n            _findRootParent: function (item) {\n                if (this._isRootItem(item)) {\n                    return item;\n                } else {\n                    return item.parentsUntil(menuSelector, 'li.k-item').last();\n                }\n            },\n            _isRootItem: function (item) {\n                return item.parent().hasClass(MENU);\n            },\n            _itemRight: function (item, belongsToVertical, hasChildren) {\n                var that = this, nextItem, parentItem;\n                if (item.hasClass(DISABLEDSTATE)) {\n                    return;\n                }\n                if (!belongsToVertical) {\n                    nextItem = item.nextAll(nextSelector);\n                    if (!nextItem.length) {\n                        nextItem = item.prevAll(lastSelector);\n                    }\n                } else if (hasChildren) {\n                    that.open(item);\n                    nextItem = item.find('.k-menu-group').children().first();\n                } else if (that.options.orientation == 'horizontal') {\n                    parentItem = that._findRootParent(item);\n                    that.close(parentItem);\n                    nextItem = parentItem.nextAll(nextSelector);\n                }\n                if (nextItem && !nextItem.length) {\n                    nextItem = that.wrapper.children('.k-item').first();\n                } else if (!nextItem) {\n                    nextItem = [];\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemLeft: function (item, belongsToVertical) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    nextItem = item.prevAll(nextSelector);\n                    if (!nextItem.length) {\n                        nextItem = item.nextAll(lastSelector);\n                    }\n                } else {\n                    nextItem = item.parent().closest('.k-item');\n                    that.close(nextItem);\n                    if (that._isRootItem(nextItem) && that.options.orientation == 'horizontal') {\n                        nextItem = nextItem.prevAll(nextSelector);\n                    }\n                }\n                if (!nextItem.length) {\n                    nextItem = that.wrapper.children('.k-item').last();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemDown: function (item, belongsToVertical, hasChildren) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    if (!hasChildren || item.hasClass(DISABLEDSTATE)) {\n                        return;\n                    } else {\n                        that.open(item);\n                        nextItem = item.find('.k-menu-group').children().first();\n                    }\n                } else {\n                    nextItem = item.nextAll(nextSelector);\n                }\n                if (!nextItem.length && item.length) {\n                    nextItem = item.parent().children().first();\n                } else if (!item.length) {\n                    nextItem = that.wrapper.children('.k-item').first();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemUp: function (item, belongsToVertical) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    return;\n                } else {\n                    nextItem = item.prevAll(nextSelector);\n                }\n                if (!nextItem.length && item.length) {\n                    nextItem = item.parent().children().last();\n                } else if (!item.length) {\n                    nextItem = that.wrapper.children('.k-item').last();\n                }\n                that._moveHover(item, nextItem);\n                return nextItem;\n            },\n            _itemEsc: function (item, belongsToVertical) {\n                var that = this, nextItem;\n                if (!belongsToVertical) {\n                    return item;\n                } else {\n                    nextItem = item.parent().closest('.k-item');\n                    that.close(nextItem);\n                    that._moveHover(item, nextItem);\n                }\n                return nextItem;\n            },\n            _triggerEvent: function (e) {\n                var that = this;\n                return that.trigger(e.type, {\n                    type: e.type,\n                    item: e.item\n                });\n            },\n            _focusHandler: function (e) {\n                var that = this, item = $(kendo.eventTarget(e)).closest(allItemsSelector);\n                if (item.hasClass(DISABLEDSTATE)) {\n                    return;\n                }\n                setTimeout(function () {\n                    that._moveHover([], item);\n                    if (item.children('.k-content')[0]) {\n                        item.parent().closest('.k-item').removeClass(FOCUSEDSTATE);\n                    }\n                }, 200);\n            },\n            _animations: function (options) {\n                if (options && 'animation' in options && !options.animation) {\n                    options.animation = {\n                        open: { effects: {} },\n                        close: {\n                            hide: true,\n                            effects: {}\n                        }\n                    };\n                }\n            }\n        });\n        extend(Menu, {\n            renderItem: function (options) {\n                options = extend({\n                    menu: {},\n                    group: {}\n                }, options);\n                var empty = templates.empty, item = options.item;\n                return templates.item(extend(options, {\n                    image: item.imageUrl ? templates.image : empty,\n                    sprite: item.spriteCssClass ? templates.sprite : empty,\n                    itemWrapper: templates.itemWrapper,\n                    renderContent: Menu.renderContent,\n                    arrow: item.items || item.content ? templates.arrow : empty,\n                    subGroup: Menu.renderGroup\n                }, rendering));\n            },\n            renderGroup: function (options) {\n                return templates.group(extend({\n                    renderItems: function (options) {\n                        var html = '', i = 0, items = options.items, len = items ? items.length : 0, group = extend({ length: len }, options.group);\n                        for (; i < len; i++) {\n                            html += Menu.renderItem(extend(options, {\n                                group: group,\n                                item: extend({ index: i }, items[i])\n                            }));\n                        }\n                        return html;\n                    }\n                }, options, rendering));\n            },\n            renderContent: function (options) {\n                return templates.content(extend(options, rendering));\n            }\n        });\n        var ContextMenu = Menu.extend({\n            init: function (element, options) {\n                var that = this;\n                Menu.fn.init.call(that, element, options);\n                that._marker = kendo.guid().substring(0, 8);\n                that.target = $(that.options.target);\n                that._popup();\n                that._wire();\n            },\n            options: {\n                name: 'ContextMenu',\n                filter: null,\n                showOn: 'contextmenu',\n                orientation: 'vertical',\n                alignToAnchor: false,\n                target: 'body'\n            },\n            events: [\n                OPEN,\n                CLOSE,\n                ACTIVATE,\n                DEACTIVATE,\n                SELECT\n            ],\n            setOptions: function (options) {\n                var that = this;\n                Menu.fn.setOptions.call(that, options);\n                that.target.off(that.showOn + NS + that._marker, that._showProxy);\n                if (that.userEvents) {\n                    that.userEvents.destroy();\n                }\n                that.target = $(that.options.target);\n                if (options.orientation && that.popup.wrapper[0]) {\n                    that.popup.element.unwrap();\n                }\n                that._wire();\n                Menu.fn.setOptions.call(this, options);\n            },\n            destroy: function () {\n                var that = this;\n                that.target.off(that.options.showOn + NS + that._marker);\n                DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                if (that.userEvents) {\n                    that.userEvents.destroy();\n                }\n                Menu.fn.destroy.call(that);\n            },\n            open: function (x, y) {\n                var that = this;\n                x = $(x)[0];\n                if (contains(that.element[0], $(x)[0])) {\n                    Menu.fn.open.call(that, x);\n                } else {\n                    if (that._triggerEvent({\n                            item: that.element,\n                            type: OPEN\n                        }) === false) {\n                        if (that.popup.visible() && that.options.filter) {\n                            that.popup.close(true);\n                            that.popup.element.kendoStop(true);\n                        }\n                        if (y !== undefined) {\n                            that.popup.wrapper.hide();\n                            that.popup.open(x, y);\n                        } else {\n                            that.popup.options.anchor = (x ? x : that.popup.anchor) || that.target;\n                            that.popup.element.kendoStop(true);\n                            that.popup.open();\n                        }\n                        DOCUMENT_ELEMENT.off(that.popup.downEvent, that.popup._mousedownProxy);\n                        DOCUMENT_ELEMENT.on(kendo.support.mousedown + NS + that._marker, that._closeProxy);\n                    }\n                }\n                return that;\n            },\n            close: function () {\n                var that = this;\n                if (contains(that.element[0], $(arguments[0])[0])) {\n                    Menu.fn.close.call(that, arguments[0]);\n                } else {\n                    if (that.popup.visible()) {\n                        if (that._triggerEvent({\n                                item: that.element,\n                                type: CLOSE\n                            }) === false) {\n                            that.popup.close();\n                            DOCUMENT_ELEMENT.off(kendo.support.mousedown + NS, that._closeProxy);\n                            that.unbind(SELECT, that._closeTimeoutProxy);\n                        }\n                    }\n                }\n            },\n            _showHandler: function (e) {\n                var ev = e, offset, that = this, options = that.options;\n                if (e.event) {\n                    ev = e.event;\n                    ev.pageX = e.x.location;\n                    ev.pageY = e.y.location;\n                }\n                if (contains(that.element[0], e.relatedTarget || e.target)) {\n                    return;\n                }\n                that._eventOrigin = ev;\n                ev.preventDefault();\n                ev.stopImmediatePropagation();\n                that.element.find('.' + FOCUSEDSTATE).removeClass(FOCUSEDSTATE);\n                if (options.filter && kendo.support.matchesSelector.call(ev.currentTarget, options.filter) || !options.filter) {\n                    if (options.alignToAnchor) {\n                        that.popup.options.anchor = ev.currentTarget;\n                        that.open(ev.currentTarget);\n                    } else {\n                        that.popup.options.anchor = ev.currentTarget;\n                        if (that._targetChild) {\n                            offset = that.target.offset();\n                            that.open(ev.pageX - offset.left, ev.pageY - offset.top);\n                        } else {\n                            that.open(ev.pageX, ev.pageY);\n                        }\n                    }\n                }\n            },\n            _closeHandler: function (e) {\n                var that = this, target = $(e.relatedTarget || e.target), sameTarget = target.closest(that.target.selector)[0] == that.target[0], children = target.closest(itemSelector).children(popupSelector), containment = contains(that.element[0], target[0]);\n                that._eventOrigin = e;\n                var normalClick = e.which !== 3;\n                if (that.popup.visible() && (normalClick && sameTarget || !sameTarget) && (that.options.closeOnClick && !children[0] && containment || !containment)) {\n                    if (containment) {\n                        this.unbind(SELECT, this._closeTimeoutProxy);\n                        that.bind(SELECT, that._closeTimeoutProxy);\n                    } else {\n                        that.close();\n                    }\n                }\n            },\n            _wire: function () {\n                var that = this, options = that.options, target = that.target;\n                that._showProxy = proxy(that._showHandler, that);\n                that._closeProxy = proxy(that._closeHandler, that);\n                that._closeTimeoutProxy = proxy(that.close, that);\n                if (target[0]) {\n                    if (kendo.support.mobileOS && options.showOn == 'contextmenu') {\n                        that.userEvents = new kendo.UserEvents(target, {\n                            filter: options.filter,\n                            allowSelection: false\n                        });\n                        target.on(options.showOn + NS + that._marker, false);\n                        that.userEvents.bind('hold', that._showProxy);\n                    } else {\n                        if (options.filter) {\n                            target.on(options.showOn + NS + that._marker, options.filter, that._showProxy);\n                        } else {\n                            target.on(options.showOn + NS + that._marker, that._showProxy);\n                        }\n                    }\n                }\n            },\n            _triggerEvent: function (e) {\n                var that = this, anchor = $(that.popup.options.anchor)[0], origin = that._eventOrigin;\n                that._eventOrigin = undefined;\n                return that.trigger(e.type, extend({\n                    type: e.type,\n                    item: e.item || this.element[0],\n                    target: anchor\n                }, origin ? { event: origin } : {}));\n            },\n            _popup: function () {\n                var that = this;\n                that._triggerProxy = proxy(that._triggerEvent, that);\n                that.popup = that.element.addClass('k-context-menu').kendoPopup({\n                    anchor: that.target || 'body',\n                    copyAnchorStyles: that.options.copyAnchorStyles,\n                    collision: that.options.popupCollision || 'fit',\n                    animation: that.options.animation,\n                    activate: that._triggerProxy,\n                    deactivate: that._triggerProxy,\n                    appendTo: that.options.appendTo\n                }).data('kendoPopup');\n                that._targetChild = contains(that.target[0], that.popup.element[0]);\n            }\n        });\n        ui.plugin(Menu);\n        ui.plugin(ContextMenu);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}