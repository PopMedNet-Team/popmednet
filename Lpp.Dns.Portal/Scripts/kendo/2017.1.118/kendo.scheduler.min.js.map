{"version":3,"sources":["kendo.scheduler.js"],"names":["f","define","$","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","text","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","textContent","appendChild","body","String","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","timezoneButtonText","model","message","startTimezone","endTimezone","appendTimezoneAttr","attrs","timezone","attr","appendDateCompareValidator","dateCompareRule","validationRules","fields","field","validation","dateCompare","isPlainObject","wrapDataAccess","originalFunction","data","convertData","wrapDataSerialization","toString","call","ObservableArray","method","removeUid","event","idx","start","convert","end","uid","getOccurrenceByUid","applyZone","date","fromZone","toZone","remove","dateCompareValidator","input","container","startInput","endInput","startPicker","endPicker","editable","filter","closest","find","widgetInstance","ui","parseDate","val","expandAll","events","zone","concat","expand","trimOptions","name","prefix","edit","add","navigate","createValidationAttributes","ruleName","rule","modelField","specialRules","datatype","inArray","isFunction","dropDownResourceEditor","resource","format","ns","appendTo","kendoDropDownList","dataTextField","dataValueField","dataSource","valuePrimitive","optionLabel","template","dataColorField","descriptionEditor","multiSelectResourceEditor","kendoMultiSelect","itemTemplate","tagTemplate","multiSelectResourceEditorMobile","view","getter","moveEventRange","distance","duration","getTime","Date","setTime","defaultCommands","editors","Editor","MobileEditor","PopupEditor","Scheduler","defaultViews","SCHEDULER_EXPORT","TimezoneEditor","ZONETITLEOPTIONTEMPLATE","ZONEOPTIONTEMPLATE","MobileTimezoneEditor","input_support","support","MS_PER_DAY","getDate","getMilliseconds","recurrence","keys","Widget","DataBoundWidget","STRING","Popup","Calendar","DataSource","proxy","Object","prototype","isArray","NS","CLICK","CHANGE","CANCEL","REMOVE","SAVE","ADD","EDIT","valueStartEndBoundRegex","TODAY","EXCEPTION_SEPARATOR","OLD_EXCEPTION_SEPARATOR_REGEXP","RECURRENCE_EXCEPTION","DELETECONFIRM","DELETERECURRING","EDITRECURRING","DELETERECURRINGCONFIRM","DELETESERIESCONFIRM","COMMANDBUTTONTMPL","VIEWBUTTONTEMPLATE","TOOLBARTEMPLATE","MOBILETOOLBARTEMPLATE","MOBILEDATERANGEEDITOR","datepicker_role","datetimepicker_role","isAllDay","dateTimeValidate","dateValidate","hide","DATERANGEEDITOR","RECURRENCEEDITOR","kendoRecurrenceEditor","messages","MOBILERECURRENCEEDITOR","kendoMobileRecurrenceEditor","pane","MOBILETIMEZONEPOPUP","noTimezone","click","TIMEZONEPOPUP","timezoneEditorButton","MOBILETIMEZONEEDITOR","toggle","visible","kendoMobileTimezoneEditor","TIMEZONEEDITOR","kendoTimezoneEditor","SchedulerDataReader","schema","reader","serialize","errors","parse","total","groups","aggregates","SchedulerEvent","Model","that","fn","_defaultId","defaults","idField","_time","fieldTime","toUtcTime","_date","clone","updateUid","constructor","toJSON","offset","getTimezoneOffset","MS_PER_MINUTE","update","eventInfo","set","_startTime","_endTime","isMultiDay","isException","isNew","recurrenceId","isOccurrence","isRecurring","recurrenceRule","isRecurrenceHead","id","toOccurrence","recurrenceException","obj","shouldSerialize","milliseconds","type","title","defaultValue","required","description","SchedulerDataSource","modelBase","logic","filters","operator","Query","toArray","cancelChanges","_removeExceptionDate","insert","index","_createNewModel","accept","_pushCreated","_addExceptionDate","pushCreate","items","_removeExceptions","slice","item","shift","head","replaceRegExp","RegExp","toExceptionString","replace","newException","create","Error","className","canceledit","destroy","imageClass","iconClass","mobile","dateRange","timezonePopUp","multipleResources","resources","desktop","Observable","element","createButton","toggleDateValidationHandler","_toggleDateValidation","e","isDateTimeInput","shouldValidate","bindAttribute","each","test","is","resourceIndex","preventDefault","_initTimezoneEditor","editor","allDayEvent","windows_zones","repeat","recurrenceEditor","multiple","_buildEditTemplate","editableFields","tmpl","settings","Template","templateSettings","paramName","html","unescape","separateTimezones","expr","_createEndTimezoneButton","_revertTimezones","_startTimezone","_endTimezone","apply","arguments","Pane","wrap","parent","css","_actionSheetButtonTemplate","_actionSheetPopupOptions","documentElement","hasClass","modal","align","position","effect","animations","left","right","close","unbind","timezoneView","checkbox","endTimezoneRow","startTimezoneChange","prop","cancel","timezoneTitle","save","append","contentElement","show","on","editView","stopPropagation","bind","_createActionSheetButton","showDialog","buttonIndex","actionSheet","target","buttons","kendoMobileActionSheet","cancelTemplate","command","currentTarget","popup","open","editEvent","updateText","removeText","cancelText","titleText","editorTitle","kendoEditable","clearContainer","validateOnBlur","addClass","prev","next","children","trigger","button","_views","roleSelector","not","views","eq","purge","deleteText","kendoWindow","resizable","draggable","userTriggered","center","cycleForm","_timezonePopup","wrapper","focus","getKendoWindow","activator","wnd","saveButton","cancelButton","timezonePopup","timezoneEditorTitle","_initModel","_wrapper","_toolbar","_dataSource","_resources","_resizeHandler","resize","_resizable","_movable","_bindResize","_selectable","_ariaId","guid","_createEditor","_unbindResize","off","dataItems","eventsCount","sortedData","_data","eventsUids","dict","eventsUidsLength","_isMobile","mobileOS","_isMobilePhoneView","tablet","_groupsByResource","groupIndex","groupsArray","parentFieldValue","parentField","group","prevIndex","dataIndex","fieldValue","currentGroupIndex","select","selectedGroups","selectedEvents","slots","fieldName","groupsByResource","rangeStart","rangeEnd","ranges","selection","_selection","_selectedSlots","_selectedEvents","_resourceBySlot","_old","clearSelection","splice","groupedResources","_selectEvents","_select","_startDate","addDays","_endDate","toLocalDate","isDaySlot","currentGroup","timeSlotCollectionCount","daySlotCollectionCount","collIdx","dayCollIdx","eventsLength","isGrouped","getTimeSlotCollection","getDaySlotCollection","_createSelection","mouseMoveHandler","selectEvent","selectable","_tabindex","which","browser","isRight","isDefaultPrevented","msie","version","setTimeout","_mouseMove","_selectFirstSlot","_ctrlKey","_shiftKey","_keydown","ctrlKey","shiftKey","currentUid","labelFormat","removeAttribute","removeAttr","ariaEventLabel","ariaSlotLabel","setAttribute","uids","occurrenceByUid","clearTimeout","_moveTimer","slot","startDate","endDate","selectionByElement","backward","_viewByIndex","keyCode","TAB","moveToEvent","ENTER","addEvent","DELETE","removeEvent","move","inRange","_adjustSelectedDate","_updateSelection","dataItem","_updateEventForSelection","_timeSlotInterval","autoBind","snap","allDaySlot","min","max","toolbar","footer","today","pdf","deleteWindowTitle","day","week","workWeek","agenda","month","timeline","timelineWeek","timelineWorkWeek","timelineMonth","recurrenceMessages","deleteWindowOccurrence","deleteWindowSeries","editWindowTitle","editWindowOccurrence","editWindowSeries","confirmation","orientation","_refreshHandler","_progressHandler","_errorHandler","calendar","_editor","_moveDraggable","_resizeDraggable","_model","setDataSource","fetch","content","siblings","startSlot","endSlot","startTime","endTime","clonedEvent","originSlot","isMobile","movable","android","Draggable","ignore","holdToDrag","autoScroll","eventElement","removeClass","_eventOptionsForMove","_slotByPosition","x","startLocation","y","startOffset","range","location","_updateMoveHint","endResources","startResources","prevented","updatedEventOptions","eventOptions","_removeMoveHint","stringify","_updateEvent","cancelHold","userEvents","direction","handle","directions","k-resize-e","k-resize-w","k-resize-n","k-resize-s","dragstart","dragHandle","_updateEventForResize","drag","dir","currentSlot","originalStart","originalEnd","endOffset","_updateResizeHint","dragend","_removeResizeHint","setHours","setMinutes","dragcancel","updateEvent","callback","_preventRefresh","_convertDates","sync","recurrenceHead","getByUid","updateSeries","updateOccurrence","exception","_showRecurringDialog","editRecurring","occurrenceText","seriesText","_modelForContainer","_confirmation","_isEditorOpened","deleteRecurringConfirmation","deleteSeriesConfirmation","cancelEvent","_editEvent","saveEvent","dirty","_editRecurringDialog","_createPopupEditor","editOccurrence","editSeries","editRecurringMode","_createButton","commandName","_set","_deleteRecurringDialog","_removeEvent","occurrence","occurrencesInRange","deleteOccurrenceConfirmation","seriesCallback","occurrenceCallback","currentModel","deleteOccurrence","deleteSeries","deleteRecurring","_unbindView","angular","elements","_bindView","_viewRemoveHandler","_viewAddHandler","_viewEditHandler","_viewNavigateHandler","switchWorkDay","action","isWorkDay","_workDayMode","_selectView","_viewActivateHandler","constrainSelection","viewButton","firstButton","viewButtons","_selectedView","_renderView","_selectedViewName","_viewsCount","replaceWith","prepend","toLowerCase","rebind","viewName","_initializeView","dateForTitle","shortDateForTitle","force","getSize","currentSize","refresh","selectedDate","isInDateRange","setFullYear","getFullYear","getMonth","isSettings","showWorkHours","defaultView","selected","hasType","allDay","time","_requestStart","_error","_progress","progress","promises","when","then","observable","formattedDate","formattedShortDate","commands","grep","viewsCount","saveAsPDF","li","nextDate","previousDate","_showCalendar","toggleClass","hover","anchor","change","copyAnchorStyles","refreshLayout","render","slotByPosition","slotByElement","top","resourcesBySlot","plugin","PDFMixin","_drawPDF","scheduler","promise","table","styles","Deferred","_drawPDFShadow","avoidLinks","done","args","page","pageNumber","totalPages","notify","resolve","fail","err","reject","always","zones","zones_titles","_zonesQuery","_zoneTitleId","_zoneTitlePicker","_zonePicker","_zoneTitle","_zone","_value","zoneTitle","DropDownList","cascadeFrom","dataBound","other_zone","_bindZones","_filter","_options","zonePicker","zone_value"],"mappings":"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","file":"kendo.scheduler.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                measureBox.textContent = text;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (String(text).length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.scheduler', [\n        'kendo.dropdownlist',\n        'kendo.editable',\n        'kendo.multiselect',\n        'kendo.window',\n        'kendo.datetimepicker',\n        'kendo.scheduler.recurrence',\n        'kendo.scheduler.view',\n        'kendo.scheduler.dayview',\n        'kendo.scheduler.agendaview',\n        'kendo.scheduler.monthview',\n        'kendo.scheduler.timelineview',\n        'kendo.mobile.actionsheet',\n        'kendo.mobile.pane',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'scheduler',\n        name: 'Scheduler',\n        category: 'web',\n        description: 'The Scheduler is an event calendar.',\n        depends: [\n            'dropdownlist',\n            'editable',\n            'multiselect',\n            'window',\n            'datepicker',\n            'datetimepicker',\n            'scheduler.recurrence',\n            'scheduler.view'\n        ],\n        features: [\n            {\n                id: 'scheduler-dayview',\n                name: 'Scheduler Day View',\n                description: 'Scheduler Day View',\n                depends: ['scheduler.dayview']\n            },\n            {\n                id: 'scheduler-agendaview',\n                name: 'Scheduler Agenda View',\n                description: 'Scheduler Agenda View',\n                depends: ['scheduler.agendaview']\n            },\n            {\n                id: 'scheduler-monthview',\n                name: 'Scheduler Month View',\n                description: 'Scheduler Month View',\n                depends: ['scheduler.monthview']\n            },\n            {\n                id: 'scheduler-timelineview',\n                name: 'Scheduler Timeline View',\n                description: 'Scheduler Timeline View',\n                depends: ['scheduler.timelineview']\n            },\n            {\n                id: 'scheduler-mobile',\n                name: 'Scheduler adaptive rendering',\n                description: 'Support for adaptive rendering',\n                depends: [\n                    'mobile.actionsheet',\n                    'mobile.pane'\n                ]\n            },\n            {\n                id: 'scheduler-pdf-export',\n                name: 'PDF export',\n                description: 'Export the scheduler events as PDF',\n                depends: [\n                    'pdf',\n                    'drawing'\n                ]\n            },\n            {\n                id: 'scheduler-timezones',\n                name: 'Timezones',\n                description: 'Allow selecting timezones different than Etc/UTC',\n                depends: ['timezones']\n            }\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, date = kendo.date, input_support = kendo.support.input, MS_PER_DAY = date.MS_PER_DAY, getDate = date.getDate, getMilliseconds = kendo.date.getMilliseconds, recurrence = kendo.recurrence, keys = kendo.keys, ui = kendo.ui, Widget = ui.Widget, DataBoundWidget = ui.DataBoundWidget, STRING = 'string', Popup = ui.Popup, Calendar = ui.Calendar, DataSource = kendo.data.DataSource, isPlainObject = $.isPlainObject, extend = $.extend, proxy = $.proxy, toString = Object.prototype.toString, isArray = $.isArray, NS = '.kendoScheduler', CLICK = 'click', CHANGE = 'change', CANCEL = 'cancel', REMOVE = 'remove', SAVE = 'save', ADD = 'add', EDIT = 'edit', valueStartEndBoundRegex = /(?:value:start|value:end)(?:,|$)/, TODAY = getDate(new Date()), EXCEPTION_SEPARATOR = ',', OLD_EXCEPTION_SEPARATOR_REGEXP = /\\;/g, RECURRENCE_EXCEPTION = 'recurrenceException', DELETECONFIRM = 'Are you sure you want to delete this event?', DELETERECURRING = 'Do you want to delete only this event occurrence or the whole series?', EDITRECURRING = 'Do you want to edit only this event occurrence or the whole series?', DELETERECURRINGCONFIRM = 'Are you sure you want to delete this event occurrence?', DELETESERIESCONFIRM = 'Are you sure you want to delete the whole series?', COMMANDBUTTONTMPL = '<a class=\"k-button #=className#\" #=attr# href=\"\\\\#\">#=text#</a>', VIEWBUTTONTEMPLATE = kendo.template('<li class=\"k-current-view\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>'), TOOLBARTEMPLATE = kendo.template('<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '# if (pdf) { #' + '<ul class=\"k-reset k-scheduler-tools\">' + '<li><a role=\"button\" href=\"\\\\#\" class=\"k-button k-pdf\"><span class=\"k-icon k-i-file-pdf\"></span>${messages.pdf}</a></li>' + '</ul>' + '# } #' + '<ul class=\"k-reset k-scheduler-navigation\">' + '<li class=\"k-state-default k-header k-nav-today\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${messages.today}</a></li>' + '<li class=\"k-state-default k-header k-nav-prev\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-60-left\"></span></a></li>' + '<li class=\"k-state-default k-header k-nav-next\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-60-right\"></span></a></li>' + '<li class=\"k-state-default k-nav-current\">' + '<a role=\"button\" href=\"\\\\#\" class=\"k-link\">' + '<span class=\"k-icon k-i-calendar\"></span>' + '<span class=\"k-sm-date-format\" data-#=ns#bind=\"text: formattedShortDate\"></span>' + '<span class=\"k-lg-date-format\" data-#=ns#bind=\"text: formattedDate\"></span>' + '</a>' + '</li>' + '</ul>' + '#if(viewsCount === 1){#' + '<a role=\"button\" data-#=ns#name=\"#=view#\" href=\"\\\\#\" class=\"k-link k-scheduler-refresh\">' + '<span class=\"k-icon k-i-reload\"></span>' + '</a>' + '#}else{#' + '<ul class=\"k-reset k-header k-scheduler-views\">' + '#for(var view in views){#' + '<li class=\"k-state-default k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>' + '#}#' + '</ul>' + '#}#' + '</div>'), MOBILETOOLBARTEMPLATE = kendo.template('<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '<ul class=\"k-reset k-header k-scheduler-navigation\">' + '<li class=\"k-state-default k-nav-today\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${messages.today}</a></li>' + '</ul>' + '#if(viewsCount === 1){#' + '<a role=\"button\" data-#=ns#name=\"#=view#\" href=\"\\\\#\" class=\"k-link k-scheduler-refresh\">' + '<span class=\"k-icon k-i-reload\"></span>' + '</a>' + '#}else{#' + '<ul class=\"k-reset k-header k-scheduler-views\">' + '#for(var view in views){#' + '<li class=\"k-state-default k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\">${views[view].title}</a></li>' + '#}#' + '</ul>' + '#}#' + '</div>' + '<div class=\"k-floatwrap k-header k-scheduler-toolbar\">' + '<ul class=\"k-reset k-header k-scheduler-navigation\">' + '<li class=\"k-state-default k-nav-prev\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-60-left\"></span></a></li>' + '<li class=\"k-state-default k-nav-current\">' + '<span class=\"k-sm-date-format\" data-#=ns#bind=\"text: formattedShortDate\"></span>' + '<span class=\"k-lg-date-format\" data-#=ns#bind=\"text: formattedDate\"></span>' + '</li>' + '<li class=\"k-state-default k-nav-next\"><a role=\"button\" href=\"\\\\#\" class=\"k-link\"><span class=\"k-icon k-i-arrow-60-right\"></span></a></li>' + '</ul>' + '</div>'), MOBILEDATERANGEEDITOR = function (container, options) {\n                var attr = { name: options.field };\n                var datepicker_role = !input_support.date ? kendo.attr('role') + '=\"datepicker\" ' : '';\n                var datetimepicker_role = kendo.attr('role') + '=\"datetimepicker\" ';\n                var isAllDay = options.model.isAllDay;\n                var dateTimeValidate = kendo.attr('validate') + '=\\'' + !isAllDay + '\\'';\n                var dateValidate = kendo.attr('validate') + '=\\'' + isAllDay + '\\'';\n                appendTimezoneAttr(attr, options);\n                appendDateCompareValidator(attr, options);\n                $('<input type=\"datetime-local\" required ' + kendo.attr('type') + '=\"date\" ' + datetimepicker_role + kendo.attr('bind') + '=\"value:' + options.field + ',invisible:isAllDay\" ' + dateTimeValidate + '/>').attr(attr).appendTo(container);\n                $('<input type=\"date\" required ' + kendo.attr('type') + '=\"date\" ' + datepicker_role + kendo.attr('bind') + '=\"value:' + options.field + ',visible:isAllDay\" ' + dateValidate + '/>').attr(attr).appendTo(container);\n                $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\n            }, DATERANGEEDITOR = function (container, options) {\n                var attr = { name: options.field }, isAllDay = options.model.isAllDay, dateTimeValidate = kendo.attr('validate') + '=\\'' + !isAllDay + '\\' ', dateValidate = kendo.attr('validate') + '=\\'' + isAllDay + '\\' ';\n                appendTimezoneAttr(attr, options);\n                appendDateCompareValidator(attr, options);\n                $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\"' + ' ' + kendo.attr('role') + '=\"datetimepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + ',invisible:isAllDay\" ' + dateTimeValidate + '/>').attr(attr).appendTo(container);\n                $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\"' + ' ' + kendo.attr('role') + '=\"datepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + ',visible:isAllDay\" ' + dateValidate + '/>').attr(attr).appendTo(container);\n                $('<span ' + kendo.attr('bind') + '=\"text: ' + options.field + 'Timezone\"></span>').appendTo(container);\n                if (options.field === 'end') {\n                    $('<span ' + kendo.attr('bind') + '=\"text: startTimezone, invisible: endTimezone\"></span>').appendTo(container);\n                }\n                $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\n            }, RECURRENCEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).appendTo(container).kendoRecurrenceEditor({\n                    start: options.model.start,\n                    timezone: options.timezone,\n                    messages: options.messages\n                });\n            }, MOBILERECURRENCEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).appendTo(container).kendoMobileRecurrenceEditor({\n                    start: options.model.start,\n                    timezone: options.timezone,\n                    messages: options.messages,\n                    pane: options.pane,\n                    value: options.model[options.field]\n                });\n            }, MOBILETIMEZONEPOPUP = function (container, options) {\n                var text = timezoneButtonText(options.model, options.messages.noTimezone);\n                $('<a href=\"#\" class=\"k-button k-timezone-button\" data-bind=\"invisible:isAllDay\">' + text + '</a>').click(options.click).appendTo(container);\n            }, TIMEZONEPOPUP = function (container, options) {\n                $('<a href=\"#\" class=\"k-button\" data-bind=\"invisible:isAllDay\">' + options.messages.timezoneEditorButton + '</a>').click(options.click).appendTo(container);\n            }, MOBILETIMEZONEEDITOR = function (container, options) {\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).toggle(options.visible).appendTo(container).kendoMobileTimezoneEditor({ optionLabel: options.noTimezone });\n            }, TIMEZONEEDITOR = function (container, options) {\n                var visible = options.visible || options.visible === undefined;\n                $('<div ' + kendo.attr('bind') + '=\"value:' + options.field + '\" />').attr({ name: options.field }).toggle(visible).appendTo(container).kendoTimezoneEditor({ optionLabel: options.noTimezone });\n            };\n        function timezoneButtonText(model, message) {\n            message = message || '';\n            if (model.startTimezone) {\n                message = model.startTimezone;\n                if (model.endTimezone) {\n                    message += ' | ' + model.endTimezone;\n                }\n            }\n            return message;\n        }\n        function appendTimezoneAttr(attrs, options) {\n            var timezone = options.timezone;\n            if (timezone) {\n                attrs[kendo.attr('timezone')] = timezone;\n            }\n        }\n        function appendDateCompareValidator(attrs, options) {\n            var validationRules = options.model.fields[options.field].validation;\n            if (validationRules) {\n                var dateCompareRule = validationRules.dateCompare;\n                if (dateCompareRule && isPlainObject(dateCompareRule) && dateCompareRule.message) {\n                    attrs[kendo.attr('dateCompare-msg')] = dateCompareRule.message;\n                }\n            }\n        }\n        function wrapDataAccess(originalFunction, timezone) {\n            return function (data) {\n                data = originalFunction(data);\n                convertData(data, 'apply', timezone);\n                return data || [];\n            };\n        }\n        function wrapDataSerialization(originalFunction, timezone) {\n            return function (data) {\n                if (data) {\n                    if (toString.call(data) !== '[object Array]' && !(data instanceof kendo.data.ObservableArray)) {\n                        data = [data];\n                    }\n                }\n                convertData(data, 'remove', timezone, true);\n                data = originalFunction(data);\n                return data || [];\n            };\n        }\n        function convertData(data, method, timezone, removeUid) {\n            var event, idx, length;\n            data = data || [];\n            for (idx = 0, length = data.length; idx < length; idx++) {\n                event = data[idx];\n                if (removeUid) {\n                    if (event.startTimezone || event.endTimezone) {\n                        if (timezone) {\n                            event.start = kendo.timezone.convert(event.start, event.startTimezone || event.endTimezone, timezone);\n                            event.end = kendo.timezone.convert(event.end, event.endTimezone || event.startTimezone, timezone);\n                            event.start = kendo.timezone[method](event.start, timezone);\n                            event.end = kendo.timezone[method](event.end, timezone);\n                        } else {\n                            event.start = kendo.timezone[method](event.start, event.startTimezone || event.endTimezone);\n                            event.end = kendo.timezone[method](event.end, event.endTimezone || event.startTimezone);\n                        }\n                    } else if (timezone) {\n                        event.start = kendo.timezone[method](event.start, timezone);\n                        event.end = kendo.timezone[method](event.end, timezone);\n                    }\n                } else {\n                    if (event.startTimezone || event.endTimezone) {\n                        event.start = kendo.timezone[method](event.start, event.startTimezone || event.endTimezone);\n                        event.end = kendo.timezone[method](event.end, event.endTimezone || event.startTimezone);\n                        if (timezone) {\n                            event.start = kendo.timezone.convert(event.start, event.startTimezone || event.endTimezone, timezone);\n                            event.end = kendo.timezone.convert(event.end, event.endTimezone || event.startTimezone, timezone);\n                        }\n                    } else if (timezone) {\n                        event.start = kendo.timezone[method](event.start, timezone);\n                        event.end = kendo.timezone[method](event.end, timezone);\n                    }\n                }\n                if (removeUid) {\n                    delete event.uid;\n                }\n            }\n            return data;\n        }\n        function getOccurrenceByUid(data, uid) {\n            var length = data.length, idx = 0, event;\n            for (; idx < length; idx++) {\n                event = data[idx];\n                if (event.uid === uid) {\n                    return event;\n                }\n            }\n        }\n        var SchedulerDataReader = kendo.Class.extend({\n            init: function (schema, reader) {\n                var timezone = schema.timezone;\n                this.reader = reader;\n                if (reader.model) {\n                    this.model = reader.model;\n                }\n                this.timezone = timezone;\n                this.data = wrapDataAccess($.proxy(this.data, this), timezone);\n                this.serialize = wrapDataSerialization($.proxy(this.serialize, this), timezone);\n            },\n            errors: function (data) {\n                return this.reader.errors(data);\n            },\n            parse: function (data) {\n                return this.reader.parse(data);\n            },\n            data: function (data) {\n                return this.reader.data(data);\n            },\n            total: function (data) {\n                return this.reader.total(data);\n            },\n            groups: function (data) {\n                return this.reader.groups(data);\n            },\n            aggregates: function (data) {\n                return this.reader.aggregates(data);\n            },\n            serialize: function (data) {\n                return this.reader.serialize(data);\n            }\n        });\n        function applyZone(date, fromZone, toZone) {\n            if (toZone) {\n                date = kendo.timezone.convert(date, fromZone, toZone);\n            } else {\n                date = kendo.timezone.remove(date, fromZone);\n            }\n            return date;\n        }\n        function dateCompareValidator(input) {\n            if (input.filter('[name=end]').length) {\n                var container = input.closest('.k-scheduler-edit-form');\n                var startInput = container.find('[name=start]:visible');\n                var endInput = container.find('[name=end]:visible');\n                if (endInput[0] && startInput[0]) {\n                    var start, end;\n                    var startPicker = kendo.widgetInstance(startInput, kendo.ui);\n                    var endPicker = kendo.widgetInstance(endInput, kendo.ui);\n                    var editable = container.data('kendoEditable');\n                    var model = editable ? editable.options.model : null;\n                    if (startPicker && endPicker) {\n                        start = startPicker.value();\n                        end = endPicker.value();\n                    } else {\n                        start = kendo.parseDate(startInput.val());\n                        end = kendo.parseDate(endInput.val());\n                    }\n                    if (start && end) {\n                        if (model) {\n                            var timezone = startInput.attr(kendo.attr('timezone'));\n                            var startTimezone = model.startTimezone;\n                            var endTimezone = model.endTimezone;\n                            startTimezone = startTimezone || endTimezone;\n                            endTimezone = endTimezone || startTimezone;\n                            if (startTimezone) {\n                                start = applyZone(start, startTimezone, timezone);\n                                end = applyZone(end, endTimezone, timezone);\n                            }\n                        }\n                        return start <= end;\n                    }\n                }\n            }\n            return true;\n        }\n        var SchedulerEvent = kendo.data.Model.define({\n            init: function (value) {\n                var that = this;\n                kendo.data.Model.fn.init.call(that, value);\n                that._defaultId = that.defaults[that.idField];\n            },\n            _time: function (field) {\n                var date = this[field];\n                var fieldTime = '_' + field + 'Time';\n                if (this[fieldTime]) {\n                    return this[fieldTime] - kendo.date.toUtcTime(kendo.date.getDate(date));\n                }\n                return getMilliseconds(date);\n            },\n            _date: function (field) {\n                var fieldTime = '_' + field + 'Time';\n                if (this[fieldTime]) {\n                    return this[fieldTime] - this._time(field);\n                }\n                return kendo.date.getDate(this[field]);\n            },\n            clone: function (options, updateUid) {\n                var uid = this.uid, event = new this.constructor($.extend({}, this.toJSON(), options));\n                if (!updateUid) {\n                    event.uid = uid;\n                }\n                return event;\n            },\n            duration: function () {\n                var end = this.end;\n                var start = this.start;\n                var offset = (end.getTimezoneOffset() - start.getTimezoneOffset()) * kendo.date.MS_PER_MINUTE;\n                return end - start - offset;\n            },\n            expand: function (start, end, zone) {\n                return recurrence ? recurrence.expand(this, start, end, zone) : [this];\n            },\n            update: function (eventInfo) {\n                for (var field in eventInfo) {\n                    this.set(field, eventInfo[field]);\n                }\n                if (this._startTime) {\n                    this.set('_startTime', kendo.date.toUtcTime(this.start));\n                }\n                if (this._endTime) {\n                    this.set('_endTime', kendo.date.toUtcTime(this.end));\n                }\n            },\n            isMultiDay: function () {\n                return this.isAllDay || this.duration() >= kendo.date.MS_PER_DAY;\n            },\n            isException: function () {\n                return !this.isNew() && this.recurrenceId;\n            },\n            isOccurrence: function () {\n                return this.isNew() && this.recurrenceId;\n            },\n            isRecurring: function () {\n                return !!(this.recurrenceRule || this.recurrenceId);\n            },\n            isRecurrenceHead: function () {\n                return !!(this.id && this.recurrenceRule);\n            },\n            toOccurrence: function (options) {\n                options = $.extend(options, {\n                    recurrenceException: null,\n                    recurrenceRule: null,\n                    recurrenceId: this.id || this.recurrenceId\n                });\n                options[this.idField] = this.defaults[this.idField];\n                return this.clone(options, true);\n            },\n            toJSON: function () {\n                var obj = kendo.data.Model.fn.toJSON.call(this);\n                obj.uid = this.uid;\n                delete obj._startTime;\n                delete obj._endTime;\n                return obj;\n            },\n            shouldSerialize: function (field) {\n                return kendo.data.Model.fn.shouldSerialize.call(this, field) && field !== '_defaultId';\n            },\n            set: function (key, value) {\n                var isAllDay = this.isAllDay || false;\n                kendo.data.Model.fn.set.call(this, key, value);\n                if (key == 'isAllDay' && value != isAllDay) {\n                    var start = kendo.date.getDate(this.start);\n                    var end = new Date(this.end);\n                    var milliseconds = kendo.date.getMilliseconds(end);\n                    if (milliseconds === 0 && value) {\n                        milliseconds = MS_PER_DAY;\n                    }\n                    this.set('start', start);\n                    if (value === true) {\n                        kendo.date.setTime(end, -milliseconds);\n                        if (end < start) {\n                            end = start;\n                        }\n                    } else {\n                        kendo.date.setTime(end, MS_PER_DAY - milliseconds);\n                    }\n                    this.set('end', end);\n                }\n            },\n            id: 'id',\n            fields: {\n                id: { type: 'number' },\n                title: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                start: {\n                    type: 'date',\n                    validation: { required: true }\n                },\n                startTimezone: { type: 'string' },\n                end: {\n                    type: 'date',\n                    validation: {\n                        required: true,\n                        dateCompare: { value: dateCompareValidator }\n                    }\n                },\n                endTimezone: { type: 'string' },\n                recurrenceRule: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                recurrenceException: {\n                    defaultValue: '',\n                    type: 'string'\n                },\n                isAllDay: {\n                    type: 'boolean',\n                    defaultValue: false\n                },\n                description: { type: 'string' }\n            }\n        });\n        var SchedulerDataSource = DataSource.extend({\n            init: function (options) {\n                DataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: SchedulerEvent,\n                        model: SchedulerEvent\n                    }\n                }, options));\n                this.reader = new SchedulerDataReader(this.options.schema, this.reader);\n            },\n            expand: function (start, end) {\n                var data = this.view(), filter = {};\n                if (start && end) {\n                    end = new Date(end.getTime() + MS_PER_DAY - 1);\n                    filter = {\n                        logic: 'or',\n                        filters: [\n                            {\n                                logic: 'and',\n                                filters: [\n                                    {\n                                        field: 'start',\n                                        operator: 'gte',\n                                        value: start\n                                    },\n                                    {\n                                        field: 'end',\n                                        operator: 'gte',\n                                        value: start\n                                    },\n                                    {\n                                        field: 'start',\n                                        operator: 'lte',\n                                        value: end\n                                    }\n                                ]\n                            },\n                            {\n                                logic: 'and',\n                                filters: [\n                                    {\n                                        field: 'start',\n                                        operator: 'lte',\n                                        value: new Date(start.getTime() + MS_PER_DAY - 1)\n                                    },\n                                    {\n                                        field: 'end',\n                                        operator: 'gte',\n                                        value: start\n                                    }\n                                ]\n                            }\n                        ]\n                    };\n                    data = new kendo.data.Query(expandAll(data, start, end, this.reader.timezone)).filter(filter).toArray();\n                }\n                return data;\n            },\n            cancelChanges: function (model) {\n                if (model && model.isOccurrence()) {\n                    this._removeExceptionDate(model);\n                }\n                DataSource.fn.cancelChanges.call(this, model);\n            },\n            insert: function (index, model) {\n                if (!model) {\n                    return;\n                }\n                if (!(model instanceof SchedulerEvent)) {\n                    var eventInfo = model;\n                    model = this._createNewModel();\n                    model.accept(eventInfo);\n                }\n                if (!this._pushCreated && model.isRecurrenceHead() || model.recurrenceId) {\n                    model = model.recurrenceId ? model : model.toOccurrence();\n                    this._addExceptionDate(model);\n                }\n                return DataSource.fn.insert.call(this, index, model);\n            },\n            pushCreate: function (items) {\n                this._pushCreated = true;\n                DataSource.fn.pushCreate.call(this, items);\n                this._pushCreated = false;\n            },\n            remove: function (model) {\n                if (model.isRecurrenceHead()) {\n                    this._removeExceptions(model);\n                } else if (model.isRecurring()) {\n                    this._addExceptionDate(model);\n                }\n                return DataSource.fn.remove.call(this, model);\n            },\n            _removeExceptions: function (model) {\n                var data = this.data().slice(0), item = data.shift(), id = model.id;\n                while (item) {\n                    if (item.recurrenceId === id) {\n                        DataSource.fn.remove.call(this, item);\n                    }\n                    item = data.shift();\n                }\n                model.set(RECURRENCE_EXCEPTION, '');\n            },\n            _removeExceptionDate: function (model) {\n                if (model.recurrenceId) {\n                    var head = this.get(model.recurrenceId);\n                    if (head) {\n                        var start = model.start;\n                        var replaceRegExp = new RegExp('(\\\\' + EXCEPTION_SEPARATOR + '?)' + recurrence.toExceptionString(start, this.reader.timezone));\n                        var recurrenceException = (head.recurrenceException || '').replace(OLD_EXCEPTION_SEPARATOR_REGEXP, EXCEPTION_SEPARATOR).replace(/\\,$/, '');\n                        head.set(RECURRENCE_EXCEPTION, recurrenceException.replace(replaceRegExp, ''));\n                    }\n                }\n            },\n            _addExceptionDate: function (model) {\n                var start = model.start;\n                var zone = this.reader.timezone;\n                var head = this.get(model.recurrenceId);\n                var recurrenceException = (head.recurrenceException || '').replace(OLD_EXCEPTION_SEPARATOR_REGEXP, EXCEPTION_SEPARATOR).replace(/\\,$/, '');\n                if (!recurrence.isException(recurrenceException, start, zone)) {\n                    var newException = recurrence.toExceptionString(start, zone);\n                    head.set(RECURRENCE_EXCEPTION, recurrenceException + (recurrenceException && newException ? EXCEPTION_SEPARATOR : '') + newException);\n                }\n            }\n        });\n        function expandAll(events, start, end, zone) {\n            var length = events.length, data = [], idx = 0;\n            for (; idx < length; idx++) {\n                data = data.concat(events[idx].expand(start, end, zone));\n            }\n            return data;\n        }\n        SchedulerDataSource.create = function (options) {\n            if (isArray(options) || options instanceof kendo.data.ObservableArray) {\n                options = { data: options };\n            }\n            var dataSource = options || {}, data = dataSource.data;\n            dataSource.data = data;\n            if (!(dataSource instanceof SchedulerDataSource) && dataSource instanceof kendo.data.DataSource) {\n                throw new Error('Incorrect DataSource type. Only SchedulerDataSource instances are supported');\n            }\n            return dataSource instanceof SchedulerDataSource ? dataSource : new SchedulerDataSource(dataSource);\n        };\n        extend(true, kendo.data, {\n            SchedulerDataSource: SchedulerDataSource,\n            SchedulerDataReader: SchedulerDataReader,\n            SchedulerEvent: SchedulerEvent\n        });\n        var defaultCommands = {\n            update: {\n                text: 'Save',\n                className: 'k-primary k-scheduler-update'\n            },\n            canceledit: {\n                text: 'Cancel',\n                className: 'k-scheduler-cancel'\n            },\n            destroy: {\n                text: 'Delete',\n                imageClass: 'k-i-close',\n                className: 'k-primary k-scheduler-delete',\n                iconClass: 'k-icon'\n            }\n        };\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n            return options;\n        }\n        function createValidationAttributes(model, field) {\n            var modelField = (model.fields || model)[field];\n            var specialRules = [\n                'url',\n                'email',\n                'number',\n                'date',\n                'boolean'\n            ];\n            var validation = modelField ? modelField.validation : {};\n            var datatype = kendo.attr('type');\n            var inArray = $.inArray;\n            var ruleName;\n            var rule;\n            var attr = {};\n            for (ruleName in validation) {\n                rule = validation[ruleName];\n                if (inArray(ruleName, specialRules) >= 0) {\n                    attr[datatype] = ruleName;\n                } else if (!kendo.isFunction(rule)) {\n                    attr[ruleName] = isPlainObject(rule) ? rule.value || ruleName : rule;\n                }\n                attr[kendo.attr(ruleName + '-msg')] = rule.message;\n            }\n            return attr;\n        }\n        function dropDownResourceEditor(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                $(kendo.format('<select data-{0}bind=\"value:{1}\">', kendo.ns, resource.field)).appendTo(container).attr(attr).kendoDropDownList({\n                    dataTextField: resource.dataTextField,\n                    dataValueField: resource.dataValueField,\n                    dataSource: resource.dataSource,\n                    valuePrimitive: resource.valuePrimitive,\n                    optionLabel: 'None',\n                    template: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField)\n                });\n            };\n        }\n        function descriptionEditor(options) {\n            var attr = createValidationAttributes(options.model, options.field);\n            return function (container) {\n                $('<textarea name=\"description\" class=\"k-textbox\"/>').attr(attr).appendTo(container);\n            };\n        }\n        function multiSelectResourceEditor(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                $(kendo.format('<select data-{0}bind=\"value:{1}\">', kendo.ns, resource.field)).appendTo(container).attr(attr).kendoMultiSelect({\n                    dataTextField: resource.dataTextField,\n                    dataValueField: resource.dataValueField,\n                    dataSource: resource.dataSource,\n                    valuePrimitive: resource.valuePrimitive,\n                    itemTemplate: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField),\n                    tagTemplate: kendo.format('<span class=\"k-scheduler-mark\" style=\"background-color:#= data.{0}?{0}:\"none\" #\"></span>#={1}#', resource.dataColorField, resource.dataTextField)\n                });\n            };\n        }\n        function multiSelectResourceEditorMobile(resource, model) {\n            var attr = createValidationAttributes(model, resource.field);\n            return function (container) {\n                var options = '';\n                var view = resource.dataSource.view();\n                for (var idx = 0, length = view.length; idx < length; idx++) {\n                    options += kendo.format('<option value=\"{0}\">{1}</option>', kendo.getter(resource.dataValueField)(view[idx]), kendo.getter(resource.dataTextField)(view[idx]));\n                }\n                $(kendo.format('<select data-{0}bind=\"value:{1}\" multiple=\"multiple\" data-{0}value-primitive=\"{3}\">{2}</select>', kendo.ns, resource.field, options, resource.valuePrimitive)).appendTo(container).attr(attr);\n            };\n        }\n        function moveEventRange(event, distance) {\n            var duration = event.end.getTime() - event.start.getTime();\n            var start = new Date(event.start.getTime());\n            kendo.date.setTime(start, distance);\n            var end = new Date(start.getTime());\n            kendo.date.setTime(end, duration, true);\n            return {\n                start: start,\n                end: end\n            };\n        }\n        var editors = {\n            mobile: {\n                dateRange: MOBILEDATERANGEEDITOR,\n                timezonePopUp: MOBILETIMEZONEPOPUP,\n                timezone: MOBILETIMEZONEEDITOR,\n                recurrence: MOBILERECURRENCEEDITOR,\n                description: descriptionEditor,\n                multipleResources: multiSelectResourceEditorMobile,\n                resources: dropDownResourceEditor\n            },\n            desktop: {\n                dateRange: DATERANGEEDITOR,\n                timezonePopUp: TIMEZONEPOPUP,\n                timezone: TIMEZONEEDITOR,\n                recurrence: RECURRENCEEDITOR,\n                description: descriptionEditor,\n                multipleResources: multiSelectResourceEditor,\n                resources: dropDownResourceEditor\n            }\n        };\n        var Editor = kendo.Observable.extend({\n            init: function (element, options) {\n                kendo.Observable.fn.init.call(this);\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n                this.createButton = this.options.createButton;\n                this.toggleDateValidationHandler = proxy(this._toggleDateValidation, this);\n            },\n            _toggleDateValidation: function (e) {\n                if (e.field == 'isAllDay') {\n                    var container = this.container, isAllDay = this.editable.options.model.isAllDay, bindAttribute = kendo.attr('bind'), element, isDateTimeInput, shouldValidate;\n                    container.find('[' + bindAttribute + '*=end],[' + bindAttribute + '*=start]').each(function () {\n                        element = $(this);\n                        if (valueStartEndBoundRegex.test(element.attr(bindAttribute))) {\n                            isDateTimeInput = element.is('[' + kendo.attr('role') + '=datetimepicker],[type*=datetime]');\n                            shouldValidate = isAllDay !== isDateTimeInput;\n                            element.attr(kendo.attr('validate'), shouldValidate);\n                        }\n                    });\n                }\n            },\n            fields: function (editors, model) {\n                var that = this;\n                var messages = that.options.messages;\n                var timezone = that.options.timezone;\n                var click = function (e) {\n                    e.preventDefault();\n                    that._initTimezoneEditor(model, this);\n                };\n                var fields = [\n                    {\n                        field: 'title',\n                        title: messages.editor.title\n                    },\n                    {\n                        field: 'start',\n                        title: messages.editor.start,\n                        editor: editors.dateRange,\n                        timezone: timezone\n                    },\n                    {\n                        field: 'end',\n                        title: messages.editor.end,\n                        editor: editors.dateRange,\n                        timezone: timezone\n                    },\n                    {\n                        field: 'isAllDay',\n                        title: messages.editor.allDayEvent\n                    }\n                ];\n                if (kendo.timezone.windows_zones) {\n                    fields.push({\n                        field: 'timezone',\n                        title: messages.editor.timezone,\n                        editor: editors.timezonePopUp,\n                        click: click,\n                        messages: messages.editor,\n                        model: model\n                    });\n                    fields.push({\n                        field: 'startTimezone',\n                        title: messages.editor.startTimezone,\n                        editor: editors.timezone,\n                        noTimezone: messages.editor.noTimezone\n                    });\n                    fields.push({\n                        field: 'endTimezone',\n                        title: messages.editor.endTimezone,\n                        editor: editors.timezone,\n                        noTimezone: messages.editor.noTimezone\n                    });\n                }\n                if (!model.recurrenceId) {\n                    fields.push({\n                        field: 'recurrenceRule',\n                        title: messages.editor.repeat,\n                        editor: editors.recurrence,\n                        timezone: timezone,\n                        messages: messages.recurrenceEditor,\n                        pane: this.pane\n                    });\n                }\n                if ('description' in model) {\n                    fields.push({\n                        field: 'description',\n                        title: messages.editor.description,\n                        editor: editors.description({\n                            model: model,\n                            field: 'description'\n                        })\n                    });\n                }\n                for (var resourceIndex = 0; resourceIndex < this.options.resources.length; resourceIndex++) {\n                    var resource = this.options.resources[resourceIndex];\n                    fields.push({\n                        field: resource.field,\n                        title: resource.title,\n                        editor: resource.multiple ? editors.multipleResources(resource, model) : editors.resources(resource, model)\n                    });\n                }\n                return fields;\n            },\n            end: function () {\n                return this.editable.end();\n            },\n            _buildEditTemplate: function (model, fields, editableFields) {\n                var messages = this.options.messages;\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var template = this.options.editable.template;\n                var html = '';\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                } else {\n                    for (var idx = 0, length = fields.length; idx < length; idx++) {\n                        var field = fields[idx];\n                        if (field.field === 'startTimezone') {\n                            html += '<div class=\"k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones\" style=\"display:none\">';\n                            html += '<div class=\"k-edit-form-container\">';\n                            html += '<div class=\"k-edit-label\"></div>';\n                            html += '<div class=\"k-edit-field\"><label class=\"k-check\"><input class=\"k-timezone-toggle\" type=\"checkbox\" />' + messages.editor.separateTimezones + '</label></div>';\n                        }\n                        html += '<div class=\"k-edit-label\"><label for=\"' + field.field + '\">' + (field.title || field.field || '') + '</label></div>';\n                        if (!model.editable || model.editable(field.field)) {\n                            editableFields.push(field);\n                            html += '<div ' + kendo.attr('container-for') + '=\"' + field.field + '\" class=\"k-edit-field\"></div>';\n                        } else {\n                            var tmpl = '#:';\n                            if (field.field) {\n                                field = kendo.expr(field.field, paramName);\n                                tmpl += field + '==null?\\'\\':' + field;\n                            } else {\n                                tmpl += '\\'\\'';\n                            }\n                            tmpl += '#';\n                            tmpl = kendo.template(tmpl, settings);\n                            html += '<div class=\"k-edit-field\">' + tmpl(model) + '</div>';\n                        }\n                        if (field.field === 'endTimezone') {\n                            html += this._createEndTimezoneButton();\n                        }\n                    }\n                }\n                return html;\n            },\n            _createEndTimezoneButton: function () {\n                return '</div></div>';\n            },\n            _revertTimezones: function (model) {\n                model.set('startTimezone', this._startTimezone);\n                model.set('endTimezone', this._endTimezone);\n                delete this._startTimezone;\n                delete this._endTimezone;\n            }\n        });\n        var MobileEditor = Editor.extend({\n            init: function () {\n                Editor.fn.init.apply(this, arguments);\n                this.pane = kendo.mobile.ui.Pane.wrap(this.element);\n                this.pane.element.parent().css('height', this.options.height);\n                this.view = this.pane.view();\n                this._actionSheetButtonTemplate = kendo.template('<li><a #=attr# class=\"k-button #=className#\" href=\"\\\\#\">#:text#</a></li>');\n                this._actionSheetPopupOptions = $(document.documentElement).hasClass('km-root') ? { modal: false } : {\n                    align: 'bottom center',\n                    position: 'bottom center',\n                    effect: 'slideIn:up'\n                };\n            },\n            options: {\n                animations: {\n                    left: 'slide',\n                    right: 'slide:right'\n                }\n            },\n            destroy: function () {\n                this.close();\n                this.unbind();\n                this.pane.destroy();\n            },\n            _initTimezoneEditor: function (model) {\n                var that = this;\n                var pane = that.pane;\n                var messages = that.options.messages;\n                var timezoneView = that.timezoneView;\n                var container = that.container.find('.k-scheduler-timezones');\n                var checkbox = container.find('.k-timezone-toggle');\n                var endTimezoneRow = container.find('.k-edit-label:last').add(container.find('.k-edit-field:last'));\n                var startTimezoneChange = function (e) {\n                    if (e.field === 'startTimezone') {\n                        var value = model.startTimezone;\n                        checkbox.prop('disabled', !value);\n                        if (!value) {\n                            endTimezoneRow.hide();\n                            model.set('endTimezone', '');\n                            checkbox.prop('checked', false);\n                        }\n                    }\n                };\n                that._startTimezone = model.startTimezone || '';\n                that._endTimezone = model.endTimezone || '';\n                if (!timezoneView) {\n                    var html = '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form k-mobile-list\">' + '<div data-role=\"header\" class=\"k-header\"><a href=\"#\" class=\"k-button k-scheduler-cancel\">' + messages.cancel + '</a>' + messages.editor.timezoneTitle + '<a href=\"#\" class=\"k-button k-scheduler-update\">' + messages.save + '</a></div></div>';\n                    this.timezoneView = timezoneView = pane.append(html);\n                    timezoneView.contentElement().append(container.show());\n                    timezoneView.element.on(CLICK + NS, '.k-scheduler-cancel, .k-scheduler-update', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        if ($(this).hasClass('k-scheduler-cancel')) {\n                            that._revertTimezones(model);\n                        }\n                        model.unbind('change', startTimezoneChange);\n                        var editView = pane.element.find('#edit').data('kendoMobileView');\n                        var text = timezoneButtonText(model, messages.editor.noTimezone);\n                        editView.contentElement().find('.k-timezone-button').text(text);\n                        pane.navigate(editView, that.options.animations.right);\n                    });\n                    checkbox.click(function () {\n                        endTimezoneRow.toggle(checkbox.prop('checked'));\n                        model.set('endTimezone', '');\n                    });\n                    model.bind('change', startTimezoneChange);\n                }\n                checkbox.prop('checked', model.endTimezone).prop('disabled', !model.startTimezone);\n                if (model.endTimezone) {\n                    endTimezoneRow.show();\n                } else {\n                    endTimezoneRow.hide();\n                }\n                pane.navigate(timezoneView, that.options.animations.left);\n            },\n            _createActionSheetButton: function (options) {\n                options.template = this._actionSheetButtonTemplate;\n                return this.createButton(options);\n            },\n            showDialog: function (options) {\n                var type = '';\n                var html = '<ul><li class=\"km-actionsheet-title\">' + options.title + '</li>';\n                var target = this.element.find('.k-event[' + kendo.attr('uid') + '=\\'' + options.model.uid + '\\']');\n                if (this.container) {\n                    target = this.container.find('.k-scheduler-delete');\n                    if (target[0]) {\n                        type = 'phone';\n                    }\n                }\n                for (var buttonIndex = 0; buttonIndex < options.buttons.length; buttonIndex++) {\n                    html += this._createActionSheetButton(options.buttons[buttonIndex]);\n                }\n                html += '</ul>';\n                var actionSheet = $(html).appendTo(this.pane.view().element).kendoMobileActionSheet({\n                    type: type,\n                    cancel: this.options.messages.cancel,\n                    cancelTemplate: '<li class=\"km-actionsheet-cancel\"><a class=\"k-button\" href=\"\\\\#\">#:cancel#</a></li>',\n                    close: function () {\n                        this.destroy();\n                    },\n                    command: function (e) {\n                        var buttonIndex = actionSheet.element.find('li:not(.km-actionsheet-cancel) > .k-button').index($(e.currentTarget));\n                        if (buttonIndex > -1) {\n                            actionSheet.close();\n                            options.buttons[buttonIndex].click();\n                        }\n                    },\n                    popup: this._actionSheetPopupOptions\n                }).data('kendoMobileActionSheet');\n                actionSheet.open(target);\n            },\n            editEvent: function (model) {\n                var pane = this.pane;\n                var html = '';\n                var messages = this.options.messages;\n                var updateText = messages.save;\n                var removeText = messages.destroy;\n                var cancelText = messages.cancel;\n                var titleText = messages.editor.editorTitle;\n                html += '<div data-role=\"view\" class=\"k-popup-edit-form k-scheduler-edit-form k-mobile-list\" id=\"edit\" ' + kendo.attr('uid') + '=\"' + model.uid + '\">' + '<div data-role=\"header\" class=\"k-header\"><a href=\"#\" class=\"k-button k-scheduler-cancel\">' + cancelText + '</a>' + titleText + '<a href=\"#\" class=\"k-button k-scheduler-update\">' + updateText + '</a></div>';\n                var fields = this.fields(editors.mobile, model);\n                var that = this;\n                var editableFields = [];\n                html += this._buildEditTemplate(model, fields, editableFields);\n                if (!model.isNew() && this.options.editable && this.options.editable.destroy !== false) {\n                    html += '<div class=\"k-edit-buttons\"><a href=\"#\" class=\"k-scheduler-delete k-button\">' + removeText + '</a></div>';\n                }\n                html += '</div>';\n                var view = pane.append(html);\n                var container = this.container = view.element;\n                this.editable = container.kendoEditable({\n                    fields: editableFields,\n                    model: model,\n                    clearContainer: false,\n                    target: that.options.target,\n                    validateOnBlur: true\n                }).data('kendoEditable');\n                container.find('input[type=checkbox],input[type=radio]').parent('.k-edit-field').addClass('k-check').prev('.k-edit-label').addClass('k-check').click(function () {\n                    $(this).next().children('input').click();\n                });\n                if (!this.trigger('edit', {\n                        container: container,\n                        model: model\n                    })) {\n                    container.on(CLICK + NS, 'a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        var button = $(this);\n                        if (!button.hasClass('k-scheduler-edit')) {\n                            var name = 'cancel';\n                            if (button.hasClass('k-scheduler-update')) {\n                                name = 'save';\n                            } else if (button.hasClass('k-scheduler-delete')) {\n                                name = 'remove';\n                            }\n                            that.trigger(name, {\n                                container: container,\n                                model: model\n                            });\n                        } else {\n                            pane.navigate('#edit', that.options.animations.right);\n                        }\n                    });\n                    pane.navigate(view, that.options.animations.left);\n                    model.bind('change', that.toggleDateValidationHandler);\n                } else {\n                    this.trigger('cancel', {\n                        container: container,\n                        model: model\n                    });\n                }\n                return this.editable;\n            },\n            _views: function () {\n                return this.pane.element.find(kendo.roleSelector('view')).not(this.view.element);\n            },\n            close: function () {\n                if (this.container) {\n                    this.pane.navigate('', this.options.animations.right);\n                    var views = this._views();\n                    var view;\n                    for (var idx = 0, length = views.length; idx < length; idx++) {\n                        view = views.eq(idx).data('kendoMobileView');\n                        if (view) {\n                            view.purge();\n                        }\n                    }\n                    views.remove();\n                    this.container = null;\n                    if (this.editable) {\n                        this.editable.options.model.unbind('change', this.toggleDateValidationHandler);\n                        this.editable.destroy();\n                        this.editable = null;\n                    }\n                    this.timezoneView = null;\n                }\n            }\n        });\n        var PopupEditor = Editor.extend({\n            destroy: function () {\n                this.close();\n                this.unbind();\n            },\n            editEvent: function (model) {\n                var that = this;\n                var editable = that.options.editable;\n                var html = '<div ' + kendo.attr('uid') + '=\"' + model.uid + '\" class=\"k-popup-edit-form k-scheduler-edit-form\"><div class=\"k-edit-form-container\">';\n                var messages = that.options.messages;\n                var updateText = messages.save;\n                var cancelText = messages.cancel;\n                var deleteText = messages.destroy;\n                var fields = this.fields(editors.desktop, model);\n                var editableFields = [];\n                html += this._buildEditTemplate(model, fields, editableFields);\n                var attr;\n                var options = isPlainObject(editable) ? editable.window : {};\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                html += this.createButton({\n                    name: 'update',\n                    text: updateText,\n                    attr: attr\n                }) + this.createButton({\n                    name: 'canceledit',\n                    text: cancelText,\n                    attr: attr\n                });\n                if (!model.isNew() && editable.destroy !== false) {\n                    html += this.createButton({\n                        name: 'delete',\n                        text: deleteText,\n                        attr: attr\n                    });\n                }\n                html += '</div></div></div>';\n                var container = this.container = $(html).appendTo(that.element).eq(0).kendoWindow(extend({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    close: function (e) {\n                        if (e.userTriggered) {\n                            if (that.trigger(CANCEL, {\n                                    container: container,\n                                    model: model\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n                that.editable = container.kendoEditable({\n                    fields: editableFields,\n                    model: model,\n                    clearContainer: false,\n                    validateOnBlur: true,\n                    target: that.options.target\n                }).data('kendoEditable');\n                if (!that.trigger(EDIT, {\n                        container: container,\n                        model: model\n                    })) {\n                    container.data('kendoWindow').center().open();\n                    container.on(CLICK + NS, 'a.k-scheduler-cancel', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger(CANCEL, {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    container.on(CLICK + NS, 'a.k-scheduler-update', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger('save', {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    container.on(CLICK + NS, 'a.k-scheduler-delete', function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger(REMOVE, {\n                            container: container,\n                            model: model\n                        });\n                    });\n                    kendo.cycleForm(container);\n                    model.bind('change', that.toggleDateValidationHandler);\n                } else {\n                    that.trigger(CANCEL, {\n                        container: container,\n                        model: model\n                    });\n                }\n                return that.editable;\n            },\n            close: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        that.editable.options.model.unbind('change', that.toggleDateValidationHandler);\n                        that.editable.destroy();\n                        that.editable = null;\n                        that.container = null;\n                    }\n                    if (that.popup) {\n                        that.popup.destroy();\n                        that.popup = null;\n                    }\n                };\n                if (that.editable) {\n                    if (that._timezonePopup && that._timezonePopup.data('kendoWindow')) {\n                        that._timezonePopup.data('kendoWindow').destroy();\n                        that._timezonePopup = null;\n                    }\n                    if (that.container.is(':visible')) {\n                        that.container.data('kendoWindow').bind('deactivate', destroy).close();\n                    } else {\n                        destroy();\n                    }\n                } else {\n                    destroy();\n                }\n            },\n            _createEndTimezoneButton: function () {\n                var messages = this.options.messages;\n                var html = '';\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                html += this.createButton({\n                    name: 'savetimezone',\n                    text: messages.save\n                }) + this.createButton({\n                    name: 'canceltimezone',\n                    text: messages.cancel\n                });\n                html += '</div></div></div>';\n                return html;\n            },\n            showDialog: function (options) {\n                var html = kendo.format('<div class=\\'k-popup-edit-form\\'><div class=\\'k-edit-form-container\\'><p class=\\'k-popup-message\\'>{0}</p>', options.text);\n                html += '<div class=\"k-edit-buttons k-state-default\">';\n                for (var buttonIndex = 0; buttonIndex < options.buttons.length; buttonIndex++) {\n                    html += this.createButton(options.buttons[buttonIndex]);\n                }\n                html += '</div></div></div>';\n                var wrapper = this.element;\n                if (this.popup) {\n                    this.popup.destroy();\n                }\n                var popup = this.popup = $(html).appendTo(wrapper).eq(0).on('click', '.k-button', function (e) {\n                    e.preventDefault();\n                    popup.close();\n                    var buttonIndex = $(e.currentTarget).index();\n                    options.buttons[buttonIndex].click();\n                }).kendoWindow({\n                    modal: true,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    close: function () {\n                        this.destroy();\n                        wrapper.focus();\n                    }\n                }).getKendoWindow();\n                popup.center().open();\n            },\n            _initTimezoneEditor: function (model, activator) {\n                var that = this;\n                var container = that.container.find('.k-scheduler-timezones');\n                var checkbox = container.find('.k-timezone-toggle');\n                var endTimezoneRow = container.find('.k-edit-label:last').add(container.find('.k-edit-field:last'));\n                var saveButton = container.find('.k-scheduler-savetimezone');\n                var cancelButton = container.find('.k-scheduler-canceltimezone');\n                var timezonePopup = that._timezonePopup;\n                var startTimezoneChange = function (e) {\n                    if (e.field === 'startTimezone') {\n                        var value = model.startTimezone;\n                        checkbox.prop('disabled', !value);\n                        if (!value) {\n                            endTimezoneRow.hide();\n                            model.set('endTimezone', '');\n                            checkbox.prop('checked', false);\n                        }\n                    }\n                };\n                var wnd;\n                that._startTimezone = model.startTimezone;\n                that._endTimezone = model.endTimezone;\n                if (!timezonePopup) {\n                    that._timezonePopup = timezonePopup = container.kendoWindow({\n                        modal: true,\n                        resizable: false,\n                        draggable: true,\n                        title: that.options.messages.editor.timezoneEditorTitle,\n                        visible: false,\n                        close: function (e) {\n                            model.unbind('change', startTimezoneChange);\n                            if (e.userTriggered) {\n                                that._revertTimezones(model);\n                            }\n                            if (activator) {\n                                activator.focus();\n                            }\n                        }\n                    });\n                    checkbox.click(function () {\n                        endTimezoneRow.toggle(checkbox.prop('checked'));\n                        model.set('endTimezone', '');\n                    });\n                    saveButton.click(function (e) {\n                        e.preventDefault();\n                        wnd.close();\n                    });\n                    cancelButton.click(function (e) {\n                        e.preventDefault();\n                        that._revertTimezones(model);\n                        wnd.close();\n                    });\n                    model.bind('change', startTimezoneChange);\n                }\n                checkbox.prop('checked', model.endTimezone).prop('disabled', !model.startTimezone);\n                if (model.endTimezone) {\n                    endTimezoneRow.show();\n                } else {\n                    endTimezoneRow.hide();\n                }\n                wnd = timezonePopup.data('kendoWindow');\n                wnd.center().open();\n            }\n        });\n        var Scheduler = DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                if (!that.options.views || !that.options.views.length) {\n                    that.options.views = [\n                        'day',\n                        'week'\n                    ];\n                }\n                that.resources = [];\n                that._initModel();\n                that._wrapper();\n                that._views();\n                that._toolbar();\n                that._dataSource();\n                that._resources();\n                that._resizeHandler = function () {\n                    that.resize();\n                };\n                that.wrapper.on('mousedown' + NS + ' selectstart' + NS, function (e) {\n                    if (!$(e.target).is(':kendoFocusable')) {\n                        e.preventDefault();\n                    }\n                });\n                if (that.options.editable && that.options.editable.resize !== false) {\n                    that._resizable();\n                }\n                that._movable();\n                that._bindResize();\n                if (that.options.messages && that.options.messages.recurrence) {\n                    recurrence.options = that.options.messages.recurrence;\n                }\n                that._selectable();\n                that._ariaId = kendo.guid();\n                that._createEditor();\n            },\n            _bindResize: function () {\n                $(window).on('resize' + NS, this._resizeHandler);\n            },\n            _unbindResize: function () {\n                $(window).off('resize' + NS, this._resizeHandler);\n            },\n            dataItems: function () {\n                var that = this;\n                var items = that.items();\n                var events = that._data;\n                var eventsUids = $.map(items, function (item) {\n                    return $(item).attr('data-uid');\n                });\n                var i;\n                var key;\n                var dict = {};\n                var eventsUidsLength = eventsUids.length;\n                for (i = 0; i < eventsUidsLength; i++) {\n                    dict[eventsUids[i]] = null;\n                }\n                var eventsCount = events.length;\n                for (i = 0; i < eventsCount; i++) {\n                    var event = events[i];\n                    if (dict[event.uid] !== undefined) {\n                        dict[event.uid] = event;\n                    }\n                }\n                var sortedData = [];\n                for (key in dict) {\n                    sortedData.push(dict[key]);\n                }\n                return sortedData;\n            },\n            _isMobile: function () {\n                var options = this.options;\n                return options.mobile === true && kendo.support.mobileOS || options.mobile === 'phone' || options.mobile === 'tablet';\n            },\n            _isMobilePhoneView: function () {\n                var options = this.options;\n                return options.mobile === true && kendo.support.mobileOS && !kendo.support.mobileOS.tablet || options.mobile === 'phone';\n            },\n            _groupsByResource: function (resources, groupIndex, groupsArray, parentFieldValue, parentField) {\n                if (!groupsArray) {\n                    groupsArray = [];\n                }\n                var resource = resources[0];\n                if (resource) {\n                    var group;\n                    var data = resource.dataSource.view();\n                    var prevIndex = 0;\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        var fieldValue = kendo.getter(resource.dataValueField)(data[dataIndex]);\n                        var currentGroupIndex = groupIndex + prevIndex + dataIndex;\n                        group = this._groupsByResource(resources.slice(1), currentGroupIndex, groupsArray, fieldValue, resource.field);\n                        group[resource.field] = fieldValue;\n                        prevIndex = group.groupIndex;\n                        if (parentField && parentFieldValue) {\n                            group[parentField] = parentFieldValue;\n                        }\n                        if (resources.length === 1) {\n                            group.groupIndex = groupIndex + dataIndex;\n                            groupsArray.push(group);\n                        }\n                    }\n                    return group;\n                } else {\n                    return {};\n                }\n            },\n            data: function () {\n                return this._data;\n            },\n            select: function (options) {\n                var that = this;\n                var view = that.view();\n                var selection = that._selection;\n                var groups = view.groups;\n                var selectedGroups;\n                if (options === undefined) {\n                    var selectedEvents;\n                    var slots = view._selectedSlots;\n                    if (!selection) {\n                        return [];\n                    }\n                    if (selection && selection.events) {\n                        selectedEvents = that._selectedEvents();\n                    }\n                    return {\n                        start: selection.start,\n                        end: selection.end,\n                        events: selectedEvents,\n                        slots: slots,\n                        resources: view._resourceBySlot(selection)\n                    };\n                }\n                if (!options) {\n                    that._selection = null;\n                    that._old = null;\n                    view.clearSelection();\n                    return;\n                }\n                if ($.isArray(options)) {\n                    options = { events: options.splice(0) };\n                }\n                if (options.resources) {\n                    var fieldName;\n                    var filters = [];\n                    var groupsByResource = [];\n                    if (view.groupedResources) {\n                        that._groupsByResource(view.groupedResources, 0, groupsByResource);\n                    }\n                    for (fieldName in options.resources) {\n                        filters.push({\n                            field: fieldName,\n                            operator: 'eq',\n                            value: options.resources[fieldName]\n                        });\n                    }\n                    selectedGroups = new kendo.data.Query(groupsByResource).filter(filters).toArray();\n                }\n                if (options.events && options.events.length) {\n                    that._selectEvents(options.events, selectedGroups);\n                    that._select();\n                    return;\n                }\n                if (groups && (options.start && options.end)) {\n                    var rangeStart = getDate(view._startDate);\n                    var rangeEnd = kendo.date.addDays(getDate(view._endDate), 1);\n                    var group;\n                    var ranges;\n                    if (options.start < rangeEnd && rangeStart <= options.end) {\n                        if (selectedGroups && selectedGroups.length) {\n                            group = groups[selectedGroups[0].groupIndex];\n                        } else {\n                            group = groups[0];\n                        }\n                        ranges = group.ranges(options.start, options.end, options.isAllDay, false);\n                        if (ranges.length) {\n                            that._selection = {\n                                start: kendo.timezone.toLocalDate(ranges[0].start.start),\n                                end: kendo.timezone.toLocalDate(ranges[ranges.length - 1].end.end),\n                                groupIndex: ranges[0].start.groupIndex,\n                                index: ranges[0].start.index,\n                                isAllDay: ranges[0].start.isDaySlot,\n                                events: []\n                            };\n                            that._select();\n                        }\n                    }\n                }\n            },\n            _selectEvents: function (eventsUids, selectedGroups) {\n                var that = this;\n                var idx;\n                var view = that.view();\n                var groups = view.groups;\n                var eventsLength = eventsUids.length;\n                var isGrouped = selectedGroups && selectedGroups.length;\n                for (idx = 0; idx < eventsLength; idx++) {\n                    if (groups && isGrouped) {\n                        var currentGroup = groups[selectedGroups[0].groupIndex];\n                        var events = [];\n                        var timeSlotCollectionCount = currentGroup.timeSlotCollectionCount();\n                        var daySlotCollectionCount = currentGroup.daySlotCollectionCount();\n                        for (var collIdx = 0; collIdx < timeSlotCollectionCount; collIdx++) {\n                            events = events.concat(currentGroup.getTimeSlotCollection(collIdx).events());\n                        }\n                        for (var dayCollIdx = 0; dayCollIdx < daySlotCollectionCount; dayCollIdx++) {\n                            events = events.concat(currentGroup.getDaySlotCollection(dayCollIdx).events());\n                        }\n                        events = new kendo.data.Query(events).filter({\n                            field: 'element[0].getAttribute(\\'data-uid\\')',\n                            operator: 'eq',\n                            value: eventsUids[idx]\n                        }).toArray();\n                        if (events[0]) {\n                            that._createSelection(events[0].element);\n                        }\n                    } else {\n                        var element = view.element.find(kendo.format('.k-event[data-uid={0}], .k-task[data-uid={0}]', eventsUids[idx]));\n                        if (element.length) {\n                            that._createSelection(element[0]);\n                        }\n                    }\n                }\n            },\n            _selectable: function () {\n                var that = this, wrapper = that.wrapper, selectEvent = kendo.support.mobileOS ? 'touchend' : 'mousedown';\n                if (!that.options.selectable) {\n                    return;\n                }\n                that._tabindex();\n                wrapper.on(selectEvent + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td, .k-event', function (e) {\n                    var which = e.which;\n                    var button = e.button;\n                    var browser = kendo.support.browser;\n                    var isRight = which && which === 3 || button && button == 2;\n                    if (kendo.support.mobileOS && e.isDefaultPrevented()) {\n                        return;\n                    }\n                    if (!isRight) {\n                        that._createSelection(e.currentTarget);\n                    }\n                    wrapper.focus();\n                    if (browser.msie && browser.version < 9) {\n                        setTimeout(function () {\n                            wrapper.focus();\n                        });\n                    }\n                });\n                var mouseMoveHandler = $.proxy(that._mouseMove, that);\n                wrapper.on('mousedown' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', function (e) {\n                    var which = e.which;\n                    var button = e.button;\n                    var isRight = which && which === 3 || button && button == 2;\n                    if (!isRight) {\n                        wrapper.on('mousemove' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', mouseMoveHandler);\n                    }\n                });\n                wrapper.on('mouseup' + NS + ' mouseleave' + NS, function () {\n                    wrapper.off('mousemove' + NS, '.k-scheduler-header-all-day td, .k-scheduler-content td', mouseMoveHandler);\n                });\n                wrapper.on('focus' + NS, function () {\n                    if (!that._selection) {\n                        that._selectFirstSlot();\n                    }\n                    that._select();\n                });\n                wrapper.on('focusout' + NS, function () {\n                    that._ctrlKey = that._shiftKey = false;\n                });\n                wrapper.on('keydown' + NS, proxy(that._keydown, that));\n                wrapper.on('keyup' + NS, function (e) {\n                    that._ctrlKey = e.ctrlKey;\n                    that._shiftKey = e.shiftKey;\n                });\n            },\n            _selectFirstSlot: function () {\n                this._createSelection(this.wrapper.find('.k-scheduler-content').find('td:first'));\n            },\n            _select: function () {\n                var that = this;\n                var view = that.view();\n                var wrapper = that.wrapper;\n                var current = view.current();\n                var selection = that._selection;\n                if (!selection) {\n                    return;\n                }\n                if (current) {\n                    current.removeAttribute('id');\n                    current.removeAttribute('aria-label');\n                    wrapper.removeAttr('aria-activedescendant');\n                }\n                view.select(selection);\n                current = view.current();\n                if (current && that._old !== current) {\n                    var currentUid = $(current).data('uid');\n                    if (that._old && currentUid && currentUid === $(that._old).data('uid')) {\n                        return;\n                    }\n                    var labelFormat;\n                    var data = selection;\n                    var events = that._selectedEvents();\n                    var slots = view._selectedSlots;\n                    if (events[0]) {\n                        data = events[0] || selection;\n                        labelFormat = kendo.format(that.options.messages.ariaEventLabel, data.title, data.start, data.start);\n                    } else {\n                        labelFormat = kendo.format(that.options.messages.ariaSlotLabel, data.start, data.end);\n                    }\n                    current.setAttribute('id', that._ariaId);\n                    current.setAttribute('aria-label', labelFormat);\n                    wrapper.attr('aria-activedescendant', that._ariaId);\n                    that._old = current;\n                    that.trigger('change', {\n                        start: selection.start,\n                        end: selection.end,\n                        events: events,\n                        slots: slots,\n                        resources: view._resourceBySlot(selection)\n                    });\n                }\n            },\n            _selectedEvents: function () {\n                var uids = this._selection.events;\n                var length = uids.length;\n                var idx = 0;\n                var event;\n                var events = [];\n                for (; idx < length; idx++) {\n                    event = this.occurrenceByUid(uids[idx]);\n                    if (event) {\n                        events.push(event);\n                    }\n                }\n                return events;\n            },\n            _mouseMove: function (e) {\n                var that = this;\n                clearTimeout(that._moveTimer);\n                that._moveTimer = setTimeout(function () {\n                    var view = that.view();\n                    var selection = that._selection;\n                    if (selection) {\n                        var slot = view.selectionByElement($(e.currentTarget));\n                        if (slot && selection.groupIndex === slot.groupIndex) {\n                            var startDate = slot.startDate();\n                            var endDate = slot.endDate();\n                            if (startDate >= selection.end) {\n                                selection.backward = false;\n                            } else if (endDate <= selection.start) {\n                                selection.backward = true;\n                            }\n                            if (selection.backward) {\n                                selection.start = startDate;\n                            } else {\n                                selection.end = endDate;\n                            }\n                            that._select();\n                        }\n                    }\n                }, 5);\n            },\n            _viewByIndex: function (index) {\n                var view, views = this.views;\n                for (view in views) {\n                    if (!index) {\n                        return view;\n                    }\n                    index--;\n                }\n            },\n            _keydown: function (e) {\n                var that = this, key = e.keyCode, view = that.view(), editable = view.options.editable, selection = that._selection, shiftKey = e.shiftKey;\n                that._ctrlKey = e.ctrlKey;\n                that._shiftKey = e.shiftKey;\n                if (!selection) {\n                    that._selectFirstSlot();\n                    that._select();\n                    return;\n                }\n                if (key === keys.TAB) {\n                    if (view.moveToEvent(selection, shiftKey)) {\n                        that._select();\n                        e.preventDefault();\n                    }\n                } else if (editable && key === keys.ENTER) {\n                    if (selection.events.length) {\n                        if (editable.update !== false) {\n                            that.editEvent(selection.events[0]);\n                        }\n                    } else if (editable.create !== false) {\n                        if (selection.isAllDay) {\n                            selection = $.extend({}, selection, { end: kendo.date.addDays(selection.end, -1) });\n                        }\n                        that.addEvent(extend({}, selection, view._resourceBySlot(selection)));\n                    }\n                } else if (key === keys.DELETE && editable !== false && editable.destroy !== false) {\n                    that.removeEvent(selection.events[0]);\n                } else if (key >= 49 && key <= 57) {\n                    that.view(that._viewByIndex(key - 49));\n                } else if (view.move(selection, key, shiftKey)) {\n                    if (view.inRange(selection)) {\n                        that._select();\n                    } else {\n                        that.date(selection.start);\n                    }\n                    e.preventDefault();\n                }\n                that._adjustSelectedDate();\n            },\n            _createSelection: function (item) {\n                var uid, slot, selection;\n                if (!this._selection || !this._ctrlKey && !this._shiftKey) {\n                    this._selection = {\n                        events: [],\n                        groupIndex: 0\n                    };\n                }\n                item = $(item);\n                selection = this._selection;\n                if (item.is('.k-event')) {\n                    uid = item.attr(kendo.attr('uid'));\n                }\n                slot = this.view().selectionByElement(item);\n                if (slot) {\n                    selection.groupIndex = slot.groupIndex || 0;\n                }\n                if (uid) {\n                    slot = getOccurrenceByUid(this._data, uid);\n                }\n                if (slot && slot.uid) {\n                    uid = [slot.uid];\n                }\n                this._updateSelection(slot, uid);\n                this._adjustSelectedDate();\n            },\n            _updateSelection: function (dataItem, events, groupIndex) {\n                var selection = this._selection;\n                if (dataItem && selection) {\n                    var view = this.view();\n                    if (dataItem.uid) {\n                        dataItem = view._updateEventForSelection(dataItem);\n                    }\n                    if (this._shiftKey && selection.start && selection.end) {\n                        var backward = dataItem.end < selection.end;\n                        selection.end = dataItem.endDate ? dataItem.endDate() : dataItem.end;\n                        if (backward && view._timeSlotInterval) {\n                            kendo.date.setTime(selection.end, -view._timeSlotInterval());\n                        }\n                    } else {\n                        selection.start = dataItem.startDate ? dataItem.startDate() : dataItem.start;\n                        selection.end = dataItem.endDate ? dataItem.endDate() : dataItem.end;\n                    }\n                    if ('isDaySlot' in dataItem) {\n                        selection.isAllDay = dataItem.isDaySlot;\n                    } else {\n                        selection.isAllDay = dataItem.isAllDay;\n                    }\n                    if (groupIndex !== null && groupIndex !== undefined) {\n                        selection.groupIndex = groupIndex;\n                    }\n                    selection.index = dataItem.index;\n                    if (this._ctrlKey) {\n                        selection.events = selection.events.concat(events || []);\n                    } else {\n                        selection.events = events || [];\n                    }\n                }\n            },\n            options: {\n                name: 'Scheduler',\n                date: TODAY,\n                editable: true,\n                autoBind: true,\n                snap: true,\n                mobile: false,\n                timezone: '',\n                allDaySlot: true,\n                min: new Date(1900, 0, 1),\n                max: new Date(2099, 11, 31),\n                toolbar: null,\n                footer: {},\n                messages: {\n                    today: 'Today',\n                    pdf: 'Export to PDF',\n                    save: 'Save',\n                    cancel: 'Cancel',\n                    destroy: 'Delete',\n                    deleteWindowTitle: 'Delete event',\n                    ariaSlotLabel: 'Selected from {0:t} to {1:t}',\n                    ariaEventLabel: '{0} on {1:D} at {2:t}',\n                    views: {\n                        day: 'Day',\n                        week: 'Week',\n                        workWeek: 'Work Week',\n                        agenda: 'Agenda',\n                        month: 'Month',\n                        timeline: 'Timeline',\n                        timelineWeek: 'Timeline Week',\n                        timelineWorkWeek: 'Timeline Work Week',\n                        timelineMonth: 'Timeline Month'\n                    },\n                    recurrenceMessages: {\n                        deleteWindowTitle: 'Delete Recurring Item',\n                        deleteWindowOccurrence: 'Delete current occurrence',\n                        deleteWindowSeries: 'Delete the series',\n                        editWindowTitle: 'Edit Recurring Item',\n                        editWindowOccurrence: 'Edit current occurrence',\n                        editWindowSeries: 'Edit the series'\n                    },\n                    editable: { confirmation: DELETECONFIRM },\n                    editor: {\n                        title: 'Title',\n                        start: 'Start',\n                        end: 'End',\n                        allDayEvent: 'All day event',\n                        description: 'Description',\n                        repeat: 'Repeat',\n                        timezone: ' ',\n                        startTimezone: 'Start timezone',\n                        endTimezone: 'End timezone',\n                        separateTimezones: 'Use separate start and end time zones',\n                        timezoneEditorTitle: 'Timezones',\n                        timezoneEditorButton: 'Time zone',\n                        timezoneTitle: 'Time zones',\n                        noTimezone: 'No timezone',\n                        editorTitle: 'Event'\n                    }\n                },\n                height: null,\n                width: null,\n                resources: [],\n                group: {\n                    resources: [],\n                    orientation: 'horizontal'\n                },\n                views: [],\n                selectable: false\n            },\n            events: [\n                REMOVE,\n                EDIT,\n                CANCEL,\n                SAVE,\n                'add',\n                'dataBinding',\n                'dataBound',\n                'moveStart',\n                'move',\n                'moveEnd',\n                'resizeStart',\n                'resize',\n                'resizeEnd',\n                'navigate',\n                'change'\n            ],\n            destroy: function () {\n                var that = this, element;\n                Widget.fn.destroy.call(that);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    that.dataSource.unbind('progress', that._progressHandler);\n                    that.dataSource.unbind('error', that._errorHandler);\n                }\n                if (that.calendar) {\n                    that.calendar.destroy();\n                    that.popup.destroy();\n                }\n                if (that.view()) {\n                    that.view().destroy();\n                }\n                if (that._editor) {\n                    that._editor.destroy();\n                }\n                if (this._moveDraggable) {\n                    this._moveDraggable.destroy();\n                }\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n                element = that.element.add(that.wrapper).add(that.toolbar).add(that.popup);\n                element.off(NS);\n                clearTimeout(that._moveTimer);\n                that._model = null;\n                that.toolbar = null;\n                that.element = null;\n                $(window).off('resize' + NS, that._resizeHandler);\n                kendo.destroy(that.wrapper);\n            },\n            setDataSource: function (dataSource) {\n                this.options.dataSource = dataSource;\n                this._dataSource();\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            items: function () {\n                var content = this.wrapper.find('.k-scheduler-content');\n                var view = this.view();\n                if (view && view.options.name === 'agenda') {\n                    return content.find('.k-task');\n                } else {\n                    return content.find('.k-event').add(this.wrapper.find('.k-scheduler-header-wrap').find('.k-scheduler-header-all-day').siblings());\n                }\n            },\n            _movable: function () {\n                var startSlot;\n                var endSlot;\n                var startTime;\n                var endTime;\n                var event;\n                var clonedEvent;\n                var that = this;\n                var originSlot;\n                var distance = 0;\n                var isMobile = that._isMobile();\n                var movable = that.options.editable && that.options.editable.move !== false;\n                var resizable = that.options.editable && that.options.editable.resize !== false;\n                if (movable || resizable && isMobile) {\n                    if (isMobile && kendo.support.mobileOS.android) {\n                        distance = 5;\n                    }\n                    that._moveDraggable = new kendo.ui.Draggable(that.element, {\n                        distance: distance,\n                        filter: '.k-event',\n                        ignore: '.k-resize-handle',\n                        holdToDrag: isMobile,\n                        autoScroll: true\n                    });\n                    if (movable) {\n                        that._moveDraggable.bind('dragstart', function (e) {\n                            var view = that.view();\n                            var eventElement = e.currentTarget;\n                            if (!view.options.editable || view.options.editable.move === false) {\n                                e.preventDefault();\n                                return;\n                            }\n                            if (isMobile && !eventElement.hasClass('k-event-active')) {\n                                that.element.find('.k-event-active').removeClass('k-event-active');\n                                e.preventDefault();\n                                return;\n                            }\n                            event = that.occurrenceByUid(eventElement.attr(kendo.attr('uid')));\n                            clonedEvent = event.clone();\n                            clonedEvent.update(view._eventOptionsForMove(clonedEvent));\n                            startSlot = view._slotByPosition(e.x.startLocation, e.y.startLocation);\n                            startTime = startSlot.startOffset(e.x.startLocation, e.y.startLocation, that.options.snap);\n                            endSlot = startSlot;\n                            originSlot = startSlot;\n                            if (!startSlot || that.trigger('moveStart', { event: event })) {\n                                e.preventDefault();\n                            }\n                        }).bind('drag', function (e) {\n                            var view = that.view();\n                            var slot = view._slotByPosition(e.x.location, e.y.location);\n                            var distance;\n                            var range;\n                            if (!slot) {\n                                return;\n                            }\n                            endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            if (slot.isDaySlot !== startSlot.isDaySlot) {\n                                startSlot = view._slotByPosition(e.x.location, e.y.location);\n                                startTime = startSlot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                distance = endTime - startTime;\n                                clonedEvent.isAllDay = slot.isDaySlot;\n                                clonedEvent.start = kendo.timezone.toLocalDate(startTime);\n                                clonedEvent.end = kendo.timezone.toLocalDate(endTime);\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                                range = {\n                                    start: clonedEvent.start,\n                                    end: clonedEvent.end\n                                };\n                            } else {\n                                distance = endTime - startTime;\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                                range = moveEventRange(clonedEvent, distance);\n                            }\n                            if (!that.trigger('move', {\n                                    event: event,\n                                    slot: {\n                                        element: slot.element,\n                                        start: slot.startDate(),\n                                        end: slot.endDate(),\n                                        isDaySlot: slot.isDaySlot\n                                    },\n                                    resources: view._resourceBySlot(slot),\n                                    start: range.start,\n                                    end: range.end\n                                })) {\n                                endSlot = slot;\n                            } else {\n                                view._updateMoveHint(clonedEvent, slot.groupIndex, distance);\n                            }\n                        }).bind('dragend', function (e) {\n                            that.view()._removeMoveHint();\n                            var distance = endTime - startTime;\n                            var range = moveEventRange(clonedEvent, distance);\n                            var start = range.start;\n                            var end = range.end;\n                            var endResources = that.view()._resourceBySlot(endSlot);\n                            var startResources = that.view()._resourceBySlot(startSlot);\n                            var prevented = that.trigger('moveEnd', {\n                                event: event,\n                                slot: {\n                                    element: endSlot.element,\n                                    start: endSlot.startDate(),\n                                    end: endSlot.endDate()\n                                },\n                                start: start,\n                                end: end,\n                                resources: endResources\n                            });\n                            if (!prevented && (event.start.getTime() !== start.getTime() || event.end.getTime() !== end.getTime() || originSlot.isDaySlot !== endSlot.isDaySlot || kendo.stringify(endResources) !== kendo.stringify(startResources))) {\n                                var updatedEventOptions = that.view()._eventOptionsForMove(event);\n                                var eventOptions;\n                                if (originSlot.isDaySlot !== endSlot.isDaySlot) {\n                                    if (endSlot.isDaySlot) {\n                                        eventOptions = $.extend({\n                                            start: endSlot.startDate(),\n                                            end: endSlot.startDate(),\n                                            isAllDay: endSlot.isDaySlot\n                                        }, updatedEventOptions, endResources);\n                                    } else {\n                                        eventOptions = $.extend({\n                                            isAllDay: endSlot.isDaySlot,\n                                            start: start,\n                                            end: end\n                                        }, updatedEventOptions, endResources);\n                                    }\n                                } else {\n                                    eventOptions = $.extend({\n                                        isAllDay: event.isAllDay,\n                                        start: start,\n                                        end: end\n                                    }, updatedEventOptions, endResources);\n                                }\n                                that._updateEvent(null, event, eventOptions, endSlot.groupIndex);\n                            }\n                            e.currentTarget.removeClass('k-event-active');\n                            this.cancelHold();\n                        }).bind('dragcancel', function () {\n                            that.view()._removeMoveHint();\n                            this.cancelHold();\n                        });\n                    }\n                    if (isMobile) {\n                        that._moveDraggable.bind('hold', function (e) {\n                            if (that.element.find('.k-scheduler-monthview').length) {\n                                e.preventDefault();\n                            }\n                            that.element.find('.k-event-active').removeClass('k-event-active');\n                            e.currentTarget.addClass('k-event-active');\n                        });\n                        if (!kendo.support.mobileOS.android) {\n                            that._moveDraggable.userEvents.bind('press', function (e) {\n                                e.preventDefault();\n                            });\n                        }\n                    }\n                }\n            },\n            _resizable: function () {\n                var startTime;\n                var endTime;\n                var event;\n                var clonedEvent;\n                var slot;\n                var that = this;\n                var distance = 0;\n                function direction(handle) {\n                    var directions = {\n                        'k-resize-e': 'east',\n                        'k-resize-w': 'west',\n                        'k-resize-n': 'north',\n                        'k-resize-s': 'south'\n                    };\n                    for (var key in directions) {\n                        if (handle.hasClass(key)) {\n                            return directions[key];\n                        }\n                    }\n                }\n                if (that._isMobile() && kendo.support.mobileOS.android) {\n                    distance = 5;\n                }\n                that._resizeDraggable = new kendo.ui.Draggable(that.element, {\n                    distance: distance,\n                    filter: '.k-resize-handle',\n                    autoScroll: true,\n                    dragstart: function (e) {\n                        var dragHandle = $(e.currentTarget);\n                        var eventElement = dragHandle.closest('.k-event');\n                        var uid = eventElement.attr(kendo.attr('uid'));\n                        var view = that.view();\n                        event = that.occurrenceByUid(uid);\n                        clonedEvent = event.clone();\n                        view._updateEventForResize(clonedEvent);\n                        slot = view._slotByPosition(e.x.startLocation, e.y.startLocation);\n                        if (that.trigger('resizeStart', { event: event })) {\n                            e.preventDefault();\n                        }\n                        startTime = kendo.date.toUtcTime(clonedEvent.start);\n                        endTime = kendo.date.toUtcTime(clonedEvent.end);\n                    },\n                    drag: function (e) {\n                        if (!slot) {\n                            return;\n                        }\n                        var dragHandle = $(e.currentTarget);\n                        var dir = direction(dragHandle);\n                        var view = that.view();\n                        var currentSlot = view._slotByPosition(e.x.location, e.y.location);\n                        if (!currentSlot || slot.groupIndex != currentSlot.groupIndex) {\n                            return;\n                        }\n                        slot = currentSlot;\n                        var originalStart = startTime;\n                        var originalEnd = endTime;\n                        if (dir == 'south') {\n                            if (!slot.isDaySlot && slot.end - kendo.date.toUtcTime(clonedEvent.start) >= view._timeSlotInterval()) {\n                                if (clonedEvent.isAllDay) {\n                                    endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                } else {\n                                    endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                                }\n                            }\n                        } else if (dir == 'north') {\n                            if (!slot.isDaySlot && kendo.date.toUtcTime(clonedEvent.end) - slot.start >= view._timeSlotInterval()) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        } else if (dir == 'east') {\n                            if (slot.isDaySlot && kendo.date.toUtcTime(kendo.date.getDate(slot.endDate())) >= kendo.date.toUtcTime(kendo.date.getDate(clonedEvent.start))) {\n                                if (clonedEvent.isAllDay) {\n                                    endTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                                } else {\n                                    endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                                }\n                            } else if (!slot.isDaySlot && slot.end - kendo.date.toUtcTime(clonedEvent.start) >= view._timeSlotInterval()) {\n                                endTime = slot.endOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        } else if (dir == 'west') {\n                            if (slot.isDaySlot && kendo.date.toUtcTime(kendo.date.getDate(clonedEvent.end)) >= kendo.date.toUtcTime(kendo.date.getDate(slot.startDate()))) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            } else if (!slot.isDaySlot && kendo.date.toUtcTime(clonedEvent.end) - slot.start >= view._timeSlotInterval()) {\n                                startTime = slot.startOffset(e.x.location, e.y.location, that.options.snap);\n                            }\n                        }\n                        if (!that.trigger('resize', {\n                                event: event,\n                                slot: {\n                                    element: slot.element,\n                                    start: slot.startDate(),\n                                    end: slot.endDate()\n                                },\n                                start: kendo.timezone.toLocalDate(startTime),\n                                end: kendo.timezone.toLocalDate(endTime),\n                                resources: view._resourceBySlot(slot)\n                            })) {\n                            view._updateResizeHint(clonedEvent, slot.groupIndex, startTime, endTime);\n                        } else {\n                            startTime = originalStart;\n                            endTime = originalEnd;\n                        }\n                    },\n                    dragend: function (e) {\n                        var dragHandle = $(e.currentTarget);\n                        var start = new Date(clonedEvent.start.getTime());\n                        var end = new Date(clonedEvent.end.getTime());\n                        var dir = direction(dragHandle);\n                        that.view()._removeResizeHint();\n                        if (dir == 'south') {\n                            end = kendo.timezone.toLocalDate(endTime);\n                        } else if (dir == 'north') {\n                            start = kendo.timezone.toLocalDate(startTime);\n                        } else if (dir == 'east') {\n                            if (slot.isDaySlot) {\n                                end = kendo.date.getDate(kendo.timezone.toLocalDate(endTime));\n                            } else {\n                                end = kendo.timezone.toLocalDate(endTime);\n                            }\n                        } else if (dir == 'west') {\n                            if (slot.isDaySlot) {\n                                start = new Date(kendo.timezone.toLocalDate(startTime));\n                                start.setHours(0);\n                                start.setMinutes(0);\n                            } else {\n                                start = kendo.timezone.toLocalDate(startTime);\n                            }\n                        }\n                        var prevented = that.trigger('resizeEnd', {\n                            event: event,\n                            slot: {\n                                element: slot.element,\n                                start: slot.startDate(),\n                                end: slot.endDate()\n                            },\n                            start: start,\n                            end: end,\n                            resources: that.view()._resourceBySlot(slot)\n                        });\n                        if (!prevented && end.getTime() >= start.getTime()) {\n                            if (clonedEvent.start.getTime() != start.getTime() || clonedEvent.end.getTime() != end.getTime()) {\n                                that.view()._updateEventForResize(event);\n                                that._updateEvent(dir, event, {\n                                    start: start,\n                                    end: end\n                                });\n                            }\n                        }\n                        slot = null;\n                        event = null;\n                    },\n                    dragcancel: function () {\n                        that.view()._removeResizeHint();\n                        slot = null;\n                        event = null;\n                    }\n                });\n            },\n            _updateEvent: function (dir, event, eventInfo, groupIndex) {\n                var that = this;\n                var updateEvent = function (event, callback) {\n                    try {\n                        that._preventRefresh = true;\n                        event.update(eventInfo);\n                        that._convertDates(event);\n                    } finally {\n                        that._preventRefresh = false;\n                    }\n                    if (!that.trigger(SAVE, { event: event })) {\n                        if (callback) {\n                            callback();\n                        }\n                        that._updateSelection(event, [event.uid], groupIndex);\n                        that.dataSource.sync();\n                    }\n                };\n                var recurrenceHead = function (event) {\n                    if (event.recurrenceRule) {\n                        return that.dataSource.getByUid(event.uid);\n                    } else {\n                        return that.dataSource.get(event.recurrenceId);\n                    }\n                };\n                var updateSeries = function () {\n                    var head = recurrenceHead(event);\n                    if (dir == 'south' || dir == 'north') {\n                        if (eventInfo.start) {\n                            var start = kendo.date.getDate(head.start);\n                            kendo.date.setTime(start, getMilliseconds(eventInfo.start));\n                            eventInfo.start = start;\n                        }\n                        if (eventInfo.end) {\n                            var end = kendo.date.getDate(head.end);\n                            kendo.date.setTime(end, getMilliseconds(eventInfo.end));\n                            eventInfo.end = end;\n                        }\n                    }\n                    that.dataSource._removeExceptions(head);\n                    updateEvent(head);\n                };\n                var updateOccurrence = function () {\n                    var head = recurrenceHead(event);\n                    var callback = function () {\n                        that._convertDates(head);\n                    };\n                    var exception = head.toOccurrence({\n                        start: event.start,\n                        end: event.end\n                    });\n                    updateEvent(that.dataSource.add(exception), callback);\n                };\n                if (event.recurrenceRule || event.isOccurrence()) {\n                    var recurrenceMessages = that.options.messages.recurrenceMessages;\n                    that._showRecurringDialog(event, updateOccurrence, updateSeries, {\n                        title: recurrenceMessages.editWindowTitle,\n                        text: recurrenceMessages.editRecurring ? recurrenceMessages.editRecurring : EDITRECURRING,\n                        occurrenceText: recurrenceMessages.editWindowOccurrence,\n                        seriesText: recurrenceMessages.editWindowSeries\n                    });\n                } else {\n                    updateEvent(that.dataSource.getByUid(event.uid));\n                }\n            },\n            _modelForContainer: function (container) {\n                container = $(container).closest('[' + kendo.attr('uid') + ']');\n                return this.dataSource.getByUid(container.attr(kendo.attr('uid')));\n            },\n            showDialog: function (options) {\n                this._editor.showDialog(options);\n            },\n            focus: function () {\n                this.wrapper.focus();\n            },\n            _confirmation: function (callback, model) {\n                var editable = this.options.editable;\n                if (editable === true || editable.confirmation !== false) {\n                    var messages = this.options.messages;\n                    var title = messages.deleteWindowTitle;\n                    var text = typeof editable.confirmation === STRING ? editable.confirmation : messages.editable.confirmation;\n                    if (this._isEditorOpened() && model.isRecurring()) {\n                        var recurrenceMessages = this.options.messages.recurrenceMessages;\n                        title = recurrenceMessages.deleteWindowTitle;\n                        if (model.isException()) {\n                            text = recurrenceMessages.deleteRecurringConfirmation ? recurrenceMessages.deleteRecurringConfirmation : DELETERECURRINGCONFIRM;\n                        } else {\n                            text = recurrenceMessages.deleteSeriesConfirmation ? recurrenceMessages.deleteSeriesConfirmation : DELETESERIESCONFIRM;\n                        }\n                    }\n                    var buttons = [{\n                            name: 'destroy',\n                            text: messages.destroy,\n                            click: function () {\n                                callback();\n                            }\n                        }];\n                    if (!(this._isMobile() && kendo.mobile.ui.Pane)) {\n                        buttons.push({\n                            name: 'canceledit',\n                            text: messages.cancel,\n                            click: function () {\n                                callback(true);\n                            }\n                        });\n                    }\n                    this._unbindResize();\n                    this.showDialog({\n                        model: model,\n                        text: text,\n                        title: title,\n                        buttons: buttons\n                    });\n                    this._bindResize();\n                } else {\n                    callback();\n                }\n            },\n            addEvent: function (eventInfo) {\n                var editable = this._editor.editable;\n                var dataSource = this.dataSource;\n                var event;\n                eventInfo = eventInfo || {};\n                var prevented = this.trigger('add', { event: eventInfo });\n                if (!prevented && (editable && editable.end() || !editable)) {\n                    this.cancelEvent();\n                    if (eventInfo && eventInfo.toJSON) {\n                        eventInfo = eventInfo.toJSON();\n                    }\n                    event = dataSource.add(eventInfo);\n                    if (event) {\n                        this.cancelEvent();\n                        this._editEvent(event);\n                    }\n                }\n            },\n            saveEvent: function () {\n                var editor = this._editor;\n                if (!editor) {\n                    return;\n                }\n                var editable = editor.editable;\n                var container = editor.container;\n                var model = this._modelForContainer(container);\n                if (container && editable && editable.end() && !this.trigger(SAVE, {\n                        container: container,\n                        event: model\n                    })) {\n                    if (model.isRecurrenceHead()) {\n                        this.dataSource._removeExceptions(model);\n                    }\n                    if (!model.dirty && !model.isOccurrence()) {\n                        this._convertDates(model, 'remove');\n                    }\n                    this.dataSource.sync();\n                }\n            },\n            cancelEvent: function () {\n                var editor = this._editor;\n                var container = editor.container;\n                var model;\n                if (container) {\n                    model = this._modelForContainer(container);\n                    if (model && model.isOccurrence()) {\n                        this._convertDates(model, 'remove');\n                        this._convertDates(this.dataSource.get(model.recurrenceId), 'remove');\n                    }\n                    this.dataSource.cancelChanges(model);\n                    editor.close();\n                }\n            },\n            editEvent: function (uid) {\n                var model = typeof uid == 'string' ? this.occurrenceByUid(uid) : uid;\n                if (!model) {\n                    return;\n                }\n                this.cancelEvent();\n                if (model.isRecurring()) {\n                    this._editRecurringDialog(model);\n                } else {\n                    this._editEvent(model);\n                }\n            },\n            _editEvent: function (model) {\n                this._unbindResize();\n                this._createPopupEditor(model);\n                this._bindResize();\n            },\n            _editRecurringDialog: function (model) {\n                var that = this;\n                var editOccurrence = function () {\n                    if (model.isException()) {\n                        that._editEvent(model);\n                    } else {\n                        that.addEvent(model);\n                    }\n                };\n                var editSeries = function () {\n                    if (model.recurrenceId) {\n                        model = that.dataSource.get(model.recurrenceId);\n                    }\n                    that._editEvent(model);\n                };\n                var recurrenceMessages = that.options.messages.recurrenceMessages;\n                that._showRecurringDialog(model, editOccurrence, editSeries, {\n                    title: recurrenceMessages.editWindowTitle,\n                    text: recurrenceMessages.editRecurring ? recurrenceMessages.editRecurring : EDITRECURRING,\n                    occurrenceText: recurrenceMessages.editWindowOccurrence,\n                    seriesText: recurrenceMessages.editWindowSeries\n                });\n            },\n            _showRecurringDialog: function (model, editOccurrence, editSeries, messages) {\n                var that = this;\n                var editable = that.options.editable;\n                var editRecurringMode = isPlainObject(editable) ? editable.editRecurringMode : 'dialog';\n                if (editRecurringMode === 'series') {\n                    editSeries();\n                } else if (editRecurringMode === 'occurrence') {\n                    editOccurrence();\n                } else {\n                    this._unbindResize();\n                    that.showDialog({\n                        model: model,\n                        title: messages.title,\n                        text: messages.text,\n                        buttons: [\n                            {\n                                text: messages.occurrenceText,\n                                click: editOccurrence\n                            },\n                            {\n                                text: messages.seriesText,\n                                click: editSeries\n                            }\n                        ]\n                    });\n                    this._bindResize();\n                }\n            },\n            _createButton: function (command) {\n                var template = command.template || COMMANDBUTTONTMPL, commandName = typeof command === STRING ? command : command.name || command.text, options = {\n                        className: 'k-scheduler-' + (commandName || '').replace(/\\s/g, ''),\n                        text: commandName,\n                        attr: ''\n                    };\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    if (command.className) {\n                        command.className += ' ' + options.className;\n                    }\n                    if (commandName === 'edit' && isPlainObject(command.text)) {\n                        command = extend(true, {}, command);\n                        command.text = command.text.edit;\n                    }\n                    options = extend(true, options, defaultCommands[commandName], command);\n                } else {\n                    options = extend(true, options, defaultCommands[commandName]);\n                }\n                return kendo.template(template)(options);\n            },\n            _convertDates: function (model, method) {\n                var timezone = this.dataSource.reader.timezone;\n                var startTimezone = model.startTimezone;\n                var endTimezone = model.endTimezone;\n                var start = model.start;\n                var end = model.start;\n                method = method || 'apply';\n                startTimezone = startTimezone || endTimezone;\n                endTimezone = endTimezone || startTimezone;\n                if (startTimezone) {\n                    if (timezone) {\n                        if (method === 'apply') {\n                            start = kendo.timezone.convert(model.start, timezone, startTimezone);\n                            end = kendo.timezone.convert(model.end, timezone, endTimezone);\n                        } else {\n                            start = kendo.timezone.convert(model.start, startTimezone, timezone);\n                            end = kendo.timezone.convert(model.end, endTimezone, timezone);\n                        }\n                    } else {\n                        start = kendo.timezone[method](model.start, startTimezone);\n                        end = kendo.timezone[method](model.end, endTimezone);\n                    }\n                    model._set('start', start);\n                    model._set('end', end);\n                }\n            },\n            _createEditor: function () {\n                var that = this;\n                var editor;\n                if (this._isMobile() && kendo.mobile.ui.Pane) {\n                    editor = that._editor = new MobileEditor(this.wrapper, extend({}, this.options, {\n                        target: this,\n                        timezone: that.dataSource.reader.timezone,\n                        resources: that.resources,\n                        createButton: proxy(this._createButton, this)\n                    }));\n                } else {\n                    editor = that._editor = new PopupEditor(this.wrapper, extend({}, this.options, {\n                        target: this,\n                        createButton: proxy(this._createButton, this),\n                        timezone: that.dataSource.reader.timezone,\n                        resources: that.resources\n                    }));\n                }\n                editor.bind('cancel', function (e) {\n                    if (that.trigger('cancel', {\n                            container: e.container,\n                            event: e.model\n                        })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    that.cancelEvent();\n                    that.focus();\n                });\n                editor.bind('edit', function (e) {\n                    if (that.trigger(EDIT, {\n                            container: e.container,\n                            event: e.model\n                        })) {\n                        e.preventDefault();\n                    }\n                });\n                editor.bind('save', function () {\n                    that.saveEvent();\n                });\n                editor.bind('remove', function (e) {\n                    that.removeEvent(e.model);\n                });\n            },\n            _createPopupEditor: function (model) {\n                var editor = this._editor;\n                if (!model.isNew() || model.isOccurrence()) {\n                    if (model.isOccurrence()) {\n                        this._convertDates(model.recurrenceId ? this.dataSource.get(model.recurrenceId) : model);\n                    }\n                    this._convertDates(model);\n                }\n                this.editable = editor.editEvent(model);\n            },\n            removeEvent: function (uid) {\n                var that = this, model = typeof uid == 'string' ? that.occurrenceByUid(uid) : uid;\n                if (!model) {\n                    return;\n                }\n                if (model.isRecurring()) {\n                    that._deleteRecurringDialog(model);\n                } else {\n                    that._confirmation(function (cancel) {\n                        if (!cancel) {\n                            that._removeEvent(model);\n                        }\n                    }, model);\n                }\n            },\n            occurrenceByUid: function (uid) {\n                var occurrence = this.dataSource.getByUid(uid);\n                if (!occurrence) {\n                    occurrence = getOccurrenceByUid(this._data, uid);\n                }\n                return occurrence;\n            },\n            occurrencesInRange: function (start, end) {\n                return new kendo.data.Query(this._data).filter({\n                    logic: 'or',\n                    filters: [\n                        {\n                            logic: 'and',\n                            filters: [\n                                {\n                                    field: 'start',\n                                    operator: 'gte',\n                                    value: start\n                                },\n                                {\n                                    field: 'end',\n                                    operator: 'gte',\n                                    value: start\n                                },\n                                {\n                                    field: 'start',\n                                    operator: 'lt',\n                                    value: end\n                                }\n                            ]\n                        },\n                        {\n                            logic: 'and',\n                            filters: [\n                                {\n                                    field: 'start',\n                                    operator: 'lte',\n                                    value: start\n                                },\n                                {\n                                    field: 'end',\n                                    operator: 'gt',\n                                    value: start\n                                }\n                            ]\n                        }\n                    ]\n                }).toArray();\n            },\n            _removeEvent: function (model) {\n                if (!this.trigger(REMOVE, { event: model })) {\n                    if (this.dataSource.remove(model)) {\n                        this.dataSource.sync();\n                    }\n                }\n            },\n            _deleteRecurringDialog: function (model) {\n                var that = this;\n                var currentModel = model;\n                var editable = that.options.editable;\n                var deleteOccurrence;\n                var deleteSeries;\n                var deleteOccurrenceConfirmation;\n                var deleteSeriesConfirmation;\n                var editRecurringMode = isPlainObject(editable) ? editable.editRecurringMode : 'dialog';\n                deleteOccurrence = function () {\n                    var occurrence = currentModel.recurrenceId ? currentModel : currentModel.toOccurrence();\n                    var head = that.dataSource.get(occurrence.recurrenceId);\n                    that._convertDates(head);\n                    that._removeEvent(occurrence);\n                };\n                deleteSeries = function () {\n                    if (currentModel.recurrenceId) {\n                        currentModel = that.dataSource.get(currentModel.recurrenceId);\n                    }\n                    that._removeEvent(currentModel);\n                };\n                if (editRecurringMode != 'dialog' || that._isEditorOpened()) {\n                    deleteOccurrenceConfirmation = function () {\n                        that._confirmation(function (cancel) {\n                            if (!cancel) {\n                                deleteOccurrence();\n                            }\n                        }, currentModel);\n                    };\n                    deleteSeriesConfirmation = function () {\n                        that._confirmation(function (cancel) {\n                            if (!cancel) {\n                                deleteSeries();\n                            }\n                        }, currentModel);\n                    };\n                }\n                var seriesCallback = deleteSeriesConfirmation || deleteSeries;\n                var occurrenceCallback = deleteOccurrenceConfirmation || deleteOccurrence;\n                if (that._isEditorOpened()) {\n                    if (model.isException()) {\n                        occurrenceCallback();\n                    } else {\n                        seriesCallback();\n                    }\n                } else {\n                    var recurrenceMessages = that.options.messages.recurrenceMessages;\n                    that._showRecurringDialog(model, occurrenceCallback, seriesCallback, {\n                        title: recurrenceMessages.deleteWindowTitle,\n                        text: recurrenceMessages.deleteRecurring ? recurrenceMessages.deleteRecurring : DELETERECURRING,\n                        occurrenceText: recurrenceMessages.deleteWindowOccurrence,\n                        seriesText: recurrenceMessages.deleteWindowSeries\n                    });\n                }\n            },\n            _isEditorOpened: function () {\n                return !!this._editor.container;\n            },\n            _unbindView: function (view) {\n                var that = this;\n                that.angular('cleanup', function () {\n                    return { elements: that.items() };\n                });\n                view.destroy();\n            },\n            _bindView: function (view) {\n                var that = this;\n                if (that.options.editable) {\n                    if (that._viewRemoveHandler) {\n                        view.unbind(REMOVE, that._viewRemoveHandler);\n                    }\n                    that._viewRemoveHandler = function (e) {\n                        that.removeEvent(e.uid);\n                    };\n                    view.bind(REMOVE, that._viewRemoveHandler);\n                    if (that._viewAddHandler) {\n                        view.unbind(ADD, that._viewAddHandler);\n                    }\n                    that._viewAddHandler = function (e) {\n                        that.addEvent(e.eventInfo);\n                    };\n                    view.bind(ADD, this._viewAddHandler);\n                    if (that._viewEditHandler) {\n                        view.unbind(EDIT, that._viewEditHandler);\n                    }\n                    that._viewEditHandler = function (e) {\n                        that.editEvent(e.uid);\n                    };\n                    view.bind(EDIT, this._viewEditHandler);\n                }\n                if (that._viewNavigateHandler) {\n                    view.unbind('navigate', that._viewNavigateHandler);\n                }\n                that._viewNavigateHandler = function (e) {\n                    if (e.view) {\n                        var switchWorkDay = 'isWorkDay' in e;\n                        var action = switchWorkDay ? 'changeWorkDay' : 'changeView';\n                        if (!that.trigger('navigate', {\n                                view: e.view,\n                                isWorkDay: e.isWorkDay,\n                                action: action,\n                                date: e.date\n                            })) {\n                            if (switchWorkDay) {\n                                that._workDayMode = e.isWorkDay;\n                            }\n                            that._selectView(e.view);\n                            that.date(e.date);\n                        }\n                    }\n                };\n                view.bind('navigate', that._viewNavigateHandler);\n                if (that._viewActivateHandler) {\n                    view.unbind('activate', that._viewActivateHandler);\n                }\n                that._viewActivateHandler = function () {\n                    var view = this;\n                    if (that._selection) {\n                        view.constrainSelection(that._selection);\n                        that._select();\n                        that._adjustSelectedDate();\n                    }\n                };\n                view.bind('activate', that._viewActivateHandler);\n            },\n            _selectView: function (name) {\n                var that = this;\n                if (name && that.views[name]) {\n                    if (that._selectedView) {\n                        that._unbindView(that._selectedView);\n                    }\n                    that._selectedView = that._renderView(name);\n                    that._selectedViewName = name;\n                    if (that._viewsCount > 1) {\n                        var viewButton = VIEWBUTTONTEMPLATE({\n                            views: that.views,\n                            view: name,\n                            ns: kendo.ns\n                        });\n                        var firstButton = that.toolbar.find('.k-scheduler-views li:first-child');\n                        if (firstButton.is('.k-current-view')) {\n                            firstButton.replaceWith(viewButton);\n                        } else {\n                            that.toolbar.find('.k-scheduler-views').prepend(viewButton);\n                        }\n                        var viewButtons = that.toolbar.find('.k-scheduler-views li').removeClass('k-state-selected');\n                        viewButtons.end().find('.k-view-' + name.replace(/\\./g, '\\\\.').toLowerCase()).addClass('k-state-selected');\n                    }\n                }\n            },\n            view: function (name) {\n                var that = this;\n                if (name) {\n                    that._selectView(name);\n                    that.rebind();\n                    return;\n                }\n                return that._selectedView;\n            },\n            viewName: function () {\n                return this.view().name;\n            },\n            _renderView: function (name) {\n                var view = this._initializeView(name);\n                this._bindView(view);\n                this._model.set('formattedDate', view.dateForTitle());\n                this._model.set('formattedShortDate', view.shortDateForTitle());\n                return view;\n            },\n            resize: function (force) {\n                var size = this.getSize();\n                var currentSize = this._size;\n                var view = this.view();\n                if (!view || !view.groups) {\n                    return;\n                }\n                if (force || !currentSize || size.width !== currentSize.width || size.height !== currentSize.height) {\n                    this.refresh({ action: 'resize' });\n                    this._size = size;\n                }\n            },\n            _adjustSelectedDate: function () {\n                var date = this._model.selectedDate, selection = this._selection, start = selection.start;\n                if (start && !kendo.date.isInDateRange(date, getDate(start), getDate(selection.end))) {\n                    date.setFullYear(start.getFullYear(), start.getMonth(), start.getDate());\n                }\n            },\n            _initializeView: function (name) {\n                var view = this.views[name];\n                if (view) {\n                    var isSettings = isPlainObject(view), type = view.type;\n                    if (typeof type === STRING) {\n                        type = kendo.getter(view.type)(window);\n                    }\n                    if (type) {\n                        view = new type(this.wrapper, trimOptions(extend(true, {}, this.options, isSettings ? view : {}, {\n                            resources: this.resources,\n                            date: this.date(),\n                            showWorkHours: this._workDayMode\n                        })));\n                    } else {\n                        throw new Error('There is no such view');\n                    }\n                }\n                return view;\n            },\n            _views: function () {\n                var views = this.options.views;\n                var view;\n                var defaultView;\n                var selected;\n                var isSettings;\n                var name;\n                var type;\n                var idx;\n                var length;\n                this.views = {};\n                this._viewsCount = 0;\n                for (idx = 0, length = views.length; idx < length; idx++) {\n                    var hasType = false;\n                    view = views[idx];\n                    isSettings = isPlainObject(view);\n                    if (isSettings) {\n                        type = name = view.type ? view.type : view;\n                        if (typeof type !== STRING) {\n                            name = view.name || view.title;\n                            hasType = true;\n                        }\n                    } else {\n                        type = name = view;\n                    }\n                    defaultView = defaultViews[name];\n                    if (defaultView && !hasType) {\n                        view.type = defaultView.type;\n                        defaultView.title = this.options.messages.views[name];\n                        if (defaultView.type === 'day') {\n                            defaultView.messages = { allDay: this.options.messages.allDay };\n                        } else if (defaultView.type === 'agenda') {\n                            defaultView.messages = {\n                                event: this.options.messages.event,\n                                date: this.options.messages.date,\n                                time: this.options.messages.time\n                            };\n                        }\n                    }\n                    view = extend({ title: name }, defaultView, isSettings ? view : {});\n                    if (name) {\n                        this.views[name] = view;\n                        this._viewsCount++;\n                        if (!selected || view.selected) {\n                            selected = name;\n                        }\n                    }\n                }\n                if (selected) {\n                    this._selectedViewName = selected;\n                }\n            },\n            rebind: function () {\n                this.dataSource.fetch();\n            },\n            _dataSource: function () {\n                var that = this, options = that.options, dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (options.timezone && !(dataSource instanceof SchedulerDataSource)) {\n                    dataSource = extend(true, dataSource, { schema: { timezone: options.timezone } });\n                } else if (dataSource instanceof SchedulerDataSource) {\n                    options.timezone = dataSource.options.schema ? dataSource.options.schema.timezone : '';\n                }\n                if (that.dataSource && that._refreshHandler) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler).unbind('progress', that._progressHandler).unbind('error', that._errorHandler);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                    that._progressHandler = proxy(that._requestStart, that);\n                    that._errorHandler = proxy(that._error, that);\n                }\n                that.dataSource = kendo.data.SchedulerDataSource.create(dataSource).bind(CHANGE, that._refreshHandler).bind('progress', that._progressHandler).bind('error', that._errorHandler);\n                that.options.dataSource = that.dataSource;\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _progress: function (toggle) {\n                var element = this.element.find('.k-scheduler-content');\n                kendo.ui.progress(element, toggle);\n            },\n            _resources: function () {\n                var that = this;\n                var resources = that.options.resources;\n                for (var idx = 0; idx < resources.length; idx++) {\n                    var resource = resources[idx];\n                    var field = resource.field;\n                    var dataSource = resource.dataSource;\n                    if (!field || !dataSource) {\n                        throw new Error('The \"field\" and \"dataSource\" options of the scheduler resource are mandatory.');\n                    }\n                    that.resources.push({\n                        field: field,\n                        name: resource.name || field,\n                        title: resource.title || field,\n                        dataTextField: resource.dataTextField || 'text',\n                        dataValueField: resource.dataValueField || 'value',\n                        dataColorField: resource.dataColorField || 'color',\n                        valuePrimitive: resource.valuePrimitive != null ? resource.valuePrimitive : true,\n                        multiple: resource.multiple || false,\n                        dataSource: kendo.data.DataSource.create(dataSource)\n                    });\n                }\n                var promises = $.map(that.resources, function (resource) {\n                    return resource.dataSource.fetch();\n                });\n                $.when.apply(null, promises).then(function () {\n                    if (that.options.autoBind) {\n                        that.view(that._selectedViewName);\n                    } else {\n                        that._selectView(that._selectedViewName);\n                    }\n                });\n            },\n            _initModel: function () {\n                var that = this;\n                that._model = kendo.observable({\n                    selectedDate: new Date(this.options.date),\n                    formattedDate: '',\n                    formattedShortDate: ''\n                });\n                that._model.bind('change', function (e) {\n                    if (e.field === 'selectedDate') {\n                        that.view(that._selectedViewName);\n                    }\n                });\n            },\n            _wrapper: function () {\n                var that = this;\n                var options = that.options;\n                var height = options.height;\n                var width = options.width;\n                that.wrapper = that.element.addClass('k-widget k-scheduler k-floatwrap').attr('role', 'grid').attr('aria-multiselectable', true);\n                if (that._isMobile()) {\n                    that.wrapper.addClass('k-scheduler-mobile');\n                }\n                if (that._isMobilePhoneView()) {\n                    that.wrapper.addClass('k-scheduler-phone');\n                }\n                if (height) {\n                    that.wrapper.height(height);\n                }\n                if (width) {\n                    that.wrapper.width(width);\n                }\n            },\n            date: function (value) {\n                if (value != null && getDate(value) >= getDate(this.options.min) && getDate(value) <= getDate(this.options.max)) {\n                    this._model.set('selectedDate', value);\n                }\n                return getDate(this._model.get('selectedDate'));\n            },\n            _toolbar: function () {\n                var that = this;\n                var options = that.options;\n                var commands = [];\n                if (options.toolbar) {\n                    commands = $.isArray(options.toolbar) ? options.toolbar : [options.toolbar];\n                }\n                var template = this._isMobilePhoneView() ? MOBILETOOLBARTEMPLATE : TOOLBARTEMPLATE;\n                var toolbar = $(template({\n                    messages: options.messages,\n                    pdf: $.grep(commands, function (item) {\n                        return item == 'pdf' || item.name == 'pdf';\n                    }).length > 0,\n                    ns: kendo.ns,\n                    views: that.views,\n                    viewsCount: that._viewsCount\n                }));\n                that.wrapper.append(toolbar);\n                that.toolbar = toolbar;\n                kendo.bind(that.toolbar, that._model);\n                toolbar.on(CLICK + NS, '.k-pdf', function (e) {\n                    e.preventDefault();\n                    that.saveAsPDF();\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-navigation li', function (e) {\n                    var li = $(this);\n                    var date = new Date(that.date());\n                    var action = '';\n                    e.preventDefault();\n                    if (li.hasClass('k-nav-today')) {\n                        action = 'today';\n                        date = new Date();\n                    } else if (li.hasClass('k-nav-next')) {\n                        action = 'next';\n                        date = that.view().nextDate();\n                    } else if (li.hasClass('k-nav-prev')) {\n                        action = 'previous';\n                        date = that.view().previousDate();\n                    } else if (li.hasClass('k-nav-current') && !that._isMobilePhoneView()) {\n                        that._showCalendar();\n                        return;\n                    }\n                    if (!that.trigger('navigate', {\n                            view: that._selectedViewName,\n                            action: action,\n                            date: date\n                        })) {\n                        that.date(date);\n                    }\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-views li, .k-scheduler-refresh', function (e) {\n                    e.preventDefault();\n                    var name = $(this).attr(kendo.attr('name'));\n                    if (!that.trigger('navigate', {\n                            view: name,\n                            action: 'changeView',\n                            date: that.date()\n                        })) {\n                        that.view(name);\n                        that.element.find('.k-state-expanded').removeClass('k-state-expanded');\n                    }\n                });\n                toolbar.on(CLICK + NS, '.k-scheduler-views li.k-current-view', function () {\n                    that.element.find('.k-scheduler-views').toggleClass('k-state-expanded');\n                });\n                toolbar.find('li').hover(function () {\n                    $(this).addClass('k-state-hover');\n                }, function () {\n                    $(this).removeClass('k-state-hover');\n                });\n            },\n            _showCalendar: function () {\n                var that = this, target = that.toolbar.find('.k-nav-current'), html = $('<div class=\"k-calendar-container\"><div class=\"k-scheduler-calendar\"/></div>');\n                if (!that.popup) {\n                    that.popup = new Popup(html, {\n                        anchor: target,\n                        open: function () {\n                            if (!that.calendar) {\n                                that.calendar = new Calendar(this.element.find('.k-scheduler-calendar'), {\n                                    change: function () {\n                                        var date = this.value();\n                                        if (!that.trigger('navigate', {\n                                                view: that._selectedViewName,\n                                                action: 'changeDate',\n                                                date: date\n                                            })) {\n                                            that.date(date);\n                                            that.popup.close();\n                                        }\n                                    },\n                                    min: that.options.min,\n                                    max: that.options.max\n                                });\n                            }\n                            that.calendar.value(that.date());\n                        },\n                        copyAnchorStyles: false\n                    });\n                }\n                that.popup.open();\n            },\n            refresh: function (e) {\n                var that = this;\n                var view = this.view();\n                this._progress(false);\n                this.angular('cleanup', function () {\n                    return { elements: that.items() };\n                });\n                e = e || {};\n                if (!view) {\n                    return;\n                }\n                if (e && e.action === 'itemchange' && (this._editor.editable || this._preventRefresh)) {\n                    return;\n                }\n                if (this.trigger('dataBinding', {\n                        action: e.action || 'rebind',\n                        index: e.index,\n                        items: e.items\n                    })) {\n                    return;\n                }\n                if (!(e && e.action === 'resize') && this._editor) {\n                    this._editor.close();\n                }\n                this._data = this.dataSource.expand(view.startDate(), view.endDate());\n                view.refreshLayout();\n                view.render(this._data);\n                this.trigger('dataBound');\n            },\n            slotByPosition: function (x, y) {\n                var view = this.view();\n                if (!view._slotByPosition) {\n                    return null;\n                }\n                var slot = view._slotByPosition(x, y);\n                if (!slot) {\n                    return null;\n                }\n                return {\n                    startDate: slot.startDate(),\n                    endDate: slot.endDate(),\n                    groupIndex: slot.groupIndex,\n                    element: slot.element,\n                    isDaySlot: slot.isDaySlot\n                };\n            },\n            slotByElement: function (element) {\n                var offset = $(element).offset();\n                return this.slotByPosition(offset.left, offset.top);\n            },\n            resourcesBySlot: function (slot) {\n                return this.view()._resourceBySlot(slot);\n            }\n        });\n        var defaultViews = {\n            day: { type: 'kendo.ui.DayView' },\n            week: { type: 'kendo.ui.WeekView' },\n            workWeek: { type: 'kendo.ui.WorkWeekView' },\n            agenda: { type: 'kendo.ui.AgendaView' },\n            month: { type: 'kendo.ui.MonthView' },\n            timeline: { type: 'kendo.ui.TimelineView' },\n            timelineWeek: { type: 'kendo.ui.TimelineWeekView' },\n            timelineWorkWeek: { type: 'kendo.ui.TimelineWorkWeekView' },\n            timelineMonth: { type: 'kendo.ui.TimelineMonthView' }\n        };\n        ui.plugin(Scheduler);\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Scheduler.prototype);\n            var SCHEDULER_EXPORT = 'k-scheduler-pdf-export';\n            Scheduler.fn._drawPDF = function (progress) {\n                var wrapper = this.wrapper;\n                var styles = wrapper[0].style.cssText;\n                wrapper.css({\n                    width: wrapper.width(),\n                    height: wrapper.height()\n                });\n                wrapper.addClass(SCHEDULER_EXPORT);\n                var scheduler = this;\n                var promise = new $.Deferred();\n                var table = wrapper.find('.k-scheduler-content').find('table').css('table-layout', 'auto');\n                setTimeout(function () {\n                    table.css('table-layout', 'fixed');\n                    scheduler.resize(true);\n                    scheduler._drawPDFShadow({}, { avoidLinks: scheduler.options.pdf.avoidLinks }).done(function (group) {\n                        var args = {\n                            page: group,\n                            pageNumber: 1,\n                            progress: 1,\n                            totalPages: 1\n                        };\n                        progress.notify(args);\n                        promise.resolve(args.page);\n                    }).fail(function (err) {\n                        promise.reject(err);\n                    }).always(function () {\n                        wrapper[0].style.cssText = styles;\n                        wrapper.removeClass(SCHEDULER_EXPORT);\n                        scheduler.resize(true);\n                        scheduler.resize(true);\n                    });\n                });\n                return promise;\n            };\n        }\n        var TimezoneEditor = Widget.extend({\n            init: function (element, options) {\n                var that = this, zones = kendo.timezone.windows_zones;\n                if (!zones || !kendo.timezone.zones_titles) {\n                    throw new Error('kendo.timezones.min.js is not included.');\n                }\n                Widget.fn.init.call(that, element, options);\n                that.wrapper = that.element;\n                that._zonesQuery = new kendo.data.Query(zones);\n                that._zoneTitleId = kendo.guid();\n                that._zoneTitlePicker();\n                that._zonePicker();\n                that._zoneTitle.bind('cascade', function () {\n                    if (!this.value()) {\n                        that._zone.wrapper.hide();\n                    }\n                });\n                that._zone.bind('cascade', function () {\n                    that._value = this.value();\n                    that.trigger('change');\n                });\n                that.value(that.options.value);\n            },\n            options: {\n                name: 'TimezoneEditor',\n                value: '',\n                optionLabel: 'No timezone'\n            },\n            events: ['change'],\n            _zoneTitlePicker: function () {\n                var that = this, zoneTitle = $('<input id=\"' + that._zoneTitleId + '\"/>').appendTo(that.wrapper);\n                that._zoneTitle = new kendo.ui.DropDownList(zoneTitle, {\n                    dataSource: kendo.timezone.zones_titles,\n                    dataValueField: 'other_zone',\n                    dataTextField: 'name',\n                    optionLabel: that.options.optionLabel\n                });\n            },\n            _zonePicker: function () {\n                var that = this, zone = $('<input />').appendTo(this.wrapper);\n                that._zone = new kendo.ui.DropDownList(zone, {\n                    dataValueField: 'zone',\n                    dataTextField: 'territory',\n                    dataSource: that._zonesQuery.data,\n                    cascadeFrom: that._zoneTitleId,\n                    dataBound: function () {\n                        that._value = this.value();\n                        this.wrapper.toggle(this.dataSource.view().length > 1);\n                    }\n                });\n                that._zone.wrapper.hide();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                kendo.destroy(this.wrapper);\n            },\n            value: function (value) {\n                var that = this, zone;\n                if (value === undefined) {\n                    return that._value;\n                }\n                zone = that._zonesQuery.filter({\n                    field: 'zone',\n                    operator: 'eq',\n                    value: value\n                }).data[0];\n                if (zone) {\n                    that._zoneTitle.value(zone.other_zone);\n                    that._zone.value(zone.zone);\n                } else {\n                    that._zoneTitle.select(0);\n                }\n            }\n        });\n        ui.plugin(TimezoneEditor);\n        var ZONETITLEOPTIONTEMPLATE = kendo.template('<option value=\"#=other_zone#\">#=name#</option>');\n        var ZONEOPTIONTEMPLATE = kendo.template('<option value=\"#=zone#\">#=territory#</option>');\n        var MobileTimezoneEditor = Widget.extend({\n            init: function (element, options) {\n                var that = this, zones = kendo.timezone.windows_zones;\n                if (!zones || !kendo.timezone.zones_titles) {\n                    throw new Error('kendo.timezones.min.js is not included.');\n                }\n                Widget.fn.init.call(that, element, options);\n                that.wrapper = that.element;\n                that._zonesQuery = new kendo.data.Query(zones);\n                that._zoneTitlePicker();\n                that._zonePicker();\n                that.value(that.options.value);\n            },\n            options: {\n                name: 'MobileTimezoneEditor',\n                optionLabel: 'No timezone',\n                value: ''\n            },\n            events: ['change'],\n            _bindZones: function (value) {\n                var data = value ? this._filter(value) : [];\n                this._zone.html(this._options(data, ZONEOPTIONTEMPLATE));\n            },\n            _filter: function (value) {\n                return this._zonesQuery.filter({\n                    field: 'other_zone',\n                    operator: 'eq',\n                    value: value\n                }).data;\n            },\n            _options: function (data, template, optionLabel) {\n                var idx = 0;\n                var html = '';\n                var length = data.length;\n                if (optionLabel) {\n                    html += template({\n                        other_zone: '',\n                        name: optionLabel\n                    });\n                }\n                for (; idx < length; idx++) {\n                    html += template(data[idx]);\n                }\n                return html;\n            },\n            _zoneTitlePicker: function () {\n                var that = this;\n                var options = that._options(kendo.timezone.zones_titles, ZONETITLEOPTIONTEMPLATE, that.options.optionLabel);\n                that._zoneTitle = $('<select>' + options + '</select>').appendTo(that.wrapper).change(function () {\n                    var value = this.value;\n                    var zone = that._zone;\n                    that._bindZones(value);\n                    if (value && zone[0].children.length > 1) {\n                        zone.show();\n                    } else {\n                        zone.hide();\n                    }\n                    that._value = zone[0].value;\n                    that.trigger('change');\n                });\n            },\n            _zonePicker: function () {\n                var that = this;\n                that._zone = $('<select style=\"display:none\"></select>').appendTo(this.wrapper).change(function () {\n                    that._value = this.value;\n                    that.trigger('change');\n                });\n                that._bindZones(that._zoneTitle.val());\n                that._value = that._zone[0].value;\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                kendo.destroy(this.wrapper);\n            },\n            value: function (value) {\n                var that = this;\n                var zonePicker = that._zone;\n                var other_zone = '';\n                var zone_value = '';\n                var zone;\n                if (value === undefined) {\n                    return that._value;\n                }\n                zone = that._zonesQuery.filter({\n                    field: 'zone',\n                    operator: 'eq',\n                    value: value\n                }).data[0];\n                if (zone) {\n                    zone_value = zone.zone;\n                    other_zone = zone.other_zone;\n                }\n                that._zoneTitle.val(other_zone);\n                that._bindZones(other_zone);\n                zonePicker.val(zone_value);\n                zone_value = zonePicker[0].value;\n                if (zone_value && zonePicker[0].children.length > 1) {\n                    zonePicker.show();\n                } else {\n                    zonePicker.hide();\n                }\n                that._value = zone_value;\n            }\n        });\n        ui.plugin(MobileTimezoneEditor);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}