{"version":3,"sources":["kendo.gantt.js"],"names":["f","define","$","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","text","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","textContent","appendChild","body","String","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","selector","uid","attr","trimOptions","name","prefix","remove","edit","add","navigate","dateCompareValidator","input","field","picker","dates","container","editable","model","filter","widgetInstance","ui","parent","data","start","end","parseDate","focusTable","table","direct","wrapper","parents","scrollPositions","scrollableParents","TABINDEX","each","index","scrollTop","setActive","e","focus","element","parentsUntil","computedStyle","getComputedStyles","overflow","defaultCommands","GanttTask","GanttDataSource","editors","Editor","PopupEditor","ResourceEditor","Gantt","supportsMedia","browser","support","mobileOS","Observable","Widget","DataSource","ObservableObject","ObservableArray","Query","isArray","inArray","isFunction","proxy","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","keys","defaultIndicatorWidth","NS","PERCENTAGE_FORMAT","CLICK","WIDTH","STRING","DIRECTIONS","down","origin","position","up","ARIA_DESCENDANT","ACTIVE_CELL","ACTIVE_OPTION","DOT","TASK_DELETE_CONFIRM","DEPENDENCY_DELETE_CONFIRM","TOGGLE_BUTTON_TEMPLATE","template","BUTTON_TEMPLATE","COMMAND_BUTTON_TEMPLATE","VIEWBUTTONTEMPLATE","HEADER_VIEWS_TEMPLATE","TASK_DROPDOWN_TEMPLATE","DATERANGEEDITOR","validationRules","fields","validation","message","appendTo","hide","RESOURCESEDITOR","styles","button","messages","assignButton","click","ganttStyles","rowHeight","listWrapper","list","timelineWrapper","timeline","splitBarWrapper","splitBar","splitBarHover","popupWrapper","popupList","resizeHandle","icon","item","line","buttonDelete","buttonCancel","buttonSave","buttonToggle","primary","hovered","selected","focused","gridHeader","gridHeaderWrap","gridContent","popup","form","editForm","formContainer","resourcesFormContainer","buttonsContainer","editField","editLabel","resourcesField","toolbar","headerWrapper","footerWrapper","expanded","views","viewsWrapper","actions","iconPlus","iconPdf","iconToggle","viewButtonDefault","viewButton","currentView","link","pdfButton","appendButton","TaskDropDown","fn","call","_popup","direction","navigatable","_current","method","find","sibling","removeClass","removeAttr","addClass","that","itemSelector","appendButtonSelector","addChild","insertBefore","insertAfter","append","Popup","anchor","open","_adjustListWidth","animation","on","target","action","preventDefault","trigger","type","aria-activedescendant","hover","close","bind","keyCode","UP","DOWN","ENTER","ESC","computedWidth","listOuterWidth","getComputedStyle","parseFloat","mozilla","msie","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","destroy","clearTimeout","_focusTimeout","off","unbind","createDataSource","dataSource","Error","GanttDependency","Model","id","predecessorId","successorId","GanttDependencyDataSource","schema","modelBase","successors","_dependencies","predecessors","dependencies","apply","view","operator","toArray","create","duration","isMilestone","_offset","newValue","Date","getTime","set","parentId","defaultValue","required","orderId","title","dateCompare","percentComplete","min","max","step","summary","task","children","taskAllChildren","_removeItems","_childRemoved","_toGanttTask","insert","taskSiblings","_reorderSiblings","_resolveSummaryFields","taskParent","taskChildren","taskId","order","_sort","dir","callback","tasks","taskLevel","level","taskTree","l","update","taskInfo","oldValue","offsetChildren","parentTask","offset","modelChangeHandler","sender","_resolveSummaryStart","_resolveSummaryEnd","_resolveSummaryPercentComplete","_updateSummary","getSummaryStart","currentMin","_updateSummaryRecursive","getSummaryEnd","currentMax","getSummaryPercentComplete","aggregate","average","oldOrderId","startIndex","endIndex","newIndex","siblings","Math","childCount","_createNewModel","accept","desktop","dateRange","resources","createButton","editor","format","_buildEditTemplate","editableFields","tmpl","settings","Template","templateSettings","paramName","popupStyles","html","unescape","expr","editTask","_createPopupEditor","is","showDialog","buttons","eq","buttonIndex","currentTarget","kendoWindow","modal","resizable","draggable","visible","deactivate","getKendoWindow","center","editableWidget","save","className","cancel","editorTitle","userTriggered","kendoEditable","clearContainer","validateOnBlur","cycleForm","stopPropagation","updateInfo","_initContainer","_attachHandlers","events","_dettachHandlers","grid","closeHandler","_cancelProxy","_cancel","_saveProxy","_save","row","closest","getByUid","_updateModel","dom","resourcesEditorTitle","resize","_resourceGrid","_createButtons","Grid","columns","resourcesHeader","unitsHeader","dataItem","valueFormat","toString","sortable","filterable","from","values","prop","iconClass","pdf","_events","_wrapper","_resources","_timeline","_toolbar","_footer","_adjustDimensions","_preventRefresh","_selectedViewName","_dataSource","_assignments","_dropDowns","_list","_resizable","_scrollable","_dataBind","_attachEvents","_createEditor","notify","autoBind","selectable","columnResizeHandleWidth","assignments","taskTemplate","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","day","week","month","year","showWorkHours","showWorkDays","workDayStart","workDayEnd","workWeekStart","workWeekEnd","hourSpan","snap","listWidth","select","clearSelection","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","footerDropDown","headerDropDown","_editor","_resizeDraggable","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","footer","setOptions","selectedView","newOptions","isSettings","empty","_setEvents","splitBarHandleClassName","toggleButton","viewsSelector","pdfSelector","toggleSelector","contentSelector","treelist","hoveredClassName","actionsWrap","handler","matches","display","max-width","refresh","_resize","_actions","ns","prepend","matchMedia","addListener","toggleClass","saveAsPDF","_createButton","command","commandName","replace","split","listSelector","timelineSelector","splitBarSelector","toolbarHeight","footerHeight","totalHeight","totalWidth","splitBarWidth","treeListWidth","_scrollTo","scrollTarget","scrollIntoView","content","actionsSelector","actionMessages","firstSlot","_timeSlots","_createTask","effects","column","toggleButtons","restoreFocus","_cachedCurrent","_createResourceEditor","GanttList","_navigatable","cell","_updateTask","selection","oldWidth","newWidth","currentViewSelector","GanttTimeline","viewName","toLowerCase","resizeStart","dependency","predecessor","successor","_createDependency","removeTask","removeDependency","_requestStart","_error","refreshDependencies","dataTextField","dataColorField","dataFormatField","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","_createPopupButton","cancelTask","saveTask","_onDialogClose","_resourceEditor","_wrapResourceData","_updateAssignments","range","_render","_renderDependencies","date","_scrollToDate","_modelFromElement","setDataSource","_setDataSource","fetch","setDependenciesDataSource","items","assignment","resource","j","newLength","resourceId","hasMatch","_updateAssignment","splice","_removeAssignment","shift","_createAssignment","sync","taskCopy","toJSON","_editTask","_syncDataSource","resourceValueField","_taskConfirm","_removeTask","_scrollToUid","_preventDependencyRefresh","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","_confirm","confirmation","scrollToUid","cachedUid","cachedIndex","_progress","_assignResources","groupAssigments","group","assigments","applyTaskResource","setter","wrapTask","resourcedId","formatedValue","color","result","taskAssignments","valuePerResource","toggle","progress","timelineWidth","timelineScroll","treeListWrapper","kendoResizable","orientation","handle","scrollLeft","delta","x","initialDelta","isRtl","_renderCurrentTime","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","wheelDeltaY","one","cellIndex","headerTable","header","contentTable","tables","expandState","collapse","expand","scroll","reverse","moveVertical","subling","moveHorizontal","toggleExpandedState","deleteAction","selectedTask","isInput","ctrlKey","setTimeout","DELETE","isCell","RIGHT","altKey","LEFT","SPACEBAR","_startEditHandler","_viewByIndex","activeElement","_activeElement","promises","when","done","_adjustHeight","PDFMixin","_drawPDF","listClass","clone","_drawPDFShadow","avoidLinks","plugin"],"mappings":"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","file":"kendo.gantt.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                measureBox.textContent = text;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (String(text).length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.gantt', [\n        'kendo.data',\n        'kendo.popup',\n        'kendo.window',\n        'kendo.resizable',\n        'kendo.gantt.list',\n        'kendo.gantt.timeline',\n        'kendo.grid',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'gantt',\n        name: 'Gantt',\n        category: 'web',\n        description: 'The Gantt component.',\n        depends: [\n            'data',\n            'popup',\n            'resizable',\n            'window',\n            'gantt.list',\n            'gantt.timeline',\n            'grid'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo;\n        var supportsMedia = 'matchMedia' in window;\n        var browser = kendo.support.browser;\n        var mobileOS = kendo.support.mobileOS;\n        var Observable = kendo.Observable;\n        var Widget = kendo.ui.Widget;\n        var DataSource = kendo.data.DataSource;\n        var ObservableObject = kendo.data.ObservableObject;\n        var ObservableArray = kendo.data.ObservableArray;\n        var Query = kendo.data.Query;\n        var isArray = $.isArray;\n        var inArray = $.inArray;\n        var isFunction = kendo.isFunction;\n        var proxy = $.proxy;\n        var extend = $.extend;\n        var isPlainObject = $.isPlainObject;\n        var map = $.map;\n        var outerWidth = kendo._outerWidth;\n        var outerHeight = kendo._outerHeight;\n        var keys = kendo.keys;\n        var defaultIndicatorWidth = 3;\n        var NS = '.kendoGantt';\n        var PERCENTAGE_FORMAT = 'p0';\n        var TABINDEX = 'tabIndex';\n        var CLICK = 'click';\n        var WIDTH = 'width';\n        var STRING = 'string';\n        var DIRECTIONS = {\n            'down': {\n                origin: 'bottom left',\n                position: 'top left'\n            },\n            'up': {\n                origin: 'top left',\n                position: 'bottom left'\n            }\n        };\n        var ARIA_DESCENDANT = 'aria-activedescendant';\n        var ACTIVE_CELL = 'gantt_active_cell';\n        var ACTIVE_OPTION = 'action-option-focused';\n        var DOT = '.';\n        var TASK_DELETE_CONFIRM = 'Are you sure you want to delete this task?';\n        var DEPENDENCY_DELETE_CONFIRM = 'Are you sure you want to delete this dependency?';\n        var TOGGLE_BUTTON_TEMPLATE = kendo.template('<button class=\"#=styles.buttonToggle#\" type=\"button\"><span class=\"#=styles.iconToggle#\"></span></button>');\n        var BUTTON_TEMPLATE = '<button class=\"#=styles.button# #=className#\" type=\"button\" ' + '#if (action) {#' + 'data-action=\"#=action#\"' + '#}#' + '><span class=\"#=iconClass#\"></span><span>#=text#</span></button>';\n        var COMMAND_BUTTON_TEMPLATE = '<a class=\"#=className#\" #=attr# href=\"\\\\#\">#=text#</a>';\n        var VIEWBUTTONTEMPLATE = kendo.template('<li class=\"#=styles.currentView# #=styles.viewButtonDefault#\"><a href=\"\\\\#\" class=\"#=styles.link#\">&nbps;</a></li>');\n        var HEADER_VIEWS_TEMPLATE = kendo.template('<ul class=\"#=styles.viewsWrapper#\">' + '#for(var view in views){#' + '<li class=\"#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\"><a href=\"\\\\#\" class=\"#=styles.link#\">#=views[view].title#</a></li>' + '#}#' + '</ul>');\n        var TASK_DROPDOWN_TEMPLATE = kendo.template('<div class=\"#=styles.popupWrapper#\">' + '<ul class=\"#=styles.popupList#\" role=\"listbox\">' + '#for(var i = 0, l = actions.length; i < l; i++){#' + '<li class=\"#=styles.item#\" data-action=\"#=actions[i].data#\" role=\"option\">#=actions[i].text#</span>' + '#}#' + '</ul>' + '</div>');\n        var DATERANGEEDITOR = function (container, options) {\n            var attr = { name: options.field };\n            var validationRules = options.model.fields[options.field].validation;\n            if (validationRules && isPlainObject(validationRules) && validationRules.message) {\n                attr[kendo.attr('dateCompare-msg')] = validationRules.message;\n            }\n            $('<input type=\"text\" required ' + kendo.attr('type') + '=\"date\" ' + kendo.attr('role') + '=\"datetimepicker\" ' + kendo.attr('bind') + '=\"value:' + options.field + '\" ' + kendo.attr('validate') + '=\\'true\\' />').attr(attr).appendTo(container);\n            $('<span ' + kendo.attr('for') + '=\"' + options.field + '\" class=\"k-invalid-msg\"/>').hide().appendTo(container);\n        };\n        var RESOURCESEDITOR = function (container, options) {\n            $('<a href=\"#\" class=\"' + options.styles.button + '\">' + options.messages.assignButton + '</a>').click(options.click).appendTo(container);\n        };\n        var ganttStyles = {\n            wrapper: 'k-widget k-gantt',\n            rowHeight: 'k-gantt-rowheight',\n            listWrapper: 'k-gantt-layout k-gantt-treelist',\n            list: 'k-gantt-treelist',\n            timelineWrapper: 'k-gantt-layout k-gantt-timeline',\n            timeline: 'k-gantt-timeline',\n            splitBarWrapper: 'k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout',\n            splitBar: 'k-splitbar',\n            splitBarHover: 'k-splitbar-horizontal-hover',\n            popupWrapper: 'k-list-container',\n            popupList: 'k-list k-reset',\n            resizeHandle: 'k-resize-handle',\n            icon: 'k-icon',\n            item: 'k-item',\n            line: 'k-line',\n            buttonDelete: 'k-gantt-delete',\n            buttonCancel: 'k-gantt-cancel',\n            buttonSave: 'k-gantt-update',\n            buttonToggle: 'k-gantt-toggle',\n            primary: 'k-primary',\n            hovered: 'k-state-hover',\n            selected: 'k-state-selected',\n            focused: 'k-state-focused',\n            gridHeader: 'k-grid-header',\n            gridHeaderWrap: 'k-grid-header-wrap',\n            gridContent: 'k-grid-content',\n            popup: {\n                form: 'k-popup-edit-form',\n                editForm: 'k-gantt-edit-form',\n                formContainer: 'k-edit-form-container',\n                resourcesFormContainer: 'k-resources-form-container',\n                message: 'k-popup-message',\n                buttonsContainer: 'k-edit-buttons k-state-default',\n                button: 'k-button',\n                editField: 'k-edit-field',\n                editLabel: 'k-edit-label',\n                resourcesField: 'k-gantt-resources'\n            },\n            toolbar: {\n                headerWrapper: 'k-floatwrap k-header k-gantt-toolbar',\n                footerWrapper: 'k-floatwrap k-header k-gantt-toolbar',\n                toolbar: 'k-gantt-toolbar',\n                expanded: 'k-state-expanded',\n                views: 'k-gantt-views',\n                viewsWrapper: 'k-reset k-header k-gantt-views',\n                actions: 'k-gantt-actions',\n                button: 'k-button k-button-icontext',\n                buttonToggle: 'k-button k-button-icon k-gantt-toggle',\n                iconPlus: 'k-icon k-i-plus',\n                iconPdf: 'k-icon k-i-file-pdf',\n                iconToggle: 'k-icon k-i-layout-1-by-4',\n                viewButtonDefault: 'k-state-default',\n                viewButton: 'k-view',\n                currentView: 'k-current-view',\n                link: 'k-link',\n                pdfButton: 'k-gantt-pdf',\n                appendButton: 'k-gantt-create'\n            }\n        };\n        function selector(uid) {\n            return '[' + kendo.attr('uid') + (uid ? '=\\'' + uid + '\\']' : ']');\n        }\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n            return options;\n        }\n        function dateCompareValidator(input) {\n            if (input.filter('[name=end], [name=start]').length) {\n                var field = input.attr('name');\n                var picker = kendo.widgetInstance(input, kendo.ui);\n                var dates = {};\n                var container = input;\n                var editable;\n                var model;\n                while (container !== window && !editable) {\n                    container = container.parent();\n                    editable = container.data('kendoEditable');\n                }\n                model = editable ? editable.options.model : null;\n                if (!model) {\n                    return true;\n                }\n                dates.start = model.start;\n                dates.end = model.end;\n                dates[field] = picker ? picker.value() : kendo.parseDate(input.value());\n                return dates.start <= dates.end;\n            }\n            return true;\n        }\n        function focusTable(table, direct) {\n            var wrapper = table.parents('[' + kendo.attr('role') + '=\"gantt\"]');\n            var scrollPositions = [];\n            var parents = scrollableParents(wrapper);\n            table.attr(TABINDEX, 0);\n            if (direct) {\n                parents.each(function (index, parent) {\n                    scrollPositions[index] = $(parent).scrollTop();\n                });\n            }\n            try {\n                table[0].setActive();\n            } catch (e) {\n                table[0].focus();\n            }\n            if (direct) {\n                parents.each(function (index, parent) {\n                    $(parent).scrollTop(scrollPositions[index]);\n                });\n            }\n        }\n        function scrollableParents(element) {\n            return $(element).parentsUntil('body').filter(function (index, element) {\n                var computedStyle = kendo.getComputedStyles(element, ['overflow']);\n                return computedStyle.overflow != 'visible';\n            }).add(window);\n        }\n        var defaultCommands;\n        var TaskDropDown = Observable.extend({\n            init: function (element, options) {\n                Observable.fn.init.call(this);\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n                this._popup();\n            },\n            options: {\n                direction: 'down',\n                navigatable: false\n            },\n            _current: function (method) {\n                var ganttStyles = Gantt.styles;\n                var current = this.list.find(DOT + ganttStyles.focused);\n                var sibling = current[method]();\n                if (sibling.length) {\n                    current.removeClass(ganttStyles.focused).removeAttr('id');\n                    sibling.addClass(ganttStyles.focused).attr('id', ACTIVE_OPTION);\n                    this.list.find('ul').removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_OPTION);\n                }\n            },\n            _popup: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var itemSelector = 'li' + DOT + ganttStyles.item;\n                var appendButtonSelector = DOT + ganttStyles.toolbar.appendButton;\n                var actions = this.options.messages.actions;\n                var navigatable = this.options.navigatable;\n                this.list = $(TASK_DROPDOWN_TEMPLATE({\n                    styles: ganttStyles,\n                    actions: [\n                        {\n                            data: 'add',\n                            text: actions.addChild\n                        },\n                        {\n                            data: 'insert-before',\n                            text: actions.insertBefore\n                        },\n                        {\n                            data: 'insert-after',\n                            text: actions.insertAfter\n                        }\n                    ]\n                }));\n                this.element.append(this.list);\n                this.popup = new kendo.ui.Popup(this.list, extend({\n                    anchor: this.element.find(appendButtonSelector),\n                    open: function () {\n                        that._adjustListWidth();\n                    },\n                    animation: this.options.animation\n                }, DIRECTIONS[this.options.direction]));\n                this.element.on(CLICK + NS, appendButtonSelector, function (e) {\n                    var target = $(this);\n                    var action = target.attr(kendo.attr('action'));\n                    e.preventDefault();\n                    if (action) {\n                        that.trigger('command', { type: action });\n                    } else {\n                        that.popup.open();\n                        if (navigatable) {\n                            that.list.find('li:first').addClass(ganttStyles.focused).attr('id', ACTIVE_OPTION).end().find('ul').attr({\n                                TABINDEX: 0,\n                                'aria-activedescendant': ACTIVE_OPTION\n                            }).focus();\n                        }\n                    }\n                });\n                this.list.find(itemSelector).hover(function () {\n                    $(this).addClass(ganttStyles.hovered);\n                }, function () {\n                    $(this).removeClass(ganttStyles.hovered);\n                }).end().on(CLICK + NS, itemSelector, function () {\n                    that.trigger('command', { type: $(this).attr(kendo.attr('action')) });\n                    that.popup.close();\n                });\n                if (navigatable) {\n                    this.popup.bind('close', function () {\n                        that.list.find(itemSelector).removeClass(ganttStyles.focused).end().find('ul').attr(TABINDEX, 0);\n                        that.element.parents('[' + kendo.attr('role') + '=\"gantt\"]').find(DOT + ganttStyles.gridContent + ' > table:first').focus();\n                    });\n                    this.list.find('ul').on('keydown' + NS, function (e) {\n                        var key = e.keyCode;\n                        switch (key) {\n                        case keys.UP:\n                            e.preventDefault();\n                            that._current('prev');\n                            break;\n                        case keys.DOWN:\n                            e.preventDefault();\n                            that._current('next');\n                            break;\n                        case keys.ENTER:\n                            that.list.find(DOT + ganttStyles.focused).click();\n                            break;\n                        case keys.ESC:\n                            e.preventDefault();\n                            that.popup.close();\n                            break;\n                        }\n                    });\n                }\n            },\n            _adjustListWidth: function () {\n                var list = this.list;\n                var ganttStyles = Gantt.styles;\n                var width = list[0].style.width;\n                var wrapper = this.element.find(DOT + ganttStyles.toolbar.appendButton);\n                var listOuterWidth = outerWidth(list);\n                var computedStyle;\n                var computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = computedStyle ? parseFloat(computedStyle.width) : outerWidth(wrapper);\n                if (computedStyle && (browser.mozilla || browser.msie)) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                if (listOuterWidth > width) {\n                    width = listOuterWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: width\n                }).data(WIDTH, width);\n            },\n            destroy: function () {\n                clearTimeout(this._focusTimeout);\n                this.popup.destroy();\n                this.element.off(NS);\n                this.list.off(NS);\n                this.unbind();\n            }\n        });\n        var createDataSource = function (type, name) {\n            return function (options) {\n                options = isArray(options) ? { data: options } : options;\n                var dataSource = options || {};\n                var data = dataSource.data;\n                dataSource.data = data;\n                if (!(dataSource instanceof type) && dataSource instanceof DataSource) {\n                    throw new Error('Incorrect DataSource type. Only ' + name + ' instances are supported');\n                }\n                return dataSource instanceof type ? dataSource : new type(dataSource);\n            };\n        };\n        var GanttDependency = kendo.data.Model.define({\n            id: 'id',\n            fields: {\n                id: { type: 'number' },\n                predecessorId: { type: 'number' },\n                successorId: { type: 'number' },\n                type: { type: 'number' }\n            }\n        });\n        var GanttDependencyDataSource = DataSource.extend({\n            init: function (options) {\n                DataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: GanttDependency,\n                        model: GanttDependency\n                    }\n                }, options));\n            },\n            successors: function (id) {\n                return this._dependencies('predecessorId', id);\n            },\n            predecessors: function (id) {\n                return this._dependencies('successorId', id);\n            },\n            dependencies: function (id) {\n                var predecessors = this.predecessors(id);\n                var successors = this.successors(id);\n                predecessors.push.apply(predecessors, successors);\n                return predecessors;\n            },\n            _dependencies: function (field, id) {\n                var data = this.view();\n                var filter = {\n                    field: field,\n                    operator: 'eq',\n                    value: id\n                };\n                data = new Query(data).filter(filter).toArray();\n                return data;\n            }\n        });\n        GanttDependencyDataSource.create = createDataSource(GanttDependencyDataSource, 'GanttDependencyDataSource');\n        var GanttTask = kendo.data.Model.define({\n            duration: function () {\n                var end = this.end;\n                var start = this.start;\n                return end - start;\n            },\n            isMilestone: function () {\n                return this.duration() === 0;\n            },\n            _offset: function (value) {\n                var field = [\n                    'start',\n                    'end'\n                ];\n                var newValue;\n                for (var i = 0; i < field.length; i++) {\n                    newValue = new Date(this.get(field[i]).getTime() + value);\n                    this.set(field[i], newValue);\n                }\n            },\n            id: 'id',\n            fields: {\n                id: { type: 'number' },\n                parentId: {\n                    type: 'number',\n                    defaultValue: null,\n                    validation: { required: true }\n                },\n                orderId: {\n                    type: 'number',\n                    validation: { required: true }\n                },\n                title: {\n                    type: 'string',\n                    defaultValue: 'New task'\n                },\n                start: {\n                    type: 'date',\n                    validation: { required: true }\n                },\n                end: {\n                    type: 'date',\n                    validation: {\n                        required: true,\n                        dateCompare: dateCompareValidator,\n                        message: 'End date should be after or equal to the start date'\n                    }\n                },\n                percentComplete: {\n                    type: 'number',\n                    validation: {\n                        required: true,\n                        min: 0,\n                        max: 1,\n                        step: 0.01\n                    }\n                },\n                summary: { type: 'boolean' },\n                expanded: {\n                    type: 'boolean',\n                    defaultValue: true\n                }\n            }\n        });\n        var GanttDataSource = DataSource.extend({\n            init: function (options) {\n                DataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: GanttTask,\n                        model: GanttTask\n                    }\n                }, options));\n            },\n            remove: function (task) {\n                var parentId = task.get('parentId');\n                var children = this.taskAllChildren(task);\n                this._removeItems(children);\n                task = DataSource.fn.remove.call(this, task);\n                this._childRemoved(parentId, task.get('orderId'));\n                return task;\n            },\n            add: function (task) {\n                if (!task) {\n                    return;\n                }\n                task = this._toGanttTask(task);\n                return this.insert(this.taskSiblings(task).length, task);\n            },\n            insert: function (index, task) {\n                if (!task) {\n                    return;\n                }\n                task = this._toGanttTask(task);\n                task.set('orderId', index);\n                task = DataSource.fn.insert.call(this, index, task);\n                this._reorderSiblings(task, this.taskSiblings(task).length - 1);\n                this._resolveSummaryFields(this.taskParent(task));\n                return task;\n            },\n            taskChildren: function (task) {\n                var data = this.view();\n                var filter = {\n                    field: 'parentId',\n                    operator: 'eq',\n                    value: null\n                };\n                var order = this._sort && this._sort.length ? this._sort : {\n                    field: 'orderId',\n                    dir: 'asc'\n                };\n                var taskId;\n                if (!!task) {\n                    taskId = task.get('id');\n                    if (taskId === undefined || taskId === null || taskId === '') {\n                        return [];\n                    }\n                    filter.value = taskId;\n                }\n                data = new Query(data).filter(filter).sort(order).toArray();\n                return data;\n            },\n            taskAllChildren: function (task) {\n                var data = [];\n                var that = this;\n                var callback = function (task) {\n                    var tasks = that.taskChildren(task);\n                    data.push.apply(data, tasks);\n                    map(tasks, callback);\n                };\n                if (!!task) {\n                    callback(task);\n                } else {\n                    data = this.view();\n                }\n                return data;\n            },\n            taskSiblings: function (task) {\n                if (!task) {\n                    return null;\n                }\n                var parent = this.taskParent(task);\n                return this.taskChildren(parent);\n            },\n            taskParent: function (task) {\n                if (!task || task.get('parentId') === null) {\n                    return null;\n                }\n                return this.get(task.parentId);\n            },\n            taskLevel: function (task) {\n                var level = 0;\n                var parent = this.taskParent(task);\n                while (parent !== null) {\n                    level += 1;\n                    parent = this.taskParent(parent);\n                }\n                return level;\n            },\n            taskTree: function (task) {\n                var data = [];\n                var current;\n                var tasks = this.taskChildren(task);\n                for (var i = 0, l = tasks.length; i < l; i++) {\n                    current = tasks[i];\n                    data.push(current);\n                    if (current.get('expanded')) {\n                        var children = this.taskTree(current);\n                        data.push.apply(data, children);\n                    }\n                }\n                return data;\n            },\n            update: function (task, taskInfo) {\n                var that = this;\n                var oldValue;\n                var offsetChildren = function (parentTask, offset) {\n                    var children = that.taskAllChildren(parentTask);\n                    for (var i = 0, l = children.length; i < l; i++) {\n                        children[i]._offset(offset);\n                    }\n                };\n                var modelChangeHandler = function (e) {\n                    var field = e.field;\n                    var model = e.sender;\n                    switch (field) {\n                    case 'start':\n                        that._resolveSummaryStart(that.taskParent(model));\n                        offsetChildren(model, model.get(field).getTime() - oldValue.getTime());\n                        break;\n                    case 'end':\n                        that._resolveSummaryEnd(that.taskParent(model));\n                        break;\n                    case 'percentComplete':\n                        that._resolveSummaryPercentComplete(that.taskParent(model));\n                        break;\n                    case 'orderId':\n                        that._reorderSiblings(model, oldValue);\n                        break;\n                    }\n                };\n                if (taskInfo.parentId !== undefined) {\n                    oldValue = task.get('parentId');\n                    if (oldValue !== taskInfo.parentId) {\n                        task.set('parentId', taskInfo.parentId);\n                        that._childRemoved(oldValue, task.get('orderId'));\n                        task.set('orderId', that.taskSiblings(task).length - 1);\n                        that._resolveSummaryFields(that.taskParent(task));\n                    }\n                    delete taskInfo.parentId;\n                }\n                task.bind('change', modelChangeHandler);\n                for (var field in taskInfo) {\n                    oldValue = task.get(field);\n                    task.set(field, taskInfo[field]);\n                }\n                task.unbind('change', modelChangeHandler);\n            },\n            _resolveSummaryFields: function (summary) {\n                if (!summary) {\n                    return;\n                }\n                this._updateSummary(summary);\n                if (!this.taskChildren(summary).length) {\n                    return;\n                }\n                this._resolveSummaryStart(summary);\n                this._resolveSummaryEnd(summary);\n                this._resolveSummaryPercentComplete(summary);\n            },\n            _resolveSummaryStart: function (summary) {\n                var that = this;\n                var getSummaryStart = function (parentTask) {\n                    var children = that.taskChildren(parentTask);\n                    var min = children[0].start.getTime();\n                    var currentMin;\n                    for (var i = 1, l = children.length; i < l; i++) {\n                        currentMin = children[i].start.getTime();\n                        if (currentMin < min) {\n                            min = currentMin;\n                        }\n                    }\n                    return new Date(min);\n                };\n                this._updateSummaryRecursive(summary, 'start', getSummaryStart);\n            },\n            _resolveSummaryEnd: function (summary) {\n                var that = this;\n                var getSummaryEnd = function (parentTask) {\n                    var children = that.taskChildren(parentTask);\n                    var max = children[0].end.getTime();\n                    var currentMax;\n                    for (var i = 1, l = children.length; i < l; i++) {\n                        currentMax = children[i].end.getTime();\n                        if (currentMax > max) {\n                            max = currentMax;\n                        }\n                    }\n                    return new Date(max);\n                };\n                this._updateSummaryRecursive(summary, 'end', getSummaryEnd);\n            },\n            _resolveSummaryPercentComplete: function (summary) {\n                var that = this;\n                var getSummaryPercentComplete = function (parentTask) {\n                    var children = that.taskChildren(parentTask);\n                    var percentComplete = new Query(children).aggregate([{\n                            field: 'percentComplete',\n                            aggregate: 'average'\n                        }]);\n                    return percentComplete.percentComplete.average;\n                };\n                this._updateSummaryRecursive(summary, 'percentComplete', getSummaryPercentComplete);\n            },\n            _updateSummaryRecursive: function (summary, field, callback) {\n                if (!summary) {\n                    return;\n                }\n                var value = callback(summary);\n                summary.set(field, value);\n                var parent = this.taskParent(summary);\n                if (parent) {\n                    this._updateSummaryRecursive(parent, field, callback);\n                }\n            },\n            _childRemoved: function (parentId, index) {\n                var parent = parentId === null ? null : this.get(parentId);\n                var children = this.taskChildren(parent);\n                for (var i = index, l = children.length; i < l; i++) {\n                    children[i].set('orderId', i);\n                }\n                this._resolveSummaryFields(parent);\n            },\n            _reorderSiblings: function (task, oldOrderId) {\n                var orderId = task.get('orderId');\n                var direction = orderId > oldOrderId;\n                var startIndex = direction ? oldOrderId : orderId;\n                var endIndex = direction ? orderId : oldOrderId;\n                var newIndex = direction ? startIndex : startIndex + 1;\n                var siblings = this.taskSiblings(task);\n                endIndex = Math.min(endIndex, siblings.length - 1);\n                for (var i = startIndex; i <= endIndex; i++) {\n                    if (siblings[i] === task) {\n                        continue;\n                    }\n                    siblings[i].set('orderId', newIndex);\n                    newIndex += 1;\n                }\n            },\n            _updateSummary: function (task) {\n                if (task !== null) {\n                    var childCount = this.taskChildren(task).length;\n                    task.set('summary', childCount > 0);\n                }\n            },\n            _toGanttTask: function (task) {\n                if (!(task instanceof GanttTask)) {\n                    var taskInfo = task;\n                    task = this._createNewModel();\n                    task.accept(taskInfo);\n                }\n                return task;\n            }\n        });\n        GanttDataSource.create = createDataSource(GanttDataSource, 'GanttDataSource');\n        extend(true, kendo.data, {\n            GanttDataSource: GanttDataSource,\n            GanttTask: GanttTask,\n            GanttDependencyDataSource: GanttDependencyDataSource,\n            GanttDependency: GanttDependency\n        });\n        var editors = {\n            desktop: {\n                dateRange: DATERANGEEDITOR,\n                resources: RESOURCESEDITOR\n            }\n        };\n        var Editor = kendo.Observable.extend({\n            init: function (element, options) {\n                kendo.Observable.fn.init.call(this);\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n                this.createButton = this.options.createButton;\n            },\n            fields: function (editors, model) {\n                var that = this;\n                var options = this.options;\n                var messages = options.messages.editor;\n                var resources = options.resources;\n                var fields;\n                var click = function (e) {\n                    e.preventDefault();\n                    resources.editor(that.container.find(DOT + Gantt.styles.popup.resourcesField), model);\n                };\n                if (options.editable.template) {\n                    fields = $.map(model.fields, function (value, key) {\n                        return { field: key };\n                    });\n                } else {\n                    fields = [\n                        {\n                            field: 'title',\n                            title: messages.title\n                        },\n                        {\n                            field: 'start',\n                            title: messages.start,\n                            editor: editors.dateRange\n                        },\n                        {\n                            field: 'end',\n                            title: messages.end,\n                            editor: editors.dateRange\n                        },\n                        {\n                            field: 'percentComplete',\n                            title: messages.percentComplete,\n                            format: PERCENTAGE_FORMAT\n                        }\n                    ];\n                    if (model.get(resources.field)) {\n                        fields.push({\n                            field: resources.field,\n                            title: messages.resources,\n                            messages: messages,\n                            editor: editors.resources,\n                            click: click,\n                            styles: Gantt.styles.popup\n                        });\n                    }\n                }\n                return fields;\n            },\n            _buildEditTemplate: function (model, fields, editableFields) {\n                var resources = this.options.resources;\n                var template = this.options.editable.template;\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\n                var paramName = settings.paramName;\n                var popupStyles = Gantt.styles.popup;\n                var html = '';\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = window.unescape(template);\n                    }\n                    html += kendo.template(template, settings)(model);\n                } else {\n                    for (var i = 0, length = fields.length; i < length; i++) {\n                        var field = fields[i];\n                        html += '<div class=\"' + popupStyles.editLabel + '\"><label for=\"' + field.field + '\">' + (field.title || field.field || '') + '</label></div>';\n                        if (field.field === resources.field) {\n                            html += '<div class=\"' + popupStyles.resourcesField + '\" style=\"display:none\"></div>';\n                        }\n                        if (!model.editable || model.editable(field.field)) {\n                            editableFields.push(field);\n                            html += '<div ' + kendo.attr('container-for') + '=\"' + field.field + '\" class=\"' + popupStyles.editField + '\"></div>';\n                        } else {\n                            var tmpl = '#:';\n                            if (field.field) {\n                                field = kendo.expr(field.field, paramName);\n                                tmpl += field + '==null?\\'\\':' + field;\n                            } else {\n                                tmpl += '\\'\\'';\n                            }\n                            tmpl += '#';\n                            tmpl = kendo.template(tmpl, settings);\n                            html += '<div class=\"' + popupStyles.editField + '\">' + tmpl(model) + '</div>';\n                        }\n                    }\n                }\n                return html;\n            }\n        });\n        var PopupEditor = Editor.extend({\n            destroy: function () {\n                this.close();\n                this.unbind();\n            },\n            editTask: function (task) {\n                this.editable = this._createPopupEditor(task);\n            },\n            close: function () {\n                var that = this;\n                var destroy = function () {\n                    if (that.editable) {\n                        that.editable.destroy();\n                        that.editable = null;\n                        that.container = null;\n                    }\n                    if (that.popup) {\n                        that.popup.destroy();\n                        that.popup = null;\n                    }\n                };\n                if (this.editable && this.container.is(':visible')) {\n                    that.trigger('close', { window: that.container });\n                    this.container.data('kendoWindow').bind('deactivate', destroy).close();\n                } else {\n                    destroy();\n                }\n            },\n            showDialog: function (options) {\n                var buttons = options.buttons;\n                var popupStyles = Gantt.styles.popup;\n                var html = kendo.format('<div class=\"{0}\"><div class=\"{1}\"><p class=\"{2}\">{3}</p><div class=\"{4}\">', popupStyles.form, popupStyles.formContainer, popupStyles.message, options.text, popupStyles.buttonsContainer);\n                for (var i = 0, length = buttons.length; i < length; i++) {\n                    html += this.createButton(buttons[i]);\n                }\n                html += '</div></div></div>';\n                var wrapper = this.element;\n                if (this.popup) {\n                    this.popup.destroy();\n                }\n                var popup = this.popup = $(html).appendTo(wrapper).eq(0).on('click', DOT + popupStyles.button, function (e) {\n                    e.preventDefault();\n                    popup.close();\n                    var buttonIndex = $(e.currentTarget).index();\n                    buttons[buttonIndex].click();\n                }).kendoWindow({\n                    modal: true,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    deactivate: function () {\n                        this.destroy();\n                        wrapper.focus();\n                    }\n                }).getKendoWindow();\n                popup.center().open();\n            },\n            _createPopupEditor: function (task) {\n                var that = this;\n                var options = {};\n                var messages = this.options.messages;\n                var ganttStyles = Gantt.styles;\n                var popupStyles = ganttStyles.popup;\n                var html = kendo.format('<div {0}=\"{1}\" class=\"{2} {3}\"><div class=\"{4}\">', kendo.attr('uid'), task.uid, popupStyles.form, popupStyles.editForm, popupStyles.formContainer);\n                var fields = this.fields(editors.desktop, task);\n                var editableFields = [];\n                html += this._buildEditTemplate(task, fields, editableFields);\n                html += '<div class=\"' + popupStyles.buttonsContainer + '\">';\n                html += this.createButton({\n                    name: 'update',\n                    text: messages.save,\n                    className: Gantt.styles.primary\n                });\n                html += this.createButton({\n                    name: 'cancel',\n                    text: messages.cancel\n                });\n                if (that.options.editable.destroy !== false) {\n                    html += this.createButton({\n                        name: 'delete',\n                        text: messages.destroy\n                    });\n                }\n                html += '</div></div></div>';\n                var container = this.container = $(html).appendTo(this.element).eq(0).kendoWindow(extend({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    close: function (e) {\n                        if (e.userTriggered) {\n                            if (that.trigger('cancel', {\n                                    container: container,\n                                    model: task\n                                })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n                var editableWidget = container.kendoEditable({\n                    fields: editableFields,\n                    model: task,\n                    clearContainer: false,\n                    validateOnBlur: true,\n                    target: that.options.target\n                }).data('kendoEditable');\n                kendo.cycleForm(container);\n                if (!this.trigger('edit', {\n                        container: container,\n                        model: task\n                    })) {\n                    container.data('kendoWindow').center().open();\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger('cancel', {\n                            container: container,\n                            model: task\n                        });\n                    });\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonSave, function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        var fields = that.fields(editors.desktop, task);\n                        var updateInfo = {};\n                        var field;\n                        for (var i = 0, length = fields.length; i < length; i++) {\n                            field = fields[i].field;\n                            updateInfo[field] = task.get(field);\n                        }\n                        that.trigger('save', {\n                            container: container,\n                            model: task,\n                            updateInfo: updateInfo\n                        });\n                    });\n                    container.on(CLICK + NS, DOT + ganttStyles.buttonDelete, function (e) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        that.trigger('remove', {\n                            container: container,\n                            model: task\n                        });\n                    });\n                } else {\n                    that.trigger('cancel', {\n                        container: container,\n                        model: task\n                    });\n                }\n                return editableWidget;\n            }\n        });\n        var ResourceEditor = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.wrapper = this.element;\n                this.model = this.options.model;\n                this.resourcesField = this.options.resourcesField;\n                this.createButton = this.options.createButton;\n                this._initContainer();\n                this._attachHandlers();\n            },\n            events: ['save'],\n            open: function () {\n                this.window.center().open();\n            },\n            close: function () {\n                this.window.bind('deactivate', proxy(this.destroy, this)).close();\n            },\n            destroy: function () {\n                this._dettachHandlers();\n                this.grid.destroy();\n                this.grid = null;\n                this.window.destroy();\n                this.window = null;\n                Widget.fn.destroy.call(this);\n                kendo.destroy(this.wrapper);\n                this.element = this.wrapper = null;\n            },\n            _attachHandlers: function () {\n                var ganttStyles = Gantt.styles;\n                var grid = this.grid;\n                var closeHandler = this._cancelProxy = proxy(this._cancel, this);\n                this.container.on(CLICK + NS, DOT + ganttStyles.buttonCancel, this._cancelProxy);\n                this._saveProxy = proxy(this._save, this);\n                this.container.on(CLICK + NS, DOT + ganttStyles.buttonSave, this._saveProxy);\n                this.window.bind('close', function (e) {\n                    if (e.userTriggered) {\n                        closeHandler(e);\n                    }\n                });\n                grid.wrapper.on(CLICK + NS, 'input[type=\\'checkbox\\']', function () {\n                    var element = $(this);\n                    var row = $(element).closest('tr');\n                    var model = grid.dataSource.getByUid(row.attr(kendo.attr('uid')));\n                    var value = $(element).is(':checked') ? 1 : '';\n                    model.set('value', value);\n                });\n            },\n            _dettachHandlers: function () {\n                this._cancelProxy = null;\n                this._saveProxy = null;\n                this.container.off(NS);\n                this.grid.wrapper.off();\n            },\n            _cancel: function (e) {\n                e.preventDefault();\n                this.close();\n            },\n            _save: function (e) {\n                e.preventDefault();\n                this._updateModel();\n                if (!this.wrapper.is(DOT + Gantt.styles.popup.resourcesField)) {\n                    this.trigger('save', {\n                        container: this.wrapper,\n                        model: this.model\n                    });\n                }\n                this.close();\n            },\n            _initContainer: function () {\n                var that = this;\n                var popupStyles = Gantt.styles.popup;\n                var dom = kendo.format('<div class=\"{0} {1}\"><div class=\"{2} {3}\"/></div>\"', popupStyles.form, popupStyles.editForm, popupStyles.formContainer, popupStyles.resourcesFormContainer);\n                dom = $(dom);\n                this.container = dom.find(DOT + popupStyles.resourcesFormContainer);\n                this.window = dom.kendoWindow({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    visible: false,\n                    title: this.options.messages.resourcesEditorTitle,\n                    open: function () {\n                        that.grid.resize(true);\n                    }\n                }).data('kendoWindow');\n                this._resourceGrid();\n                this._createButtons();\n            },\n            _resourceGrid: function () {\n                var that = this;\n                var messages = this.options.messages;\n                var element = $('<div id=\"resources-grid\"/>').appendTo(this.container);\n                this.grid = new kendo.ui.Grid(element, {\n                    columns: [\n                        {\n                            field: 'name',\n                            title: messages.resourcesHeader,\n                            template: '<label><input type=\\'checkbox\\' value=\\'#=name#\\'' + '# if (value > 0 && value !== null) {#' + 'checked=\\'checked\\'' + '# } #' + '/>#=name#</labe>'\n                        },\n                        {\n                            field: 'value',\n                            title: messages.unitsHeader,\n                            template: function (dataItem) {\n                                var valueFormat = dataItem.format;\n                                var value = dataItem.value !== null ? dataItem.value : '';\n                                return valueFormat ? kendo.toString(value, valueFormat) : value;\n                            }\n                        }\n                    ],\n                    height: 280,\n                    sortable: true,\n                    editable: true,\n                    filterable: true,\n                    dataSource: {\n                        data: that.options.data,\n                        schema: {\n                            model: {\n                                id: 'id',\n                                fields: {\n                                    id: { from: 'id' },\n                                    name: {\n                                        from: 'name',\n                                        type: 'string',\n                                        editable: false\n                                    },\n                                    value: {\n                                        from: 'value',\n                                        type: 'number',\n                                        defaultValue: ''\n                                    },\n                                    format: {\n                                        from: 'format',\n                                        type: 'string'\n                                    }\n                                }\n                            }\n                        }\n                    },\n                    save: function (e) {\n                        var value = !!e.values.value;\n                        e.container.parent().find('input[type=\\'checkbox\\']').prop('checked', value);\n                    }\n                });\n            },\n            _createButtons: function () {\n                var buttons = this.options.buttons;\n                var html = '<div class=\"' + Gantt.styles.popup.buttonsContainer + '\">';\n                for (var i = 0, length = buttons.length; i < length; i++) {\n                    html += this.createButton(buttons[i]);\n                }\n                html += '</div>';\n                this.container.append(html);\n            },\n            _updateModel: function () {\n                var resources = [];\n                var value;\n                var data = this.grid.dataSource.data();\n                for (var i = 0, length = data.length; i < length; i++) {\n                    value = data[i].get('value');\n                    if (value !== null && value > 0) {\n                        resources.push(data[i]);\n                    }\n                }\n                this.model[this.resourcesField] = resources;\n            }\n        });\n        var Gantt = Widget.extend({\n            init: function (element, options, events) {\n                if (isArray(options)) {\n                    options = { dataSource: options };\n                }\n                defaultCommands = {\n                    append: {\n                        text: 'Add Task',\n                        action: 'add',\n                        className: Gantt.styles.toolbar.appendButton,\n                        iconClass: Gantt.styles.toolbar.iconPlus\n                    },\n                    pdf: {\n                        text: 'Export to PDF',\n                        className: Gantt.styles.toolbar.pdfButton,\n                        iconClass: Gantt.styles.toolbar.iconPdf\n                    }\n                };\n                Widget.fn.init.call(this, element, options);\n                if (events) {\n                    this._events = events;\n                }\n                this._wrapper();\n                this._resources();\n                if (!this.options.views || !this.options.views.length) {\n                    this.options.views = [\n                        'day',\n                        'week',\n                        'month'\n                    ];\n                }\n                this._timeline();\n                this._toolbar();\n                this._footer();\n                this._adjustDimensions();\n                this._preventRefresh = true;\n                this.view(this.timeline._selectedViewName);\n                this._preventRefresh = false;\n                this._dataSource();\n                this._assignments();\n                this._dropDowns();\n                this._list();\n                this._dependencies();\n                this._resizable();\n                this._scrollable();\n                this._dataBind();\n                this._attachEvents();\n                this._createEditor();\n                kendo.notify(this);\n            },\n            events: [\n                'dataBinding',\n                'dataBound',\n                'add',\n                'edit',\n                'remove',\n                'cancel',\n                'save',\n                'change',\n                'navigate',\n                'moveStart',\n                'move',\n                'moveEnd',\n                'resizeStart',\n                'resize',\n                'resizeEnd',\n                'columnResize'\n            ],\n            options: {\n                name: 'Gantt',\n                autoBind: true,\n                navigatable: false,\n                selectable: true,\n                editable: true,\n                resizable: false,\n                columnResizeHandleWidth: defaultIndicatorWidth,\n                columns: [],\n                views: [],\n                dataSource: {},\n                dependencies: {},\n                resources: {},\n                assignments: {},\n                taskTemplate: null,\n                messages: {\n                    save: 'Save',\n                    cancel: 'Cancel',\n                    destroy: 'Delete',\n                    deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                    deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                    deleteTaskWindowTitle: 'Delete task',\n                    deleteDependencyWindowTitle: 'Delete dependency',\n                    views: {\n                        day: 'Day',\n                        week: 'Week',\n                        month: 'Month',\n                        year: 'Year',\n                        start: 'Start',\n                        end: 'End'\n                    },\n                    actions: {\n                        append: 'Add Task',\n                        addChild: 'Add Child',\n                        insertBefore: 'Add Above',\n                        insertAfter: 'Add Below',\n                        pdf: 'Export to PDF'\n                    },\n                    editor: {\n                        editorTitle: 'Task',\n                        resourcesEditorTitle: 'Resources',\n                        title: 'Title',\n                        start: 'Start',\n                        end: 'End',\n                        percentComplete: 'Complete',\n                        resources: 'Resources',\n                        assignButton: 'Assign',\n                        resourcesHeader: 'Resources',\n                        unitsHeader: 'Units'\n                    }\n                },\n                showWorkHours: true,\n                showWorkDays: true,\n                toolbar: null,\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n                workWeekStart: 1,\n                workWeekEnd: 5,\n                hourSpan: 1,\n                snap: true,\n                height: 600,\n                listWidth: '30%',\n                rowHeight: null\n            },\n            select: function (value) {\n                var list = this.list;\n                if (!value) {\n                    return list.select();\n                }\n                list.select(value);\n                return;\n            },\n            clearSelection: function () {\n                this.list.clearSelection();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._refreshHandler);\n                    this.dataSource.unbind('progress', this._progressHandler);\n                    this.dataSource.unbind('error', this._errorHandler);\n                }\n                if (this.dependencies) {\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler);\n                    this.dependencies.unbind('error', this._dependencyErrorHandler);\n                }\n                if (this.timeline) {\n                    this.timeline.unbind();\n                    this.timeline.destroy();\n                }\n                if (this.list) {\n                    this.list.unbind();\n                    this.list.destroy();\n                }\n                if (this.footerDropDown) {\n                    this.footerDropDown.destroy();\n                }\n                if (this.headerDropDown) {\n                    this.headerDropDown.destroy();\n                }\n                if (this._editor) {\n                    this._editor.destroy();\n                }\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n                this.toolbar.off(NS);\n                if (supportsMedia) {\n                    this._mediaQuery.removeListener(this._mediaQueryHandler);\n                    this._mediaQuery = null;\n                }\n                $(window).off('resize' + NS, this._resizeHandler);\n                $(this.wrapper).off(NS);\n                this.toolbar = null;\n                this.footer = null;\n            },\n            setOptions: function (options) {\n                var newOptions = kendo.deepExtend({}, this.options, options);\n                var events = this._events;\n                if (!options.views) {\n                    var selectedView = this.view().name;\n                    newOptions.views = $.map(this.options.views, function (view) {\n                        var isSettings = isPlainObject(view);\n                        var name = isSettings ? typeof view.type !== 'string' ? view.title : view.type : view;\n                        if (selectedView === name) {\n                            if (isSettings) {\n                                view.selected = true;\n                            } else {\n                                view = {\n                                    type: name,\n                                    selected: true\n                                };\n                            }\n                        } else if (isSettings) {\n                            view.selected = false;\n                        }\n                        return view;\n                    });\n                }\n                if (!options.dataSource) {\n                    newOptions.dataSource = this.dataSource;\n                }\n                if (!options.dependencies) {\n                    newOptions.dependencies = this.dependencies;\n                }\n                if (!options.resources) {\n                    newOptions.resources = this.resources;\n                }\n                if (!options.assignments) {\n                    newOptions.assignments = this.assignments;\n                }\n                this.destroy();\n                this.element.empty();\n                this.options = null;\n                this.init(this.element, newOptions, events);\n                Widget.fn._setEvents.call(this, newOptions);\n            },\n            _attachEvents: function () {\n                this._resizeHandler = proxy(this.resize, this, false);\n                $(window).on('resize' + NS, this._resizeHandler);\n            },\n            _wrapper: function () {\n                var ganttStyles = Gantt.styles;\n                var splitBarHandleClassName = [\n                    ganttStyles.icon,\n                    ganttStyles.resizeHandle\n                ].join(' ');\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n                this.wrapper = this.element.addClass(ganttStyles.wrapper).append('<div class=\\'' + ganttStyles.listWrapper + '\\'><div></div></div>').append('<div class=\\'' + ganttStyles.splitBarWrapper + '\\'><div class=\\'' + splitBarHandleClassName + '\\'></div></div>').append('<div class=\\'' + ganttStyles.timelineWrapper + '\\'><div></div></div>');\n                this.wrapper.find(DOT + ganttStyles.list).width(options.listWidth);\n                if (height) {\n                    this.wrapper.height(height);\n                }\n                if (width) {\n                    this.wrapper.width(width);\n                }\n                if (options.rowHeight) {\n                    this.wrapper.addClass(ganttStyles.rowHeight);\n                }\n            },\n            _toolbar: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var viewsSelector = DOT + ganttStyles.toolbar.views + ' > li';\n                var pdfSelector = DOT + ganttStyles.toolbar.pdfButton;\n                var toggleSelector = DOT + ganttStyles.buttonToggle;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var treelist = $(DOT + ganttStyles.list);\n                var timeline = $(DOT + ganttStyles.timeline);\n                var hoveredClassName = ganttStyles.hovered;\n                var actions = this.options.toolbar;\n                var actionsWrap = $('<div class=\\'' + ganttStyles.toolbar.actions + '\\'>');\n                var toolbar;\n                var views;\n                var toggleButton;\n                var handler = function (e) {\n                    if (e.matches) {\n                        treelist.css({\n                            'display': 'none',\n                            'max-width': 0\n                        });\n                    } else {\n                        treelist.css({\n                            'display': 'inline-block',\n                            'width': '30%',\n                            'max-width': 'none'\n                        });\n                        timeline.css('display', 'inline-block');\n                        that.refresh();\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\n                    }\n                    that._resize();\n                };\n                if (!isFunction(actions)) {\n                    actions = typeof actions === STRING ? actions : this._actions(actions);\n                    actions = proxy(kendo.template(actions), this);\n                }\n                toggleButton = $(TOGGLE_BUTTON_TEMPLATE({ styles: ganttStyles.toolbar }));\n                views = $(HEADER_VIEWS_TEMPLATE({\n                    ns: kendo.ns,\n                    views: this.timeline.views,\n                    styles: ganttStyles.toolbar\n                }));\n                actionsWrap.append(actions({}));\n                toolbar = $('<div class=\\'' + ganttStyles.toolbar.headerWrapper + '\\'>').append(toggleButton).append(views).append(actionsWrap);\n                if (views.find('li').length > 1) {\n                    views.prepend(VIEWBUTTONTEMPLATE({ styles: ganttStyles.toolbar }));\n                }\n                this.wrapper.prepend(toolbar);\n                this.toolbar = toolbar;\n                if (supportsMedia) {\n                    this._mediaQueryHandler = proxy(handler, this);\n                    this._mediaQuery = window.matchMedia('(max-width: 480px)');\n                    this._mediaQuery.addListener(this._mediaQueryHandler);\n                }\n                toolbar.on(CLICK + NS, viewsSelector, function (e) {\n                    e.preventDefault();\n                    var list = that.list;\n                    var name = $(this).attr(kendo.attr('name'));\n                    var currentView = views.find(DOT + ganttStyles.toolbar.currentView);\n                    if (currentView.is(':visible')) {\n                        currentView.parent().toggleClass(ganttStyles.toolbar.expanded);\n                    }\n                    if (list.editable && list.editable.trigger('validate')) {\n                        return;\n                    }\n                    if (!that.trigger('navigate', { view: name })) {\n                        that.view(name);\n                    }\n                }).on(CLICK + NS, pdfSelector, function (e) {\n                    e.preventDefault();\n                    that.saveAsPDF();\n                }).on(CLICK + NS, toggleSelector, function (e) {\n                    e.preventDefault();\n                    if (treelist.is(':visible')) {\n                        treelist.css({\n                            'display': 'none',\n                            'width': '0'\n                        });\n                        timeline.css({\n                            'display': 'inline-block',\n                            'width': '100%'\n                        });\n                        that.refresh();\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\n                    } else {\n                        timeline.css({\n                            'display': 'none',\n                            'width': 0\n                        });\n                        treelist.css({\n                            'display': 'inline-block',\n                            'width': '100%',\n                            'max-width': 'none'\n                        }).find(contentSelector).scrollTop(that.scrollTop);\n                    }\n                    that._resize();\n                });\n                this.wrapper.find(DOT + ganttStyles.toolbar.toolbar + ' li').hover(function () {\n                    $(this).addClass(hoveredClassName);\n                }, function () {\n                    $(this).removeClass(hoveredClassName);\n                });\n            },\n            _actions: function () {\n                var options = this.options;\n                var editable = options.editable;\n                var actions = options.toolbar;\n                var html = '';\n                if (!isArray(actions)) {\n                    if (editable && editable.create !== false) {\n                        actions = ['append'];\n                    } else {\n                        return html;\n                    }\n                }\n                for (var i = 0, length = actions.length; i < length; i++) {\n                    html += this._createButton(actions[i]);\n                }\n                return html;\n            },\n            _footer: function () {\n                var editable = this.options.editable;\n                if (!editable || editable.create === false) {\n                    return;\n                }\n                var ganttStyles = Gantt.styles.toolbar;\n                var messages = this.options.messages.actions;\n                var button = $(kendo.template(BUTTON_TEMPLATE)(extend(true, { styles: ganttStyles }, defaultCommands.append, { text: messages.append })));\n                var actionsWrap = $('<div class=\\'' + ganttStyles.actions + '\\'>').append(button);\n                var footer = $('<div class=\\'' + ganttStyles.footerWrapper + '\\'>').append(actionsWrap);\n                this.wrapper.append(footer);\n                this.footer = footer;\n            },\n            _createButton: function (command) {\n                var template = command.template || BUTTON_TEMPLATE;\n                var messages = this.options.messages.actions;\n                var commandName = typeof command === STRING ? command : command.name || command.text;\n                var className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-gantt-' + (commandName || '').replace(/\\s/g, '');\n                var options = {\n                    iconClass: '',\n                    action: '',\n                    text: commandName,\n                    className: className,\n                    styles: Gantt.styles.toolbar\n                };\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                if (isPlainObject(command)) {\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    }\n                    options = extend(true, options, command);\n                }\n                return kendo.template(template)(options);\n            },\n            _adjustDimensions: function () {\n                var element = this.element;\n                var ganttStyles = Gantt.styles;\n                var listSelector = DOT + ganttStyles.list;\n                var timelineSelector = DOT + ganttStyles.timeline;\n                var splitBarSelector = DOT + ganttStyles.splitBar;\n                var toolbarHeight = outerHeight(this.toolbar);\n                var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n                var totalHeight = element.height();\n                var totalWidth = element.width();\n                var splitBarWidth = outerWidth(element.find(splitBarSelector));\n                var treeListWidth = outerWidth(element.find(listSelector));\n                element.children([\n                    listSelector,\n                    timelineSelector,\n                    splitBarSelector\n                ].join(',')).height(totalHeight - (toolbarHeight + footerHeight)).end().children(timelineSelector).width(totalWidth - (splitBarWidth + treeListWidth));\n                if (totalWidth < treeListWidth + splitBarWidth) {\n                    element.find(listSelector).width(totalWidth - splitBarWidth);\n                }\n            },\n            _scrollTo: function (value) {\n                var view = this.timeline.view();\n                var list = this.list;\n                var attr = kendo.attr('uid');\n                var id = typeof value === 'string' ? value : value.closest('tr' + selector()).attr(attr);\n                var action;\n                var scrollTarget;\n                var scrollIntoView = function () {\n                    if (scrollTarget.length !== 0) {\n                        action();\n                    }\n                };\n                if (view.content.is(':visible')) {\n                    scrollTarget = view.content.find(selector(id));\n                    action = function () {\n                        view._scrollTo(scrollTarget);\n                    };\n                } else {\n                    scrollTarget = list.content.find(selector(id));\n                    action = function () {\n                        scrollTarget.get(0).scrollIntoView();\n                    };\n                }\n                scrollIntoView();\n            },\n            _dropDowns: function () {\n                var that = this;\n                var actionsSelector = DOT + Gantt.styles.toolbar.actions;\n                var actionMessages = this.options.messages.actions;\n                var timeline = this.timeline;\n                var editable = this.options.editable;\n                var handler = function (e) {\n                    var type = e.type;\n                    var orderId;\n                    var dataSource = that.dataSource;\n                    var task = dataSource._createNewModel();\n                    var selected = that.dataItem(that.select());\n                    var parent = dataSource.taskParent(selected);\n                    var firstSlot = timeline.view()._timeSlots()[0];\n                    var target = type === 'add' ? selected : parent;\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        return;\n                    }\n                    task.set('title', 'New task');\n                    if (target) {\n                        task.set('parentId', target.get('id'));\n                        task.set('start', target.get('start'));\n                        task.set('end', target.get('end'));\n                    } else {\n                        task.set('start', firstSlot.start);\n                        task.set('end', firstSlot.end);\n                    }\n                    if (type !== 'add') {\n                        orderId = selected.get('orderId');\n                        orderId = type === 'insert-before' ? orderId : orderId + 1;\n                    }\n                    that._createTask(task, orderId);\n                };\n                if (!editable || editable.create === false) {\n                    return;\n                }\n                this.footerDropDown = new TaskDropDown(this.footer.children(actionsSelector).eq(0), {\n                    messages: { actions: actionMessages },\n                    direction: 'up',\n                    animation: { open: { effects: 'slideIn:up' } },\n                    navigatable: that.options.navigatable\n                });\n                this.headerDropDown = new TaskDropDown(this.toolbar.children(actionsSelector).eq(0), {\n                    messages: { actions: actionMessages },\n                    navigatable: that.options.navigatable\n                });\n                this.footerDropDown.bind('command', handler);\n                this.headerDropDown.bind('command', handler);\n            },\n            _list: function () {\n                var that = this;\n                var navigatable = that.options.navigatable;\n                var ganttStyles = Gantt.styles;\n                var listWrapper = this.wrapper.find(DOT + ganttStyles.list);\n                var element = listWrapper.find('> div');\n                var toggleButtons = this.wrapper.find(DOT + ganttStyles.toolbar.actions + ' > button');\n                var options = {\n                    columns: this.options.columns || [],\n                    dataSource: this.dataSource,\n                    selectable: this.options.selectable,\n                    editable: this.options.editable,\n                    resizable: this.options.resizable,\n                    columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                    listWidth: outerWidth(listWrapper),\n                    resourcesField: this.resources.field,\n                    rowHeight: this.options.rowHeight\n                };\n                var columns = options.columns;\n                var column;\n                var restoreFocus = function () {\n                    if (navigatable) {\n                        that._current(that._cachedCurrent);\n                        focusTable(that.list.content.find('table'), true);\n                    }\n                    delete that._cachedCurrent;\n                };\n                for (var i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    if (column.field === this.resources.field && typeof column.editor !== 'function') {\n                        column.editor = proxy(this._createResourceEditor, this);\n                    }\n                }\n                this.list = new kendo.ui.GanttList(element, options);\n                this.list.bind('render', function () {\n                    that._navigatable();\n                }, true).bind('edit', function (e) {\n                    that._cachedCurrent = e.cell;\n                    if (that.trigger('edit', {\n                            task: e.model,\n                            container: e.cell\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('cancel', function (e) {\n                    if (that.trigger('cancel', {\n                            task: e.model,\n                            container: e.cell\n                        })) {\n                        e.preventDefault();\n                    }\n                    restoreFocus();\n                }).bind('update', function (e) {\n                    that._updateTask(e.task, e.updateInfo);\n                    restoreFocus();\n                }).bind('change', function () {\n                    that.trigger('change');\n                    var selection = that.list.select();\n                    if (selection.length) {\n                        toggleButtons.removeAttr('data-action', 'add');\n                        that.timeline.select('[data-uid=\\'' + selection.attr('data-uid') + '\\']');\n                    } else {\n                        toggleButtons.attr('data-action', 'add');\n                        that.timeline.clearSelection();\n                    }\n                }).bind('columnResize', function (e) {\n                    that.trigger('columnResize', {\n                        column: e.column,\n                        oldWidth: e.oldWidth,\n                        newWidth: e.newWidth\n                    });\n                });\n            },\n            _timeline: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n                var element = this.wrapper.find(DOT + ganttStyles.timeline + ' > div');\n                var currentViewSelector = DOT + ganttStyles.toolbar.currentView + ' > ' + DOT + ganttStyles.toolbar.link;\n                this.timeline = new kendo.ui.GanttTimeline(element, options);\n                this.timeline.bind('navigate', function (e) {\n                    var viewName = e.view.replace(/\\./g, '\\\\.').toLowerCase();\n                    var text = that.toolbar.find(DOT + ganttStyles.toolbar.views + ' > li').removeClass(ganttStyles.selected).end().find(DOT + ganttStyles.toolbar.viewButton + '-' + viewName).addClass(ganttStyles.selected).find(DOT + ganttStyles.toolbar.link).text();\n                    that.toolbar.find(currentViewSelector).text(text);\n                    that.refresh();\n                }).bind('moveStart', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (that.trigger('moveStart', { task: e.task })) {\n                        e.preventDefault();\n                    }\n                }).bind('move', function (e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n                    if (that.trigger('move', {\n                            task: task,\n                            start: start,\n                            end: end\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('moveEnd', function (e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n                    if (!that.trigger('moveEnd', {\n                            task: task,\n                            start: start,\n                            end: end\n                        })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\n                            start: start,\n                            end: end\n                        });\n                    }\n                }).bind('resizeStart', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (that.trigger('resizeStart', { task: e.task })) {\n                        e.preventDefault();\n                    }\n                }).bind('resize', function (e) {\n                    if (that.trigger('resize', {\n                            task: e.task,\n                            start: e.start,\n                            end: e.end\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('resizeEnd', function (e) {\n                    var task = e.task;\n                    var updateInfo = {};\n                    if (e.resizeStart) {\n                        updateInfo.start = e.start;\n                    } else {\n                        updateInfo.end = e.end;\n                    }\n                    if (!that.trigger('resizeEnd', {\n                            task: task,\n                            start: e.start,\n                            end: e.end\n                        })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                    }\n                }).bind('percentResizeStart', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        e.preventDefault();\n                    }\n                }).bind('percentResizeEnd', function (e) {\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                }).bind('dependencyDragStart', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        e.preventDefault();\n                    }\n                }).bind('dependencyDragEnd', function (e) {\n                    var dependency = that.dependencies._createNewModel({\n                        type: e.type,\n                        predecessorId: e.predecessor.id,\n                        successorId: e.successor.id\n                    });\n                    that._createDependency(dependency);\n                }).bind('select', function (e) {\n                    var editable = that.list.editable;\n                    if (editable) {\n                        editable.trigger('validate');\n                    }\n                    that.select('[data-uid=\\'' + e.uid + '\\']');\n                }).bind('editTask', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        return;\n                    }\n                    that.editTask(e.uid);\n                }).bind('clear', function () {\n                    that.clearSelection();\n                }).bind('removeTask', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        return;\n                    }\n                    that.removeTask(that.dataSource.getByUid(e.uid));\n                }).bind('removeDependency', function (e) {\n                    var editable = that.list.editable;\n                    if (editable && editable.trigger('validate')) {\n                        return;\n                    }\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\n                });\n            },\n            _dataSource: function () {\n                var options = this.options;\n                var dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (this.dataSource && this._refreshHandler) {\n                    this.dataSource.unbind('change', this._refreshHandler).unbind('progress', this._progressHandler).unbind('error', this._errorHandler);\n                } else {\n                    this._refreshHandler = proxy(this.refresh, this);\n                    this._progressHandler = proxy(this._requestStart, this);\n                    this._errorHandler = proxy(this._error, this);\n                }\n                this.dataSource = kendo.data.GanttDataSource.create(dataSource).bind('change', this._refreshHandler).bind('progress', this._progressHandler).bind('error', this._errorHandler);\n            },\n            _dependencies: function () {\n                var dependencies = this.options.dependencies || {};\n                var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n                if (this.dependencies && this._dependencyRefreshHandler) {\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler).unbind('error', this._dependencyErrorHandler);\n                } else {\n                    this._dependencyRefreshHandler = proxy(this.refreshDependencies, this);\n                    this._dependencyErrorHandler = proxy(this._error, this);\n                }\n                this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource).bind('change', this._dependencyRefreshHandler).bind('error', this._dependencyErrorHandler);\n            },\n            _resources: function () {\n                var resources = this.options.resources;\n                var dataSource = resources.dataSource || {};\n                this.resources = {\n                    field: 'resources',\n                    dataTextField: 'name',\n                    dataColorField: 'color',\n                    dataFormatField: 'format'\n                };\n                extend(this.resources, resources);\n                this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n            },\n            _assignments: function () {\n                var assignments = this.options.assignments;\n                var dataSource = assignments.dataSource || {};\n                if (this.assignments) {\n                    this.assignments.dataSource.unbind('change', this._assignmentsRefreshHandler);\n                } else {\n                    this._assignmentsRefreshHandler = proxy(this.refresh, this);\n                }\n                this.assignments = {\n                    dataTaskIdField: 'taskId',\n                    dataResourceIdField: 'resourceId',\n                    dataValueField: 'value'\n                };\n                extend(this.assignments, assignments);\n                this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n                this.assignments.dataSource.bind('change', this._assignmentsRefreshHandler);\n            },\n            _createEditor: function () {\n                var that = this;\n                var editor = this._editor = new PopupEditor(this.wrapper, extend({}, this.options, {\n                    target: this,\n                    resources: {\n                        field: this.resources.field,\n                        editor: proxy(this._createResourceEditor, this)\n                    },\n                    createButton: proxy(this._createPopupButton, this)\n                }));\n                editor.bind('cancel', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    if (that.trigger('cancel', {\n                            container: e.container,\n                            task: task\n                        })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    that.cancelTask();\n                }).bind('edit', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    if (that.trigger('edit', {\n                            container: e.container,\n                            task: task\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('save', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    that.saveTask(task, e.updateInfo);\n                }).bind('remove', function (e) {\n                    that.removeTask(e.model.uid);\n                }).bind('close', that._onDialogClose);\n            },\n            _onDialogClose: function () {\n            },\n            _createResourceEditor: function (container, options) {\n                var that = this;\n                var model = options instanceof ObservableObject ? options : options.model;\n                var id = model.get('id');\n                var messages = this.options.messages;\n                var resourcesField = that.resources.field;\n                var editor = this._resourceEditor = new ResourceEditor(container, {\n                    resourcesField: resourcesField,\n                    data: this._wrapResourceData(id),\n                    model: model,\n                    messages: extend({}, messages.editor),\n                    buttons: [\n                        {\n                            name: 'update',\n                            text: messages.save,\n                            className: Gantt.styles.primary\n                        },\n                        {\n                            name: 'cancel',\n                            text: messages.cancel\n                        }\n                    ],\n                    createButton: proxy(this._createPopupButton, this),\n                    save: function (e) {\n                        that._updateAssignments(e.model.get('id'), e.model.get(resourcesField));\n                    }\n                });\n                editor.open();\n            },\n            _createPopupButton: function (command) {\n                var commandName = command.name || command.text;\n                var options = {\n                    className: Gantt.styles.popup.button + ' k-gantt-' + (commandName || '').replace(/\\s/g, ''),\n                    text: commandName,\n                    attr: ''\n                };\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    if (command.className) {\n                        command.className += ' ' + options.className;\n                    }\n                    options = extend(true, options, command);\n                }\n                return kendo.template(COMMAND_BUTTON_TEMPLATE)(options);\n            },\n            view: function (type) {\n                return this.timeline.view(type);\n            },\n            range: function (range) {\n                var dataSource = this.dataSource;\n                var view = this.view();\n                var timeline = this.timeline;\n                if (range) {\n                    view.options.range = {\n                        start: range.start,\n                        end: range.end\n                    };\n                    timeline._render(dataSource.taskTree());\n                    timeline._renderDependencies(this.dependencies.view());\n                }\n                return {\n                    start: view.start,\n                    end: view.end\n                };\n            },\n            date: function (date) {\n                var view = this.view();\n                if (date) {\n                    view.options.date = date;\n                    view._scrollToDate(date);\n                }\n                return view.options.date;\n            },\n            dataItem: function (value) {\n                if (!value) {\n                    return null;\n                }\n                var list = this.list;\n                var element = list.content.find(value);\n                return list._modelFromElement(element);\n            },\n            setDataSource: function (dataSource) {\n                this.options.dataSource = dataSource;\n                this._dataSource();\n                this.list._setDataSource(this.dataSource);\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            setDependenciesDataSource: function (dependencies) {\n                this.options.dependencies = dependencies;\n                this._dependencies();\n                if (this.options.autoBind) {\n                    dependencies.fetch();\n                }\n            },\n            items: function () {\n                return this.wrapper.children('.k-task');\n            },\n            _updateAssignments: function (id, resources) {\n                var dataSource = this.assignments.dataSource;\n                var taskId = this.assignments.dataTaskIdField;\n                var resourceId = this.assignments.dataResourceIdField;\n                var hasMatch = false;\n                var assignments = new Query(dataSource.view()).filter({\n                    field: taskId,\n                    operator: 'eq',\n                    value: id\n                }).toArray();\n                var assignment;\n                var resource;\n                var value;\n                while (assignments.length) {\n                    assignment = assignments[0];\n                    for (var i = 0, length = resources.length; i < length; i++) {\n                        resource = resources[i];\n                        if (assignment.get(resourceId) === resource.get('id')) {\n                            value = resources[i].get('value');\n                            this._updateAssignment(assignment, value);\n                            resources.splice(i, 1);\n                            hasMatch = true;\n                            break;\n                        }\n                    }\n                    if (!hasMatch) {\n                        this._removeAssignment(assignment);\n                    }\n                    hasMatch = false;\n                    assignments.shift();\n                }\n                for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                    resource = resources[j];\n                    this._createAssignment(resource, id);\n                }\n                dataSource.sync();\n            },\n            cancelTask: function () {\n                var editor = this._editor;\n                var container = editor.container;\n                if (container) {\n                    editor.close();\n                }\n            },\n            editTask: function (uid) {\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\n                if (!task) {\n                    return;\n                }\n                var taskCopy = this.dataSource._createNewModel(task.toJSON());\n                taskCopy.uid = task.uid;\n                this.cancelTask();\n                this._editTask(taskCopy);\n            },\n            _editTask: function (task) {\n                this._editor.editTask(task);\n            },\n            saveTask: function (task, updateInfo) {\n                var editor = this._editor;\n                var container = editor.container;\n                var editable = editor.editable;\n                if (container && editable && editable.end()) {\n                    this._updateTask(task, updateInfo);\n                }\n            },\n            _updateTask: function (task, updateInfo) {\n                var resourcesField = this.resources.field;\n                if (!this.trigger('save', {\n                        task: task,\n                        values: updateInfo\n                    })) {\n                    this._preventRefresh = true;\n                    this.dataSource.update(task, updateInfo);\n                    if (updateInfo[resourcesField]) {\n                        this._updateAssignments(task.get('id'), updateInfo[resourcesField]);\n                    }\n                    this._syncDataSource();\n                }\n            },\n            _updateAssignment: function (assignment, value) {\n                var resourceValueField = this.assignments.dataValueField;\n                assignment.set(resourceValueField, value);\n            },\n            removeTask: function (uid) {\n                var that = this;\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\n                if (!task) {\n                    return;\n                }\n                this._taskConfirm(function (cancel) {\n                    if (!cancel) {\n                        that._removeTask(task);\n                    }\n                }, task);\n            },\n            _createTask: function (task, index) {\n                if (!this.trigger('add', {\n                        task: task,\n                        dependency: null\n                    })) {\n                    var dataSource = this.dataSource;\n                    this._preventRefresh = true;\n                    if (index === undefined) {\n                        dataSource.add(task);\n                    } else {\n                        dataSource.insert(index, task);\n                    }\n                    this._scrollToUid = task.uid;\n                    this._syncDataSource();\n                }\n            },\n            _createDependency: function (dependency) {\n                if (!this.trigger('add', {\n                        task: null,\n                        dependency: dependency\n                    })) {\n                    this._preventDependencyRefresh = true;\n                    this.dependencies.add(dependency);\n                    this._preventDependencyRefresh = false;\n                    this.dependencies.sync();\n                }\n            },\n            _createAssignment: function (resource, id) {\n                var assignments = this.assignments;\n                var dataSource = assignments.dataSource;\n                var taskId = assignments.dataTaskIdField;\n                var resourceId = assignments.dataResourceIdField;\n                var resourceValue = assignments.dataValueField;\n                var assignment = dataSource._createNewModel();\n                assignment[taskId] = id;\n                assignment[resourceId] = resource.get('id');\n                assignment[resourceValue] = resource.get('value');\n                dataSource.add(assignment);\n            },\n            removeDependency: function (uid) {\n                var that = this;\n                var dependency = typeof uid === 'string' ? this.dependencies.getByUid(uid) : uid;\n                if (!dependency) {\n                    return;\n                }\n                this._dependencyConfirm(function (cancel) {\n                    if (!cancel) {\n                        that._removeDependency(dependency);\n                    }\n                }, dependency);\n            },\n            _removeTaskDependencies: function (task, dependencies) {\n                this._preventDependencyRefresh = true;\n                for (var i = 0, length = dependencies.length; i < length; i++) {\n                    this.dependencies.remove(dependencies[i]);\n                }\n                this._preventDependencyRefresh = false;\n                this.dependencies.sync();\n            },\n            _removeTaskAssignments: function (task) {\n                var dataSource = this.assignments.dataSource;\n                var assignments = dataSource.view();\n                var filter = {\n                    field: this.assignments.dataTaskIdField,\n                    operator: 'eq',\n                    value: task.get('id')\n                };\n                assignments = new Query(assignments).filter(filter).toArray();\n                this._preventRefresh = true;\n                for (var i = 0, length = assignments.length; i < length; i++) {\n                    dataSource.remove(assignments[i]);\n                }\n                this._preventRefresh = false;\n                dataSource.sync();\n            },\n            _removeTask: function (task) {\n                var dependencies = this.dependencies.dependencies(task.id);\n                if (!this.trigger('remove', {\n                        task: task,\n                        dependencies: dependencies\n                    })) {\n                    this._removeTaskDependencies(task, dependencies);\n                    this._removeTaskAssignments(task);\n                    this._preventRefresh = true;\n                    if (this.dataSource.remove(task)) {\n                        this._syncDataSource();\n                    }\n                    this._preventRefresh = false;\n                }\n            },\n            _removeDependency: function (dependency) {\n                if (!this.trigger('remove', {\n                        task: null,\n                        dependencies: [dependency]\n                    })) {\n                    if (this.dependencies.remove(dependency)) {\n                        this.dependencies.sync();\n                    }\n                }\n            },\n            _removeAssignment: function (assignment) {\n                this.assignments.dataSource.remove(assignment);\n            },\n            _taskConfirm: function (callback, task) {\n                var messages = this.options.messages;\n                this._confirm(callback, {\n                    model: task,\n                    text: messages.deleteTaskConfirmation,\n                    title: messages.deleteTaskWindowTitle\n                });\n            },\n            _dependencyConfirm: function (callback, dependency) {\n                var messages = this.options.messages;\n                this._confirm(callback, {\n                    model: dependency,\n                    text: messages.deleteDependencyConfirmation,\n                    title: messages.deleteDependencyWindowTitle\n                });\n            },\n            _confirm: function (callback, options) {\n                var editable = this.options.editable;\n                var messages;\n                var buttons;\n                if (editable === true || editable.confirmation !== false) {\n                    messages = this.options.messages;\n                    buttons = [\n                        {\n                            name: 'delete',\n                            text: messages.destroy,\n                            className: Gantt.styles.primary,\n                            click: function () {\n                                callback();\n                            }\n                        },\n                        {\n                            name: 'cancel',\n                            text: messages.cancel,\n                            click: function () {\n                                callback(true);\n                            }\n                        }\n                    ];\n                    this.showDialog(extend(true, {}, options, { buttons: buttons }));\n                } else {\n                    callback();\n                }\n            },\n            showDialog: function (options) {\n                this._editor.showDialog(options);\n            },\n            refresh: function () {\n                if (this._preventRefresh || this.list.editable) {\n                    return;\n                }\n                this._progress(false);\n                var dataSource = this.dataSource;\n                var taskTree = dataSource.taskTree();\n                var scrollToUid = this._scrollToUid;\n                var current;\n                var cachedUid;\n                var cachedIndex = -1;\n                if (this.current) {\n                    cachedUid = this.current.closest('tr').attr(kendo.attr('uid'));\n                    cachedIndex = this.current.index();\n                }\n                if (this.trigger('dataBinding')) {\n                    return;\n                }\n                if (this.resources.dataSource.data().length !== 0) {\n                    this._assignResources(taskTree);\n                }\n                if (this._editor) {\n                    this._editor.close();\n                }\n                this.clearSelection();\n                this.list._render(taskTree);\n                this.timeline._render(taskTree);\n                this.timeline._renderDependencies(this.dependencies.view());\n                if (scrollToUid) {\n                    this._scrollTo(scrollToUid);\n                    this.select(selector(scrollToUid));\n                }\n                if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                    current = this.list.content.find('tr' + selector(scrollToUid || cachedUid) + ' > td:eq(' + cachedIndex + ')');\n                    this._current(current);\n                }\n                this._scrollToUid = null;\n                this.trigger('dataBound');\n            },\n            refreshDependencies: function () {\n                if (this._preventDependencyRefresh) {\n                    return;\n                }\n                if (this.trigger('dataBinding')) {\n                    return;\n                }\n                this.timeline._renderDependencies(this.dependencies.view());\n                this.trigger('dataBound');\n            },\n            _assignResources: function (taskTree) {\n                var resources = this.resources;\n                var assignments = this.assignments;\n                var groupAssigments = function () {\n                    var data = assignments.dataSource.view();\n                    var group = { field: assignments.dataTaskIdField };\n                    data = new Query(data).group(group).toArray();\n                    return data;\n                };\n                var assigments = groupAssigments();\n                var applyTaskResource = function (task, action) {\n                    var taskId = task.get('id');\n                    kendo.setter(resources.field)(task, new ObservableArray([]));\n                    for (var i = 0, length = assigments.length; i < length; i++) {\n                        if (assigments[i].value === taskId) {\n                            action(task, assigments[i].items);\n                        }\n                    }\n                };\n                var wrapTask = function (task, items) {\n                    for (var j = 0, length = items.length; j < length; j++) {\n                        var item = items[j];\n                        var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                        var resourceValue = item.get(assignments.dataValueField);\n                        var resourcedId = item.get(assignments.dataResourceIdField);\n                        var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                        var formatedValue = kendo.toString(resourceValue, valueFormat);\n                        task[resources.field].push(new ObservableObject({\n                            id: resourcedId,\n                            name: resource.get(resources.dataTextField),\n                            color: resource.get(resources.dataColorField),\n                            value: resourceValue,\n                            formatedValue: formatedValue\n                        }));\n                    }\n                };\n                for (var i = 0, length = taskTree.length; i < length; i++) {\n                    applyTaskResource(taskTree[i], wrapTask);\n                }\n            },\n            _wrapResourceData: function (id) {\n                var that = this;\n                var result = [];\n                var resource;\n                var resources = this.resources.dataSource.view();\n                var assignments = this.assignments.dataSource.view();\n                var taskAssignments = new Query(assignments).filter({\n                    field: that.assignments.dataTaskIdField,\n                    operator: 'eq',\n                    value: id\n                }).toArray();\n                var valuePerResource = function (id) {\n                    var resourceValue = null;\n                    new Query(taskAssignments).filter({\n                        field: that.assignments.dataResourceIdField,\n                        operator: 'eq',\n                        value: id\n                    }).select(function (assignment) {\n                        resourceValue += assignment.get(that.assignments.dataValueField);\n                    });\n                    return resourceValue;\n                };\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n                    result.push({\n                        id: resource.get('id'),\n                        name: resource.get(that.resources.dataTextField),\n                        format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                        value: valuePerResource(resource.id)\n                    });\n                }\n                return result;\n            },\n            _syncDataSource: function () {\n                this._preventRefresh = false;\n                this._requestStart();\n                this.dataSource.sync();\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _progress: function (toggle) {\n                kendo.ui.progress(this.element, toggle);\n            },\n            _resizable: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\n                var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\n                var treeListWidth;\n                var timelineWidth;\n                var timelineScroll;\n                this._resizeDraggable = wrapper.find(DOT + ganttStyles.splitBar).height(treeListWrapper.height()).hover(function () {\n                    $(this).addClass(ganttStyles.splitBarHover);\n                }, function () {\n                    $(this).removeClass(ganttStyles.splitBarHover);\n                }).end().kendoResizable({\n                    orientation: 'horizontal',\n                    handle: DOT + ganttStyles.splitBar,\n                    'start': function () {\n                        treeListWidth = treeListWrapper.width();\n                        timelineWidth = timelineWrapper.width();\n                        timelineScroll = timelineWrapper.find(contentSelector).scrollLeft();\n                    },\n                    'resize': function (e) {\n                        var delta = e.x.initialDelta;\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n                        if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\n                            return;\n                        }\n                        treeListWrapper.width(treeListWidth + delta);\n                        timelineWrapper.width(timelineWidth - delta);\n                        timelineWrapper.find(contentSelector).scrollLeft(timelineScroll + delta);\n                        that.timeline.view()._renderCurrentTime();\n                    }\n                }).data('kendoResizable');\n            },\n            _scrollable: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n                var timelineHeader = this.timeline.element.find(headerSelector);\n                var timelineContent = this.timeline.element.find(contentSelector);\n                var treeListHeader = this.list.element.find(headerSelector);\n                var treeListContent = this.list.element.find(contentSelector);\n                if (mobileOS) {\n                    treeListContent.css('overflow-y', 'auto');\n                }\n                timelineContent.on('scroll', function () {\n                    that.scrollTop = this.scrollTop;\n                    timelineHeader.scrollLeft(this.scrollLeft);\n                    treeListContent.scrollTop(this.scrollTop);\n                });\n                treeListContent.on('scroll', function () {\n                    treeListHeader.scrollLeft(this.scrollLeft);\n                }).on('DOMMouseScroll' + NS + ' mousewheel' + NS, function (e) {\n                    var scrollTop = timelineContent.scrollTop();\n                    var delta = kendo.wheelDeltaY(e);\n                    if (delta) {\n                        e.preventDefault();\n                        $(e.currentTarget).one('wheel' + NS, false);\n                        timelineContent.scrollTop(scrollTop + -delta);\n                    }\n                });\n            },\n            _navigatable: function () {\n                var that = this;\n                var navigatable = this.options.navigatable;\n                var editable = this.options.editable;\n                var headerTable = this.list.header.find('table');\n                var contentTable = this.list.content.find('table');\n                var ganttStyles = Gantt.styles;\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\n                var tables = headerTable.add(contentTable);\n                var attr = selector();\n                var cellIndex;\n                var expandState = {\n                    collapse: false,\n                    expand: true\n                };\n                var scroll = function (reverse) {\n                    var width = that.timeline.view()._timeSlots()[0].offsetWidth;\n                    timelineContent.scrollLeft(timelineContent.scrollLeft() + (reverse ? -width : width));\n                };\n                var moveVertical = function (method) {\n                    var parent = that.current.parent('tr' + selector());\n                    var index = that.current.index();\n                    var subling = parent[method]();\n                    if (that.select().length !== 0) {\n                        that.clearSelection();\n                    }\n                    if (subling.length !== 0) {\n                        that._current(subling.children('td:eq(' + index + ')'));\n                        that._scrollTo(that.current);\n                    } else {\n                        if (that.current.is('td') && method == 'prev') {\n                            focusTable(headerTable);\n                        } else if (that.current.is('th') && method == 'next') {\n                            focusTable(contentTable);\n                        }\n                    }\n                };\n                var moveHorizontal = function (method) {\n                    var subling = that.current[method]();\n                    if (subling.length !== 0) {\n                        that._current(subling);\n                        cellIndex = that.current.index();\n                    }\n                };\n                var toggleExpandedState = function (value) {\n                    var model = that.dataItem(that.current);\n                    if (model.summary && model.expanded !== value) {\n                        model.set('expanded', value);\n                    }\n                };\n                var deleteAction = function () {\n                    var editable = that.options.editable;\n                    if (!editable || editable.destroy === false || that.list.editable) {\n                        return;\n                    }\n                    var selectedTask = that.select();\n                    var uid = kendo.attr('uid');\n                    if (selectedTask.length) {\n                        that.removeTask(selectedTask.attr(uid));\n                    }\n                };\n                $(this.wrapper).on('mousedown' + NS, 'tr' + attr + ', div' + attr + ':not(' + DOT + ganttStyles.line + ')', function (e) {\n                    var currentTarget = $(e.currentTarget);\n                    var isInput = $(e.target).is(':button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap');\n                    var current;\n                    if (e.ctrlKey) {\n                        return;\n                    }\n                    if (navigatable) {\n                        if (currentTarget.is('tr')) {\n                            current = $(e.target).closest('td');\n                        } else {\n                            current = that.list.content.find('tr' + selector(currentTarget.attr(kendo.attr('uid'))) + ' > td:first');\n                        }\n                        that._current(current);\n                    }\n                    if ((navigatable || editable) && !isInput) {\n                        that._focusTimeout = setTimeout(function () {\n                            focusTable(that.list.content.find('table'), true);\n                        }, 2);\n                    }\n                });\n                if (navigatable !== true) {\n                    contentTable.on('keydown' + NS, function (e) {\n                        if (e.keyCode == keys.DELETE) {\n                            deleteAction();\n                        }\n                    });\n                    return;\n                }\n                tables.on('focus' + NS, function () {\n                    var selector = this === contentTable.get(0) ? 'td' : 'th';\n                    var selection = that.select();\n                    var current = that.current || $(selection.length ? selection : this).find(selector + ':eq(' + (cellIndex || 0) + ')');\n                    that._current(current);\n                }).on('blur' + NS, function () {\n                    that._current();\n                    if (this == headerTable) {\n                        $(this).attr(TABINDEX, -1);\n                    }\n                }).on('keydown' + NS, function (e) {\n                    var key = e.keyCode;\n                    var isCell;\n                    if (!that.current) {\n                        return;\n                    }\n                    isCell = that.current.is('td');\n                    switch (key) {\n                    case keys.RIGHT:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scroll();\n                        } else if (e.ctrlKey) {\n                            toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\n                        } else {\n                            moveHorizontal(isRtl ? 'prev' : 'next');\n                        }\n                        break;\n                    case keys.LEFT:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scroll(true);\n                        } else if (e.ctrlKey) {\n                            toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\n                        } else {\n                            moveHorizontal(isRtl ? 'next' : 'prev');\n                        }\n                        break;\n                    case keys.UP:\n                        e.preventDefault();\n                        moveVertical('prev');\n                        break;\n                    case keys.DOWN:\n                        e.preventDefault();\n                        moveVertical('next');\n                        break;\n                    case keys.SPACEBAR:\n                        e.preventDefault();\n                        if (isCell) {\n                            that.select(that.current.closest('tr'));\n                        }\n                        break;\n                    case keys.ENTER:\n                        e.preventDefault();\n                        if (isCell) {\n                            if (that.options.editable && that.options.editable.update !== false) {\n                                that._cachedCurrent = that.current;\n                                that.list._startEditHandler(that.current);\n                                $(this).one('keyup', function (e) {\n                                    e.stopPropagation();\n                                });\n                            }\n                        } else {\n                            that.current.children('a.k-link').click();\n                        }\n                        break;\n                    case keys.ESC:\n                        e.stopPropagation();\n                        break;\n                    case keys.DELETE:\n                        if (isCell) {\n                            deleteAction();\n                        }\n                        break;\n                    default:\n                        if (key >= 49 && key <= 57) {\n                            that.view(that.timeline._viewByIndex(key - 49));\n                        }\n                        break;\n                    }\n                });\n            },\n            _current: function (element) {\n                var ganttStyles = Gantt.styles;\n                var activeElement;\n                if (this.current && this.current.length) {\n                    this.current.removeClass(ganttStyles.focused).removeAttr('id');\n                }\n                if (element && element.length) {\n                    this.current = element.addClass(ganttStyles.focused).attr('id', ACTIVE_CELL);\n                    activeElement = $(kendo._activeElement());\n                    if (activeElement.is('table') && this.wrapper.find(activeElement).length > 0) {\n                        activeElement.removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_CELL);\n                    }\n                } else {\n                    this.current = null;\n                }\n            },\n            _dataBind: function () {\n                var that = this;\n                if (that.options.autoBind) {\n                    this._preventRefresh = true;\n                    this._preventDependencyRefresh = true;\n                    var promises = $.map([\n                        this.dataSource,\n                        this.dependencies,\n                        this.resources.dataSource,\n                        this.assignments.dataSource\n                    ], function (dataSource) {\n                        return dataSource.fetch();\n                    });\n                    $.when.apply(null, promises).done(function () {\n                        that._preventRefresh = false;\n                        that._preventDependencyRefresh = false;\n                        that.refresh();\n                    });\n                }\n            },\n            _resize: function () {\n                this._adjustDimensions();\n                this.timeline.view()._adjustHeight();\n                this.timeline.view()._renderCurrentTime();\n                this.list._adjustHeight();\n            }\n        });\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Gantt.fn);\n            Gantt.fn._drawPDF = function () {\n                var ganttStyles = Gantt.styles;\n                var listClass = '.' + ganttStyles.list;\n                var listWidth = this.wrapper.find(listClass).width();\n                var content = this.wrapper.clone();\n                content.find(listClass).css('width', listWidth);\n                return this._drawPDFShadow({ content: content }, { avoidLinks: this.options.pdf.avoidLinks });\n            };\n        }\n        kendo.ui.plugin(Gantt);\n        extend(true, Gantt, { styles: ganttStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}