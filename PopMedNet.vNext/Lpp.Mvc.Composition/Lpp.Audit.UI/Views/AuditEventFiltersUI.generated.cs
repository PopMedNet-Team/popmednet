#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.34014
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Lpp.Audit.UI.Views
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Lpp;
    using Lpp.Audit;
    using Lpp.Audit.UI;
    using Lpp.Audit.UI.Models;
    using Lpp.Mvc;
    using Lpp.Utilities.Legacy;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/AuditEventFiltersUI.cshtml")]
    public partial class AuditEventFiltersUI : System.Web.Mvc.WebViewPage<AuditEventFiltersUIModel>
    {
        public AuditEventFiltersUI()
        {
        }
        public override void Execute()
        {
            
            #line 2 "..\..\Views\AuditEventFiltersUI.cshtml"
      
    var id = Html.UniqueId();
    this.Stylesheet( "FiltersUI.css" );

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n<input");

WriteLiteral(" type=\"hidden\"");

WriteAttribute("name", Tuple.Create(" name=\"", 138), Tuple.Create("\"", 161)
            
            #line 7 "..\..\Views\AuditEventFiltersUI.cshtml"
, Tuple.Create(Tuple.Create("", 145), Tuple.Create<System.Object, System.Int32>(Model.FieldName
            
            #line default
            #line hidden
, 145), false)
);

WriteAttribute("id", Tuple.Create(" id=\"", 162), Tuple.Create("\"", 173)
, Tuple.Create(Tuple.Create("", 167), Tuple.Create("f", 167), true)
            
            #line 7 "..\..\Views\AuditEventFiltersUI.cshtml"
, Tuple.Create(Tuple.Create("", 168), Tuple.Create<System.Object, System.Int32>(id
            
            #line default
            #line hidden
, 168), false)
);

WriteLiteral(" value=\"\"");

WriteLiteral(" />\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n    var onChanged_");

            
            #line 9 "..\..\Views\AuditEventFiltersUI.cshtml"
              Write(id);

            
            #line default
            #line hidden
WriteLiteral(" = (function(){\r\n        var state = { ");

            
            #line 10 "..\..\Views\AuditEventFiltersUI.cshtml"
                 Write(string.Join( ",", from k in Model.InitialState
                                         from d in k
                                         where d != null 
                                         select string.Format( "'{0}/{1}': '{2}'", k.Key.ID, d.FactoryId, d.Display.ValueAsString.Replace(",", ",,") )
                    ));

            
            #line default
            #line hidden
WriteLiteral(" };\r\n\r\n        var field = $(\"#f");

            
            #line 16 "..\..\Views\AuditEventFiltersUI.cshtml"
                     Write(id);

            
            #line default
            #line hidden
WriteLiteral("\");\r\n        function updateField() {\r\n            var val = $.map( \r\n           " +
"     $(\"#");

            
            #line 19 "..\..\Views\AuditEventFiltersUI.cshtml"
                Write(id);

            
            #line default
            #line hidden
WriteLiteral(@" input[name=EventKinds]:checked""), function(cb) {
                    var evt = $(cb).attr(""value"");
                    var flt = $(cb).closest(""tr"").find("".Filter"").attr(""filter-id"");
                    if ( !evt ) return null;
                    var key = evt + ""/"" + (flt||"""");
                    return key + "":"" + (state[key]||"""").replace("","", "",,"")
                } )
                .join();

            field.val( val );
        }

        return function ( kind, filter, st ) { 
            if ( typeof kind != ""undefined"" ) state[kind + '/' + filter] = st; 
            updateField(); 
        };
    })();

    $(function() {
        $(""#");

            
            #line 38 "..\..\Views\AuditEventFiltersUI.cshtml"
        Write(id);

            
            #line default
            #line hidden
WriteLiteral(" input[name=EventKinds]\").bind(\"click change\", function() {\r\n            $(this)." +
"closest(\"tr\").find(\".Filter.ui-groupbox\").toggle( $(this).prop(\"checked\") );\r\n  " +
"          onChanged_");

            
            #line 40 "..\..\Views\AuditEventFiltersUI.cshtml"
                  Write(id);

            
            #line default
            #line hidden
WriteLiteral("();\r\n        } );\r\n    });\r\n</script>\r\n<table");

WriteAttribute("id", Tuple.Create(" id=\"", 1660), Tuple.Create("\"", 1668)
            
            #line 44 "..\..\Views\AuditEventFiltersUI.cshtml"
, Tuple.Create(Tuple.Create("", 1665), Tuple.Create<System.Object, System.Int32>(id
            
            #line default
            #line hidden
, 1665), false)
);

WriteLiteral(" class=\"FiltersUI\"");

WriteLiteral(">\r\n");

            
            #line 45 "..\..\Views\AuditEventFiltersUI.cshtml"
 foreach ( var k in Model.DefaultFilterUIs )
{
    var kindFilters = Model.InitialState[k.Key].EmptyIfNull();

            
            #line default
            #line hidden
WriteLiteral("    <tr>\r\n        <td");

WriteLiteral(" class=\"Checkbox\"");

WriteLiteral("><input");

WriteLiteral(" type=\"checkbox\"");

WriteLiteral(" name=\"EventKinds\"");

WriteAttribute("value", Tuple.Create(" value=\"", 1882), Tuple.Create("\"", 1899)
            
            #line 49 "..\..\Views\AuditEventFiltersUI.cshtml"
, Tuple.Create(Tuple.Create("", 1890), Tuple.Create<System.Object, System.Int32>(k.Key.ID
            
            #line default
            #line hidden
, 1890), false)
);

WriteLiteral(" ");

            
            #line 49 "..\..\Views\AuditEventFiltersUI.cshtml"
                                                                                   Write(Html.Raw( kindFilters.Any() ? "checked=\"checked\" " : "" ));

            
            #line default
            #line hidden
WriteLiteral("/></td>\r\n        <td");

WriteLiteral(" class=\"EventName\"");

WriteLiteral(">");

            
            #line 50 "..\..\Views\AuditEventFiltersUI.cshtml"
                         Write(k.Key.Name);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n        <td");

WriteLiteral(" class=\"EventFilter\"");

WriteLiteral(">\r\n");

            
            #line 52 "..\..\Views\AuditEventFiltersUI.cshtml"
            
            
            #line default
            #line hidden
            
            #line 52 "..\..\Views\AuditEventFiltersUI.cshtml"
             foreach( var s in kindFilters.DefaultIfEmpty( k.Value ).Where( x => x != null && x.Display != null ) )
            {

            
            #line default
            #line hidden
WriteLiteral("                <div");

WriteLiteral(" class=\"Filter ui-groupbox\"");

            
            #line 54 "..\..\Views\AuditEventFiltersUI.cshtml"
                                          Write(Html.Raw( kindFilters.Any() ? "" : " style=\"display: none\"" ));

            
            #line default
            #line hidden
WriteLiteral(" filter-id=\"");

            
            #line 54 "..\..\Views\AuditEventFiltersUI.cshtml"
                                                                                                                      Write(s.FactoryId);

            
            #line default
            #line hidden
WriteLiteral("\">\r\n                    <div");

WriteLiteral(" class=\"ui-groupbox-header\"");

WriteLiteral("><span>Filter</span></div>\r\n");

WriteLiteral("                    ");

            
            #line 56 "..\..\Views\AuditEventFiltersUI.cshtml"
               Write(s.Display.Render( Html, string.Format( "function( state ) {{ onChanged_{0}( '{1}', '{2}', state ) }}", id, k.Key.ID, s.FactoryId ) ));

            
            #line default
            #line hidden
WriteLiteral("\r\n                </div>\r\n");

            
            #line 58 "..\..\Views\AuditEventFiltersUI.cshtml"
            }

            
            #line default
            #line hidden
WriteLiteral("        </td>\r\n    </tr>\r\n");

            
            #line 61 "..\..\Views\AuditEventFiltersUI.cshtml"
}

            
            #line default
            #line hidden
WriteLiteral("</table>");

        }
    }
}
#pragma warning restore 1591
