@{
    ViewBag.Title = "Details";
}

@section Head {
    <script type="module" src="@Url.Content("~/js/Tasks/details.js")"></script>
}
    <article class="panel panel-default" data-bind="css: {visible: true}">
        <div class="panel-heading">
            <div class="progress pull-right" style="width: 150px;">
                <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" data-bind="style: {width: Task.PercentComplete() + '%'}, css: { 'progress-bar-danger': Task.PercentComplete() <= 50, 'progress-bar-warning': Task.PercentComplete() > 50 && Task.PercentComplete() < 100, 'progress-bar-success': Task.PercentComplete() >= 100 }"></div>
            </div>

            <ol class="breadcrumb">
                <li><a href="/">Home</a></li>
                <li class="active"><span data-bind="text: Task.Subject"></span></li>
            </ol>
        </div>
        <div class="panel-body">
            <form role="form">
                <fieldset>
                    <div class="row">
                        <div class="col-sm-9 form-group">
                            <label for="txtSubject">Subject<em>*</em></label>
                            <input type="text" id="txtSubject" maxlength="255" class="form-control" required data-bind="value: Task.Subject" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="dtCreatedOn">Created On</label>
                            <p class="form-control-static" id="dtCreatedOn" data-bind="text: kendo.format('{0:G}', Task.CreatedOn())"></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 form-group">
                            <label for="dtStartedOn">Started On</label>
                            <input type="date" required data-bind="kendoDatePicker: {value: Task.StartOn}" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="dtDueDate">Due Date</label>
                            <input type="date" data-bind="kendoDatePicker: {value: Task.DueDate}" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="dtEndOn">Completed On</label>
                            <input type="date" data-bind="kendoDatePicker: {value: Task.EndOn}" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="dtEstCompleteOn">Est. Completion Date</label>
                            <input type="date" data-bind="kendoDatePicker: {value: Task.EstimatedCompletedOn}" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-3 form-group">
                            <label for="cboPriorities">Priority<em>*</em></label>
                            <input type="text" id="cboPriorities" required data-bind="kendoDropDownList: {value: Task.Priority, data: PrioritiesTranslation, dataValueField: 'value', dataTextField: 'text'}" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="cboStatuses">Status<em>*</em></label><br />
                            <input type="text" id="cboStatuses" required data-bind="kendoDropDownList: {value: Task.Status, data: TaskStatusesTranslation, dataValueField: 'value', dataTextField: 'text'}" />
                        </div>
                        <div class="col-sm-3 form-group">
                            <label for="cboPercentComplete">% Complete<em>*</em></label>
                            <input type="text" id="cboPercentComplete" required data-bind="kendoNumericTextBox: {value: Task.PercentComplete, min: 0, max: 100}" />
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12 form-group">
                            <label for="txtBody">Content</label>
                            <textarea id="txtBody" data-bind="kendoEditor:{value: Task.Body,  encoded: true, tools:EditorTools}"></textarea>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <nav class="panel-footer right">
            <button class="btn btn-warning btn-sm pull-right" id="btnCancel" data-bind="click: Cancel" style="margin-left: 10px;"><img src="@Url.Content("~/images/Cancel24.png")" alt="Cancel" />Cancel</button>
            <button class="btn btn-success btn-sm pull-right" id="btnSave" data-bind="click: Save.bind($root)"><img src="@Url.Content("~/images/Save24.png")" alt="Save" />Save</button>
            <br class="clear" />
        </nav>

    </article>